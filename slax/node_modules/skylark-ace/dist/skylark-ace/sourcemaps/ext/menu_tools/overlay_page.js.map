{"version":3,"sources":["ext/menu_tools/overlay_page.js"],"names":["define","require","exports","module","dom","cssText","importCssString","overlayPage","editor","contentElement","top","right","bottom","left","closer","document","createElement","contentContainer","documentEscListener","e","keyCode","click","style","addEventListener","removeEventListener","parentNode","removeChild","focus","stopPropagation","wrapper","position","closeButton","className","appendChild","body","blur"],"mappings":";;;;;;;AA6CAA,OAAO,SAASC,EAASC,EAASC,GAClC,aACA,IAAIC,EAAMH,EAAQ,iBACdI,EAAUJ,EAAQ,4CACtBG,EAAIE,gBAAgBD,GAepBF,EAAOD,QAAQK,YAAc,SAAqBC,EAAQC,EAAgBC,EAAKC,EAAOC,EAAQC,GAC1FH,EAAMA,EAAM,QAAUA,EAAM,IAAM,GAClCE,EAASA,EAAS,WAAaA,EAAS,IAAM,GAC9CD,EAAQA,EAAQ,UAAYA,EAAQ,IAAM,GAC1CE,EAAOA,EAAO,SAAWA,EAAO,IAAM,GAEtC,IAAIC,EAASC,SAASC,cAAc,OAChCC,EAAmBF,SAASC,cAAc,OAE9C,SAASE,EAAoBC,GACP,KAAdA,EAAEC,SACFN,EAAOO,QAIfP,EAAOQ,MAAMjB,QAAU,gIAIvBS,EAAOS,iBAAiB,QAAS,WAC7BR,SAASS,oBAAoB,UAAWN,GACxCJ,EAAOW,WAAWC,YAAYZ,GAC9BN,EAAOmB,QACPb,EAAS,OAGbC,SAASQ,iBAAiB,UAAWL,GAErCD,EAAiBK,MAAMjB,QAAUK,EAAMC,EAAQC,EAASC,EACxDI,EAAiBM,iBAAiB,QAAS,SAASJ,GAChDA,EAAES,oBAGN,IAAIC,EAAUzB,EAAIY,cAAc,OAChCa,EAAQP,MAAMQ,SAAW,WAEzB,IAAIC,EAAc3B,EAAIY,cAAc,OACpCe,EAAYC,UAAY,kBACxBD,EAAYR,iBAAiB,QAAS,WAClCT,EAAOO,UAGXQ,EAAQI,YAAYF,GACpBd,EAAiBgB,YAAYJ,GAE7BZ,EAAiBgB,YAAYxB,GAC7BK,EAAOmB,YAAYhB,GACnBF,SAASmB,KAAKD,YAAYnB,GAC1BN,EAAO2B","file":"../../../ext/menu_tools/overlay_page.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\r\n * Distributed under the BSD license:\r\n *\r\n * Copyright (c) 2013 Matthew Christopher Kastor-Inare III, Atropa Inc. Intl\r\n * All rights reserved.\r\n *\r\n * Contributed to Ajax.org under the BSD license.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *     * Redistributions of source code must retain the above copyright\r\n *       notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above copyright\r\n *       notice, this list of conditions and the following disclaimer in the\r\n *       documentation and/or other materials provided with the distribution.\r\n *     * Neither the name of Ajax.org B.V. nor the\r\n *       names of its contributors may be used to endorse or promote products\r\n *       derived from this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * ***** END LICENSE BLOCK ***** */\r\n\r\n/*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\r\n/*global define, require */\r\n\r\n/**\r\n * Overlay Page\r\n * @fileOverview Overlay Page <br />\r\n * Generates an overlay for displaying menus. The overlay is an absolutely\r\n *  positioned div.\r\n * @author <a href=\"mailto:matthewkastor@gmail.com\">\r\n *  Matthew Christopher Kastor-Inare III </a><br />\r\n *  ☭ Hial Atropa!! ☭\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n'use strict';\r\nvar dom = require(\"../../lib/dom\");\r\nvar cssText = require(\"../../requirejs/text!./settings_menu.css\");\r\ndom.importCssString(cssText);\r\n\r\n/**\r\n * Generates an overlay for displaying menus. The overlay is an absolutely\r\n *  positioned div.\r\n * @author <a href=\"mailto:matthewkastor@gmail.com\">\r\n *  Matthew Christopher Kastor-Inare III </a><br />\r\n *  ☭ Hial Atropa!! ☭\r\n * @param {DOMElement} contentElement Any element which may be presented inside\r\n *  a div.\r\n * @param {string|number} top absolute position value.\r\n * @param {string|number} right absolute position value.\r\n * @param {string|number} bottom absolute position value.\r\n * @param {string|number} left absolute position value.\r\n */\r\nmodule.exports.overlayPage = function overlayPage(editor, contentElement, top, right, bottom, left) {\r\n    top = top ? 'top: ' + top + ';' : '';\r\n    bottom = bottom ? 'bottom: ' + bottom + ';' : '';\r\n    right = right ? 'right: ' + right + ';' : '';\r\n    left = left ? 'left: ' + left + ';' : '';\r\n\r\n    var closer = document.createElement('div');\r\n    var contentContainer = document.createElement('div');\r\n\r\n    function documentEscListener(e) {\r\n        if (e.keyCode === 27) {\r\n            closer.click();\r\n        }\r\n    }\r\n\r\n    closer.style.cssText = 'margin: 0; padding: 0; ' +\r\n        'position: fixed; top:0; bottom:0; left:0; right:0;' +\r\n        'z-index: 9990; ' +\r\n        'background-color: rgba(0, 0, 0, 0.3);';\r\n    closer.addEventListener('click', function() {\r\n        document.removeEventListener('keydown', documentEscListener);\r\n        closer.parentNode.removeChild(closer);\r\n        editor.focus();\r\n        closer = null;\r\n    });\r\n    // click closer if esc key is pressed\r\n    document.addEventListener('keydown', documentEscListener);\r\n\r\n    contentContainer.style.cssText = top + right + bottom + left;\r\n    contentContainer.addEventListener('click', function(e) {\r\n        e.stopPropagation();\r\n    });\r\n\r\n    var wrapper = dom.createElement(\"div\");\r\n    wrapper.style.position = \"relative\";\r\n    \r\n    var closeButton = dom.createElement(\"div\");\r\n    closeButton.className = \"ace_closeButton\";\r\n    closeButton.addEventListener('click', function() {\r\n        closer.click();\r\n    });\r\n    \r\n    wrapper.appendChild(closeButton);\r\n    contentContainer.appendChild(wrapper);\r\n    \r\n    contentContainer.appendChild(contentElement);\r\n    closer.appendChild(contentContainer);\r\n    document.body.appendChild(closer);\r\n    editor.blur();\r\n};\r\n\r\n});"]}