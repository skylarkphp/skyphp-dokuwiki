{"version":3,"sources":["lib/es5-shim.js"],"names":["define","require","exports","module","Empty","Function","prototype","bind","that","target","this","TypeError","args","slice","call","arguments","bound","result","apply","concat","Object","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","prototypeOfArray","Array","prototypeOfObject","_toString","toString","owns","hasOwnProperty","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","splice","length","makeArray","l","a","lengthBefore","array","array_splice","start","deleteCount","pos","removeCount","Math","max","removed","insert","add","push","remove","min","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","i","isArray","obj","createEmpty","freezeObject","boxedString","splitString","forEach","fun","object","toObject","self","split","thisp","map","filter","value","every","some","reduce","reduceRight","indexOf","sought","toInteger","lastIndexOf","abs","getPrototypeOf","__proto__","constructor","getOwnPropertyDescriptor","property","descriptor","enumerable","configurable","getter","setter","get","set","getOwnPropertyNames","keys","create","empty","propertyIsEnumerable","isPrototypeOf","toLocaleString","valueOf","properties","Type","defineProperties","doesDefinePropertyWork","defineProperty","exception","definePropertyWorksOnObject","definePropertyWorksOnDom","document","createElement","definePropertyFallback","seal","freeze","preventExtensions","isSealed","isFrozen","isExtensible","name","returnValue","hasDontEnumBug","dontEnums","dontEnumsLength","key","ii","dontEnum","Date","now","getTime","ws","String","trim","trimBeginRegexp","RegExp","trimEndRegexp","replace","n","floor","o"],"mappings":"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","file":"../../lib/es5-shim.js","sourcesContent":["// https://github.com/kriskowal/es5-shim\r\n// Copyright 2009-2012 by contributors, MIT License\r\n\r\ndefine(function(require, exports, module) {\r\n\r\n/*\r\n * Brings an environment as close to ECMAScript 5 compliance\r\n * as is possible with the facilities of erstwhile engines.\r\n *\r\n * Annotated ES5: http://es5.github.com/ (specific links below)\r\n * ES5 Spec: http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\r\n * Required reading: http://javascriptweblog.wordpress.com/2011/12/05/extending-javascript-natives/\r\n */\r\n\r\n//\r\n// Function\r\n// ========\r\n//\r\n\r\n// ES-5 15.3.4.5\r\n// http://es5.github.com/#x15.3.4.5\r\n\r\nfunction Empty() {}\r\n\r\nif (!Function.prototype.bind) {\r\n    Function.prototype.bind = function bind(that) { // .length is 1\r\n        // 1. Let Target be the this value.\r\n        var target = this;\r\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\r\n        if (typeof target != \"function\") {\r\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\r\n        }\r\n        // 3. Let A be a new (possibly empty) internal list of all of the\r\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\r\n        // XXX slicedArgs will stand in for \"A\" if used\r\n        var args = slice.call(arguments, 1); // for normal call\r\n        // 4. Let F be a new native ECMAScript object.\r\n        // 11. Set the [[Prototype]] internal property of F to the standard\r\n        //   built-in Function prototype object as specified in 15.3.3.1.\r\n        // 12. Set the [[Call]] internal property of F as described in\r\n        //   15.3.4.5.1.\r\n        // 13. Set the [[Construct]] internal property of F as described in\r\n        //   15.3.4.5.2.\r\n        // 14. Set the [[HasInstance]] internal property of F as described in\r\n        //   15.3.4.5.3.\r\n        var bound = function () {\r\n\r\n            if (this instanceof bound) {\r\n                // 15.3.4.5.2 [[Construct]]\r\n                // When the [[Construct]] internal method of a function object,\r\n                // F that was created using the bind function is called with a\r\n                // list of arguments ExtraArgs, the following steps are taken:\r\n                // 1. Let target be the value of F's [[TargetFunction]]\r\n                //   internal property.\r\n                // 2. If target has no [[Construct]] internal method, a\r\n                //   TypeError exception is thrown.\r\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\r\n                //   property.\r\n                // 4. Let args be a new list containing the same values as the\r\n                //   list boundArgs in the same order followed by the same\r\n                //   values as the list ExtraArgs in the same order.\r\n                // 5. Return the result of calling the [[Construct]] internal\r\n                //   method of target providing args as the arguments.\r\n\r\n                var result = target.apply(\r\n                    this,\r\n                    args.concat(slice.call(arguments))\r\n                );\r\n                if (Object(result) === result) {\r\n                    return result;\r\n                }\r\n                return this;\r\n\r\n            } else {\r\n                // 15.3.4.5.1 [[Call]]\r\n                // When the [[Call]] internal method of a function object, F,\r\n                // which was created using the bind function is called with a\r\n                // this value and a list of arguments ExtraArgs, the following\r\n                // steps are taken:\r\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\r\n                //   property.\r\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\r\n                //   property.\r\n                // 3. Let target be the value of F's [[TargetFunction]] internal\r\n                //   property.\r\n                // 4. Let args be a new list containing the same values as the\r\n                //   list boundArgs in the same order followed by the same\r\n                //   values as the list ExtraArgs in the same order.\r\n                // 5. Return the result of calling the [[Call]] internal method\r\n                //   of target providing boundThis as the this value and\r\n                //   providing args as the arguments.\r\n\r\n                // equiv: target.call(this, ...boundArgs, ...args)\r\n                return target.apply(\r\n                    that,\r\n                    args.concat(slice.call(arguments))\r\n                );\r\n\r\n            }\r\n\r\n        };\r\n        if(target.prototype) {\r\n            Empty.prototype = target.prototype;\r\n            bound.prototype = new Empty();\r\n            // Clean up dangling references.\r\n            Empty.prototype = null;\r\n        }\r\n        // XXX bound.length is never writable, so don't even try\r\n        //\r\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\r\n        //     a. Let L be the length property of Target minus the length of A.\r\n        //     b. Set the length own property of F to either 0 or L, whichever is\r\n        //       larger.\r\n        // 16. Else set the length own property of F to 0.\r\n        // 17. Set the attributes of the length own property of F to the values\r\n        //   specified in 15.3.5.1.\r\n\r\n        // TODO\r\n        // 18. Set the [[Extensible]] internal property of F to true.\r\n\r\n        // TODO\r\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\r\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\r\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\r\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\r\n        //   false.\r\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\r\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\r\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\r\n        //   and false.\r\n\r\n        // TODO\r\n        // NOTE Function objects created using Function.prototype.bind do not\r\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\r\n        // [[Scope]] internal properties.\r\n        // XXX can't delete prototype in pure-js.\r\n\r\n        // 22. Return F.\r\n        return bound;\r\n    };\r\n}\r\n\r\n// Shortcut to an often accessed properties, in order to avoid multiple\r\n// dereference that costs universally.\r\n// _Please note: Shortcuts are defined after `Function.prototype.bind` as we\r\n// us it in defining shortcuts.\r\nvar call = Function.prototype.call;\r\nvar prototypeOfArray = Array.prototype;\r\nvar prototypeOfObject = Object.prototype;\r\nvar slice = prototypeOfArray.slice;\r\n// Having a toString local variable name breaks in Opera so use _toString.\r\nvar _toString = call.bind(prototypeOfObject.toString);\r\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\r\n\r\n// If JS engine supports accessors creating shortcuts.\r\nvar defineGetter;\r\nvar defineSetter;\r\nvar lookupGetter;\r\nvar lookupSetter;\r\nvar supportsAccessors;\r\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\r\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\r\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\r\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\r\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\r\n}\r\n\r\n//\r\n// Array\r\n// =====\r\n//\r\n\r\n// ES5 15.4.4.12\r\n// http://es5.github.com/#x15.4.4.12\r\n// Default value for second param\r\n// [bugfix, ielt9, old browsers]\r\n// IE < 9 bug: [1,2].splice(0).join(\"\") == \"\" but should be \"12\"\r\nif ([1,2].splice(0).length != 2) {\r\n    if(function() { // test IE < 9 to splice bug - see issue #138\r\n        function makeArray(l) {\r\n            var a = new Array(l+2);\r\n            a[0] = a[1] = 0;\r\n            return a;\r\n        }\r\n        var array = [], lengthBefore;\r\n        \r\n        array.splice.apply(array, makeArray(20));\r\n        array.splice.apply(array, makeArray(26));\r\n\r\n        lengthBefore = array.length; //46\r\n        array.splice(5, 0, \"XXX\"); // add one element\r\n\r\n        lengthBefore + 1 == array.length\r\n\r\n        if (lengthBefore + 1 == array.length) {\r\n            return true;// has right splice implementation without bugs\r\n        }\r\n        // else {\r\n        // IE8 bug\r\n        // }\r\n    }()) {//IE 6/7\r\n        var array_splice = Array.prototype.splice;\r\n        Array.prototype.splice = function(start, deleteCount) {\r\n            if (!arguments.length) {\r\n                return [];\r\n            } else {\r\n                return array_splice.apply(this, [\r\n                    start === void 0 ? 0 : start,\r\n                    deleteCount === void 0 ? (this.length - start) : deleteCount\r\n                ].concat(slice.call(arguments, 2)))\r\n            }\r\n        };\r\n    } else {//IE8\r\n        // taken from http://docs.sencha.com/ext-js/4-1/source/Array2.html\r\n        Array.prototype.splice = function(pos, removeCount){\r\n            var length = this.length;\r\n            if (pos > 0) {\r\n                if (pos > length)\r\n                    pos = length;\r\n            } else if (pos == void 0) {\r\n                pos = 0;\r\n            } else if (pos < 0) {\r\n                pos = Math.max(length + pos, 0);\r\n            }\r\n\r\n            if (!(pos+removeCount < length))\r\n                removeCount = length - pos;\r\n\r\n            var removed = this.slice(pos, pos+removeCount);\r\n            var insert = slice.call(arguments, 2);\r\n            var add = insert.length;            \r\n\r\n            // we try to use Array.push when we can for efficiency...\r\n            if (pos === length) {\r\n                if (add) {\r\n                    this.push.apply(this, insert);\r\n                }\r\n            } else {\r\n                var remove = Math.min(removeCount, length - pos);\r\n                var tailOldPos = pos + remove;\r\n                var tailNewPos = tailOldPos + add - remove;\r\n                var tailCount = length - tailOldPos;\r\n                var lengthAfterRemove = length - remove;\r\n\r\n                if (tailNewPos < tailOldPos) { // case A\r\n                    for (var i = 0; i < tailCount; ++i) {\r\n                        this[tailNewPos+i] = this[tailOldPos+i];\r\n                    }\r\n                } else if (tailNewPos > tailOldPos) { // case B\r\n                    for (i = tailCount; i--; ) {\r\n                        this[tailNewPos+i] = this[tailOldPos+i];\r\n                    }\r\n                } // else, add == remove (nothing to do)\r\n\r\n                if (add && pos === lengthAfterRemove) {\r\n                    this.length = lengthAfterRemove; // truncate array\r\n                    this.push.apply(this, insert);\r\n                } else {\r\n                    this.length = lengthAfterRemove + add; // reserves space\r\n                    for (i = 0; i < add; ++i) {\r\n                        this[pos+i] = insert[i];\r\n                    }\r\n                }\r\n            }\r\n            return removed;\r\n        };\r\n    }\r\n}\r\n\r\n// ES5 15.4.3.2\r\n// http://es5.github.com/#x15.4.3.2\r\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\r\nif (!Array.isArray) {\r\n    Array.isArray = function isArray(obj) {\r\n        return _toString(obj) == \"[object Array]\";\r\n    };\r\n}\r\n\r\n// The IsCallable() check in the Array functions\r\n// has been replaced with a strict check on the\r\n// internal class of the object to trap cases where\r\n// the provided function was actually a regular\r\n// expression literal, which in V8 and\r\n// JavaScriptCore is a typeof \"function\".  Only in\r\n// V8 are regular expression literals permitted as\r\n// reduce parameters, so it is desirable in the\r\n// general case for the shim to match the more\r\n// strict and common behavior of rejecting regular\r\n// expressions.\r\n\r\n// ES5 15.4.4.18\r\n// http://es5.github.com/#x15.4.4.18\r\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/forEach\r\n\r\n// Check failure of by-index access of string characters (IE < 9)\r\n// and failure of `0 in boxedString` (Rhino)\r\nvar boxedString = Object(\"a\"),\r\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\r\n\r\nif (!Array.prototype.forEach) {\r\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\r\n        var object = toObject(this),\r\n            self = splitString && _toString(this) == \"[object String]\" ?\r\n                this.split(\"\") :\r\n                object,\r\n            thisp = arguments[1],\r\n            i = -1,\r\n            length = self.length >>> 0;\r\n\r\n        // If no callback function or if callback is not a callable function\r\n        if (_toString(fun) != \"[object Function]\") {\r\n            throw new TypeError(); // TODO message\r\n        }\r\n\r\n        while (++i < length) {\r\n            if (i in self) {\r\n                // Invoke the callback function with call, passing arguments:\r\n                // context, property value, property key, thisArg object\r\n                // context\r\n                fun.call(thisp, self[i], i, object);\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\n// ES5 15.4.4.19\r\n// http://es5.github.com/#x15.4.4.19\r\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\r\nif (!Array.prototype.map) {\r\n    Array.prototype.map = function map(fun /*, thisp*/) {\r\n        var object = toObject(this),\r\n            self = splitString && _toString(this) == \"[object String]\" ?\r\n                this.split(\"\") :\r\n                object,\r\n            length = self.length >>> 0,\r\n            result = Array(length),\r\n            thisp = arguments[1];\r\n\r\n        // If no callback function or if callback is not a callable function\r\n        if (_toString(fun) != \"[object Function]\") {\r\n            throw new TypeError(fun + \" is not a function\");\r\n        }\r\n\r\n        for (var i = 0; i < length; i++) {\r\n            if (i in self)\r\n                result[i] = fun.call(thisp, self[i], i, object);\r\n        }\r\n        return result;\r\n    };\r\n}\r\n\r\n// ES5 15.4.4.20\r\n// http://es5.github.com/#x15.4.4.20\r\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\r\nif (!Array.prototype.filter) {\r\n    Array.prototype.filter = function filter(fun /*, thisp */) {\r\n        var object = toObject(this),\r\n            self = splitString && _toString(this) == \"[object String]\" ?\r\n                this.split(\"\") :\r\n                    object,\r\n            length = self.length >>> 0,\r\n            result = [],\r\n            value,\r\n            thisp = arguments[1];\r\n\r\n        // If no callback function or if callback is not a callable function\r\n        if (_toString(fun) != \"[object Function]\") {\r\n            throw new TypeError(fun + \" is not a function\");\r\n        }\r\n\r\n        for (var i = 0; i < length; i++) {\r\n            if (i in self) {\r\n                value = self[i];\r\n                if (fun.call(thisp, value, i, object)) {\r\n                    result.push(value);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n}\r\n\r\n// ES5 15.4.4.16\r\n// http://es5.github.com/#x15.4.4.16\r\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\r\nif (!Array.prototype.every) {\r\n    Array.prototype.every = function every(fun /*, thisp */) {\r\n        var object = toObject(this),\r\n            self = splitString && _toString(this) == \"[object String]\" ?\r\n                this.split(\"\") :\r\n                object,\r\n            length = self.length >>> 0,\r\n            thisp = arguments[1];\r\n\r\n        // If no callback function or if callback is not a callable function\r\n        if (_toString(fun) != \"[object Function]\") {\r\n            throw new TypeError(fun + \" is not a function\");\r\n        }\r\n\r\n        for (var i = 0; i < length; i++) {\r\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n}\r\n\r\n// ES5 15.4.4.17\r\n// http://es5.github.com/#x15.4.4.17\r\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\r\nif (!Array.prototype.some) {\r\n    Array.prototype.some = function some(fun /*, thisp */) {\r\n        var object = toObject(this),\r\n            self = splitString && _toString(this) == \"[object String]\" ?\r\n                this.split(\"\") :\r\n                object,\r\n            length = self.length >>> 0,\r\n            thisp = arguments[1];\r\n\r\n        // If no callback function or if callback is not a callable function\r\n        if (_toString(fun) != \"[object Function]\") {\r\n            throw new TypeError(fun + \" is not a function\");\r\n        }\r\n\r\n        for (var i = 0; i < length; i++) {\r\n            if (i in self && fun.call(thisp, self[i], i, object)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n}\r\n\r\n// ES5 15.4.4.21\r\n// http://es5.github.com/#x15.4.4.21\r\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduce\r\nif (!Array.prototype.reduce) {\r\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\r\n        var object = toObject(this),\r\n            self = splitString && _toString(this) == \"[object String]\" ?\r\n                this.split(\"\") :\r\n                object,\r\n            length = self.length >>> 0;\r\n\r\n        // If no callback function or if callback is not a callable function\r\n        if (_toString(fun) != \"[object Function]\") {\r\n            throw new TypeError(fun + \" is not a function\");\r\n        }\r\n\r\n        // no value to return if no initial value and an empty array\r\n        if (!length && arguments.length == 1) {\r\n            throw new TypeError(\"reduce of empty array with no initial value\");\r\n        }\r\n\r\n        var i = 0;\r\n        var result;\r\n        if (arguments.length >= 2) {\r\n            result = arguments[1];\r\n        } else {\r\n            do {\r\n                if (i in self) {\r\n                    result = self[i++];\r\n                    break;\r\n                }\r\n\r\n                // if array contains no values, no initial value to return\r\n                if (++i >= length) {\r\n                    throw new TypeError(\"reduce of empty array with no initial value\");\r\n                }\r\n            } while (true);\r\n        }\r\n\r\n        for (; i < length; i++) {\r\n            if (i in self) {\r\n                result = fun.call(void 0, result, self[i], i, object);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n}\r\n\r\n// ES5 15.4.4.22\r\n// http://es5.github.com/#x15.4.4.22\r\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\r\nif (!Array.prototype.reduceRight) {\r\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\r\n        var object = toObject(this),\r\n            self = splitString && _toString(this) == \"[object String]\" ?\r\n                this.split(\"\") :\r\n                object,\r\n            length = self.length >>> 0;\r\n\r\n        // If no callback function or if callback is not a callable function\r\n        if (_toString(fun) != \"[object Function]\") {\r\n            throw new TypeError(fun + \" is not a function\");\r\n        }\r\n\r\n        // no value to return if no initial value, empty array\r\n        if (!length && arguments.length == 1) {\r\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\r\n        }\r\n\r\n        var result, i = length - 1;\r\n        if (arguments.length >= 2) {\r\n            result = arguments[1];\r\n        } else {\r\n            do {\r\n                if (i in self) {\r\n                    result = self[i--];\r\n                    break;\r\n                }\r\n\r\n                // if array contains no values, no initial value to return\r\n                if (--i < 0) {\r\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\r\n                }\r\n            } while (true);\r\n        }\r\n\r\n        do {\r\n            if (i in this) {\r\n                result = fun.call(void 0, result, self[i], i, object);\r\n            }\r\n        } while (i--);\r\n\r\n        return result;\r\n    };\r\n}\r\n\r\n// ES5 15.4.4.14\r\n// http://es5.github.com/#x15.4.4.14\r\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\r\nif (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {\r\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {\r\n        var self = splitString && _toString(this) == \"[object String]\" ?\r\n                this.split(\"\") :\r\n                toObject(this),\r\n            length = self.length >>> 0;\r\n\r\n        if (!length) {\r\n            return -1;\r\n        }\r\n\r\n        var i = 0;\r\n        if (arguments.length > 1) {\r\n            i = toInteger(arguments[1]);\r\n        }\r\n\r\n        // handle negative indices\r\n        i = i >= 0 ? i : Math.max(0, length + i);\r\n        for (; i < length; i++) {\r\n            if (i in self && self[i] === sought) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n}\r\n\r\n// ES5 15.4.4.15\r\n// http://es5.github.com/#x15.4.4.15\r\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\r\nif (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {\r\n    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\r\n        var self = splitString && _toString(this) == \"[object String]\" ?\r\n                this.split(\"\") :\r\n                toObject(this),\r\n            length = self.length >>> 0;\r\n\r\n        if (!length) {\r\n            return -1;\r\n        }\r\n        var i = length - 1;\r\n        if (arguments.length > 1) {\r\n            i = Math.min(i, toInteger(arguments[1]));\r\n        }\r\n        // handle negative indices\r\n        i = i >= 0 ? i : length - Math.abs(i);\r\n        for (; i >= 0; i--) {\r\n            if (i in self && sought === self[i]) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n}\r\n\r\n//\r\n// Object\r\n// ======\r\n//\r\n\r\n// ES5 15.2.3.2\r\n// http://es5.github.com/#x15.2.3.2\r\nif (!Object.getPrototypeOf) {\r\n    // https://github.com/kriskowal/es5-shim/issues#issue/2\r\n    // http://ejohn.org/blog/objectgetprototypeof/\r\n    // recommended by fschaefer on github\r\n    Object.getPrototypeOf = function getPrototypeOf(object) {\r\n        return object.__proto__ || (\r\n            object.constructor ?\r\n            object.constructor.prototype :\r\n            prototypeOfObject\r\n        );\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.3\r\n// http://es5.github.com/#x15.2.3.3\r\nif (!Object.getOwnPropertyDescriptor) {\r\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" +\r\n                         \"non-object: \";\r\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\r\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\r\n            throw new TypeError(ERR_NON_OBJECT + object);\r\n        // If object does not owns property return undefined immediately.\r\n        if (!owns(object, property))\r\n            return;\r\n\r\n        var descriptor, getter, setter;\r\n\r\n        // If object has a property then it's for sure both `enumerable` and\r\n        // `configurable`.\r\n        descriptor =  { enumerable: true, configurable: true };\r\n\r\n        // If JS engine supports accessor properties then property may be a\r\n        // getter or setter.\r\n        if (supportsAccessors) {\r\n            // Unfortunately `__lookupGetter__` will return a getter even\r\n            // if object has own non getter property along with a same named\r\n            // inherited getter. To avoid misbehavior we temporary remove\r\n            // `__proto__` so that `__lookupGetter__` will return getter only\r\n            // if it's owned by an object.\r\n            var prototype = object.__proto__;\r\n            object.__proto__ = prototypeOfObject;\r\n\r\n            var getter = lookupGetter(object, property);\r\n            var setter = lookupSetter(object, property);\r\n\r\n            // Once we have getter and setter we can put values back.\r\n            object.__proto__ = prototype;\r\n\r\n            if (getter || setter) {\r\n                if (getter) descriptor.get = getter;\r\n                if (setter) descriptor.set = setter;\r\n\r\n                // If it was accessor property we're done and return here\r\n                // in order to avoid adding `value` to the descriptor.\r\n                return descriptor;\r\n            }\r\n        }\r\n\r\n        // If we got this far we know that object has an own property that is\r\n        // not an accessor so we set it as a value and return descriptor.\r\n        descriptor.value = object[property];\r\n        return descriptor;\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.4\r\n// http://es5.github.com/#x15.2.3.4\r\nif (!Object.getOwnPropertyNames) {\r\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\r\n        return Object.keys(object);\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.5\r\n// http://es5.github.com/#x15.2.3.5\r\nif (!Object.create) {\r\n    var createEmpty;\r\n    if (Object.prototype.__proto__ === null) {\r\n        createEmpty = function () {\r\n            return { \"__proto__\": null };\r\n        };\r\n    } else {\r\n        // In old IE __proto__ can't be used to manually set `null`\r\n        createEmpty = function () {\r\n            var empty = {};\r\n            for (var i in empty)\r\n                empty[i] = null;\r\n            empty.constructor =\r\n            empty.hasOwnProperty =\r\n            empty.propertyIsEnumerable =\r\n            empty.isPrototypeOf =\r\n            empty.toLocaleString =\r\n            empty.toString =\r\n            empty.valueOf =\r\n            empty.__proto__ = null;\r\n            return empty;\r\n        }\r\n    }\r\n\r\n    Object.create = function create(prototype, properties) {\r\n        var object;\r\n        if (prototype === null) {\r\n            object = createEmpty();\r\n        } else {\r\n            if (typeof prototype != \"object\")\r\n                throw new TypeError(\"typeof prototype[\"+(typeof prototype)+\"] != 'object'\");\r\n            var Type = function () {};\r\n            Type.prototype = prototype;\r\n            object = new Type();\r\n            // IE has no built-in implementation of `Object.getPrototypeOf`\r\n            // neither `__proto__`, but this manually setting `__proto__` will\r\n            // guarantee that `Object.getPrototypeOf` will work as expected with\r\n            // objects created using `Object.create`\r\n            object.__proto__ = prototype;\r\n        }\r\n        if (properties !== void 0)\r\n            Object.defineProperties(object, properties);\r\n        return object;\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.6\r\n// http://es5.github.com/#x15.2.3.6\r\n\r\n// Patch for WebKit and IE8 standard mode\r\n// Designed by hax <hax.github.com>\r\n// related issue: https://github.com/kriskowal/es5-shim/issues#issue/5\r\n// IE8 Reference:\r\n//     http://msdn.microsoft.com/en-us/library/dd282900.aspx\r\n//     http://msdn.microsoft.com/en-us/library/dd229916.aspx\r\n// WebKit Bugs:\r\n//     https://bugs.webkit.org/show_bug.cgi?id=36423\r\n\r\nfunction doesDefinePropertyWork(object) {\r\n    try {\r\n        Object.defineProperty(object, \"sentinel\", {});\r\n        return \"sentinel\" in object;\r\n    } catch (exception) {\r\n        // returns falsy\r\n    }\r\n}\r\n\r\n// check whether defineProperty works if it's given. Otherwise,\r\n// shim partially.\r\nif (Object.defineProperty) {\r\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\r\n    var definePropertyWorksOnDom = typeof document == \"undefined\" ||\r\n        doesDefinePropertyWork(document.createElement(\"div\"));\r\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\r\n        var definePropertyFallback = Object.defineProperty;\r\n    }\r\n}\r\n\r\nif (!Object.defineProperty || definePropertyFallback) {\r\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\r\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\r\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\r\n                                      \"on this javascript engine\";\r\n\r\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\r\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\r\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\r\n        if ((typeof descriptor != \"object\" && typeof descriptor != \"function\") || descriptor === null)\r\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\r\n\r\n        // make a valiant attempt to use the real defineProperty\r\n        // for I8's DOM elements.\r\n        if (definePropertyFallback) {\r\n            try {\r\n                return definePropertyFallback.call(Object, object, property, descriptor);\r\n            } catch (exception) {\r\n                // try the shim if the real one doesn't work\r\n            }\r\n        }\r\n\r\n        // If it's a data property.\r\n        if (owns(descriptor, \"value\")) {\r\n            // fail silently if \"writable\", \"enumerable\", or \"configurable\"\r\n            // are requested but not supported\r\n            /*\r\n            // alternate approach:\r\n            if ( // can't implement these features; allow false but not true\r\n                !(owns(descriptor, \"writable\") ? descriptor.writable : true) ||\r\n                !(owns(descriptor, \"enumerable\") ? descriptor.enumerable : true) ||\r\n                !(owns(descriptor, \"configurable\") ? descriptor.configurable : true)\r\n            )\r\n                throw new RangeError(\r\n                    \"This implementation of Object.defineProperty does not \" +\r\n                    \"support configurable, enumerable, or writable.\"\r\n                );\r\n            */\r\n\r\n            if (supportsAccessors && (lookupGetter(object, property) ||\r\n                                      lookupSetter(object, property)))\r\n            {\r\n                // As accessors are supported only on engines implementing\r\n                // `__proto__` we can safely override `__proto__` while defining\r\n                // a property to make sure that we don't hit an inherited\r\n                // accessor.\r\n                var prototype = object.__proto__;\r\n                object.__proto__ = prototypeOfObject;\r\n                // Deleting a property anyway since getter / setter may be\r\n                // defined on object itself.\r\n                delete object[property];\r\n                object[property] = descriptor.value;\r\n                // Setting original `__proto__` back now.\r\n                object.__proto__ = prototype;\r\n            } else {\r\n                object[property] = descriptor.value;\r\n            }\r\n        } else {\r\n            if (!supportsAccessors)\r\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\r\n            // If we got that far then getters and setters can be defined !!\r\n            if (owns(descriptor, \"get\"))\r\n                defineGetter(object, property, descriptor.get);\r\n            if (owns(descriptor, \"set\"))\r\n                defineSetter(object, property, descriptor.set);\r\n        }\r\n\r\n        return object;\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.7\r\n// http://es5.github.com/#x15.2.3.7\r\nif (!Object.defineProperties) {\r\n    Object.defineProperties = function defineProperties(object, properties) {\r\n        for (var property in properties) {\r\n            if (owns(properties, property))\r\n                Object.defineProperty(object, property, properties[property]);\r\n        }\r\n        return object;\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.8\r\n// http://es5.github.com/#x15.2.3.8\r\nif (!Object.seal) {\r\n    Object.seal = function seal(object) {\r\n        // this is misleading and breaks feature-detection, but\r\n        // allows \"securable\" code to \"gracefully\" degrade to working\r\n        // but insecure code.\r\n        return object;\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.9\r\n// http://es5.github.com/#x15.2.3.9\r\nif (!Object.freeze) {\r\n    Object.freeze = function freeze(object) {\r\n        // this is misleading and breaks feature-detection, but\r\n        // allows \"securable\" code to \"gracefully\" degrade to working\r\n        // but insecure code.\r\n        return object;\r\n    };\r\n}\r\n\r\n// detect a Rhino bug and patch it\r\ntry {\r\n    Object.freeze(function () {});\r\n} catch (exception) {\r\n    Object.freeze = (function freeze(freezeObject) {\r\n        return function freeze(object) {\r\n            if (typeof object == \"function\") {\r\n                return object;\r\n            } else {\r\n                return freezeObject(object);\r\n            }\r\n        };\r\n    })(Object.freeze);\r\n}\r\n\r\n// ES5 15.2.3.10\r\n// http://es5.github.com/#x15.2.3.10\r\nif (!Object.preventExtensions) {\r\n    Object.preventExtensions = function preventExtensions(object) {\r\n        // this is misleading and breaks feature-detection, but\r\n        // allows \"securable\" code to \"gracefully\" degrade to working\r\n        // but insecure code.\r\n        return object;\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.11\r\n// http://es5.github.com/#x15.2.3.11\r\nif (!Object.isSealed) {\r\n    Object.isSealed = function isSealed(object) {\r\n        return false;\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.12\r\n// http://es5.github.com/#x15.2.3.12\r\nif (!Object.isFrozen) {\r\n    Object.isFrozen = function isFrozen(object) {\r\n        return false;\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.13\r\n// http://es5.github.com/#x15.2.3.13\r\nif (!Object.isExtensible) {\r\n    Object.isExtensible = function isExtensible(object) {\r\n        // 1. If Type(O) is not Object throw a TypeError exception.\r\n        if (Object(object) === object) {\r\n            throw new TypeError(); // TODO message\r\n        }\r\n        // 2. Return the Boolean value of the [[Extensible]] internal property of O.\r\n        var name = '';\r\n        while (owns(object, name)) {\r\n            name += '?';\r\n        }\r\n        object[name] = true;\r\n        var returnValue = owns(object, name);\r\n        delete object[name];\r\n        return returnValue;\r\n    };\r\n}\r\n\r\n// ES5 15.2.3.14\r\n// http://es5.github.com/#x15.2.3.14\r\nif (!Object.keys) {\r\n    // http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\r\n    var hasDontEnumBug = true,\r\n        dontEnums = [\r\n            \"toString\",\r\n            \"toLocaleString\",\r\n            \"valueOf\",\r\n            \"hasOwnProperty\",\r\n            \"isPrototypeOf\",\r\n            \"propertyIsEnumerable\",\r\n            \"constructor\"\r\n        ],\r\n        dontEnumsLength = dontEnums.length;\r\n\r\n    for (var key in {\"toString\": null}) {\r\n        hasDontEnumBug = false;\r\n    }\r\n\r\n    Object.keys = function keys(object) {\r\n\r\n        if (\r\n            (typeof object != \"object\" && typeof object != \"function\") ||\r\n            object === null\r\n        ) {\r\n            throw new TypeError(\"Object.keys called on a non-object\");\r\n        }\r\n\r\n        var keys = [];\r\n        for (var name in object) {\r\n            if (owns(object, name)) {\r\n                keys.push(name);\r\n            }\r\n        }\r\n\r\n        if (hasDontEnumBug) {\r\n            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\r\n                var dontEnum = dontEnums[i];\r\n                if (owns(object, dontEnum)) {\r\n                    keys.push(dontEnum);\r\n                }\r\n            }\r\n        }\r\n        return keys;\r\n    };\r\n\r\n}\r\n\r\n//\r\n// most of es5-shim Date section is removed since ace doesn't need it, it is too intrusive and it causes problems for users\r\n// ====\r\n//\r\n\r\n// ES5 15.9.4.4\r\n// http://es5.github.com/#x15.9.4.4\r\nif (!Date.now) {\r\n    Date.now = function now() {\r\n        return new Date().getTime();\r\n    };\r\n}\r\n\r\n\r\n//\r\n// String\r\n// ======\r\n//\r\n\r\n// ES5 15.5.4.20\r\n// http://es5.github.com/#x15.5.4.20\r\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\r\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\r\n    \"\\u2029\\uFEFF\";\r\nif (!String.prototype.trim || ws.trim()) {\r\n    // http://blog.stevenlevithan.com/archives/faster-trim-javascript\r\n    // http://perfectionkills.com/whitespace-deviations/\r\n    ws = \"[\" + ws + \"]\";\r\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\r\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\r\n    String.prototype.trim = function trim() {\r\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\r\n    };\r\n}\r\n\r\n//\r\n// Util\r\n// ======\r\n//\r\n\r\n// ES5 9.4\r\n// http://es5.github.com/#x9.4\r\n// http://jsperf.com/to-integer\r\n\r\nfunction toInteger(n) {\r\n    n = +n;\r\n    if (n !== n) { // isNaN\r\n        n = 0;\r\n    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {\r\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\r\n    }\r\n    return n;\r\n}\r\n\r\nfunction isPrimitive(input) {\r\n    var type = typeof input;\r\n    return (\r\n        input === null ||\r\n        type === \"undefined\" ||\r\n        type === \"boolean\" ||\r\n        type === \"number\" ||\r\n        type === \"string\"\r\n    );\r\n}\r\n\r\nfunction toPrimitive(input) {\r\n    var val, valueOf, toString;\r\n    if (isPrimitive(input)) {\r\n        return input;\r\n    }\r\n    valueOf = input.valueOf;\r\n    if (typeof valueOf === \"function\") {\r\n        val = valueOf.call(input);\r\n        if (isPrimitive(val)) {\r\n            return val;\r\n        }\r\n    }\r\n    toString = input.toString;\r\n    if (typeof toString === \"function\") {\r\n        val = toString.call(input);\r\n        if (isPrimitive(val)) {\r\n            return val;\r\n        }\r\n    }\r\n    throw new TypeError();\r\n}\r\n\r\n// ES5 9.9\r\n// http://es5.github.com/#x9.9\r\nvar toObject = function (o) {\r\n    if (o == null) { // this matches both null and undefined\r\n        throw new TypeError(\"can't convert \"+o+\" to object\");\r\n    }\r\n    return Object(o);\r\n};\r\n\r\n});\r\n"]}