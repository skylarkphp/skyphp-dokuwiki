{"version":3,"sources":["test/mockrenderer.js"],"names":["define","require","exports","module","MockRenderer","visibleRowCount","document","this","container","createElement","scroller","layerConfig","firstVisibleRow","lastVisibleRow","isMockRenderer","$gutter","prototype","getFirstVisibleRow","getLastVisibleRow","getFirstFullyVisibleRow","getLastFullyVisibleRow","getContainerElement","getMouseEventTarget","getTextAreaContainer","addGutterDecoration","removeGutterDecoration","moveTextAreaToCursor","setSession","session","getSession","setTokenizer","on","updateCursor","animateScrolling","fromValue","callback","scrollToX","scrollTop","scrollToY","scrollLeft","scrollToLine","line","center","row","l","getRowLength","scrollToRow","scrollSelectionIntoView","scrollCursorIntoView","cursor","getSelection","getCursor","Math","min","getLength","max","getScrollTopRow","draw","onChangeTabSize","startRow","endRow","updateLines","updateBackMarkers","updateFrontMarkers","updateBreakpoints","onResize","updateFull","updateText","showCursor","visualizeFocus","setAnnotations","setStyle","unsetStyle","textToScreenCoordinates","pageX","pageY","screenToTextCoordinates","column","adjustWrapLimit"],"mappings":";;;;;;;AA8BAA,OAAO,SAASC,EAASC,EAASC,GAClC,aAEA,IAAIC,EAAeF,EAAQE,aAAe,SAASC,GACxB,iBAAZC,WACPC,KAAKC,UAAYF,SAASG,cAAc,OACxCF,KAAKG,SAAWJ,SAASG,cAAc,QAE3CF,KAAKF,gBAAkBA,GAAmB,GAE1CE,KAAKI,aACDC,gBAAkB,EAClBC,eAAiBN,KAAKF,iBAG1BE,KAAKO,gBAAiB,EAEtBP,KAAKQ,YAITX,EAAaY,UAAUC,mBAAqB,WACxC,OAAOV,KAAKI,YAAYC,iBAG5BR,EAAaY,UAAUE,kBAAoB,WACvC,OAAOX,KAAKI,YAAYE,gBAG5BT,EAAaY,UAAUG,wBAA0B,WAC7C,OAAOZ,KAAKI,YAAYC,iBAG5BR,EAAaY,UAAUI,uBAAyB,WAC5C,OAAOb,KAAKI,YAAYE,gBAG5BT,EAAaY,UAAUK,oBAAsB,WACzC,OAAOd,KAAKC,WAGhBJ,EAAaY,UAAUM,oBAAsB,WACzC,OAAOf,KAAKC,WAGhBJ,EAAaY,UAAUO,qBAAuB,WAC1C,OAAOhB,KAAKC,WAGhBJ,EAAaY,UAAUQ,oBAAsB,aAG7CpB,EAAaY,UAAUS,uBAAyB,aAGhDrB,EAAaY,UAAUU,qBAAuB,aAG9CtB,EAAaY,UAAUW,WAAa,SAASC,GACzCrB,KAAKqB,QAAUA,GAGnBxB,EAAaY,UAAUa,WAAa,SAASD,GACzC,OAAOrB,KAAKqB,SAGhBxB,EAAaY,UAAUc,aAAe,aAGtC1B,EAAaY,UAAUe,GAAK,aAG5B3B,EAAaY,UAAUgB,aAAe,aAGtC5B,EAAaY,UAAUiB,iBAAmB,SAASC,EAAWC,GAC1DA,GAAYA,KAGhB/B,EAAaY,UAAUoB,UAAY,SAASC,KAC5CjC,EAAaY,UAAUsB,UAAY,SAASC,KAE5CnC,EAAaY,UAAUwB,aAAe,SAASC,EAAMC,GAGjD,IAFA,IACIC,EAAM,EACDC,EAAI,EAAGA,EAAIH,EAAMG,IACtBD,GAAOpC,KAAKqB,QAAQiB,aAAaD,EAAE,GAGnCF,IACAC,GAAOpC,KAAKF,gBAAkB,GAElCE,KAAKuC,YAAYH,IAGrBvC,EAAaY,UAAU+B,wBAA0B,aAGjD3C,EAAaY,UAAUgC,qBAAuB,WAC1C,IAAIC,EAAS1C,KAAKqB,QAAQsB,eAAeC,YACrCF,EAAON,IAAMpC,KAAKI,YAAYC,gBAC9BL,KAAKuC,YAAYG,EAAON,KAEnBM,EAAON,IAAMpC,KAAKI,YAAYE,gBACnCN,KAAKuC,YAAYG,EAAON,MAIhCvC,EAAaY,UAAU8B,YAAc,SAASH,GACtCA,EAAMS,KAAKC,IAAI9C,KAAKqB,QAAQ0B,YAAc/C,KAAKF,gBAAiB+C,KAAKG,IAAI,EACPZ,IACtEpC,KAAKI,YAAYC,gBAAkB+B,EACnCpC,KAAKI,YAAYE,eAAiB8B,EAAMpC,KAAKF,iBAGjDD,EAAaY,UAAUwC,gBAAkB,WACvC,OAAOjD,KAAKI,YAAYC,iBAG1BR,EAAaY,UAAUyC,KAAO,aAG9BrD,EAAaY,UAAU0C,gBAAkB,SAASC,EAAUC,KAG5DxD,EAAaY,UAAU6C,YAAc,SAASF,EAAUC,KAGxDxD,EAAaY,UAAU8C,kBAAoB,aAG3C1D,EAAaY,UAAU+C,mBAAqB,aAG5C3D,EAAaY,UAAUgD,kBAAoB,aAG3C5D,EAAaY,UAAUiD,SAAW,aAGlC7D,EAAaY,UAAUkD,WAAa,aAGpC9D,EAAaY,UAAUmD,WAAa,aAGpC/D,EAAaY,UAAUoD,WAAa,aAGpChE,EAAaY,UAAUqD,eAAiB,aAGxCjE,EAAaY,UAAUsD,eAAiB,aAGxClE,EAAaY,UAAUuD,SAAW,aAGlCnE,EAAaY,UAAUwD,WAAa,aAGpCpE,EAAaY,UAAUyD,wBAA0B,WAC7C,OACIC,MAAO,EACPC,MAAO,IAIfvE,EAAaY,UAAU4D,wBAA0B,WAC7C,OACIjC,IAAK,EACLkC,OAAQ,IAIhBzE,EAAaY,UAAU8D,gBAAkB","file":"../../test/mockrenderer.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\r\n * Distributed under the BSD license:\r\n *\r\n * Copyright (c) 2010, Ajax.org B.V.\r\n * All rights reserved.\r\n * \r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *     * Redistributions of source code must retain the above copyright\r\n *       notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above copyright\r\n *       notice, this list of conditions and the following disclaimer in the\r\n *       documentation and/or other materials provided with the distribution.\r\n *     * Neither the name of Ajax.org B.V. nor the\r\n *       names of its contributors may be used to endorse or promote products\r\n *       derived from this software without specific prior written permission.\r\n * \r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * ***** END LICENSE BLOCK ***** */\r\n\r\ndefine(function(require, exports, module) {\r\n\"use strict\";\r\n\r\nvar MockRenderer = exports.MockRenderer = function(visibleRowCount) {\r\n    if (typeof document == \"object\") {\r\n        this.container = document.createElement(\"div\");\r\n        this.scroller = document.createElement(\"div\");\r\n    }\r\n    this.visibleRowCount = visibleRowCount || 20;\r\n\r\n    this.layerConfig = {\r\n        firstVisibleRow : 0,\r\n        lastVisibleRow : this.visibleRowCount\r\n    };\r\n\r\n    this.isMockRenderer = true;\r\n\r\n    this.$gutter = {};\r\n};\r\n\r\n\r\nMockRenderer.prototype.getFirstVisibleRow = function() {\r\n    return this.layerConfig.firstVisibleRow;\r\n};\r\n\r\nMockRenderer.prototype.getLastVisibleRow = function() {\r\n    return this.layerConfig.lastVisibleRow;\r\n};\r\n\r\nMockRenderer.prototype.getFirstFullyVisibleRow = function() {\r\n    return this.layerConfig.firstVisibleRow;\r\n};\r\n\r\nMockRenderer.prototype.getLastFullyVisibleRow = function() {\r\n    return this.layerConfig.lastVisibleRow;\r\n};\r\n\r\nMockRenderer.prototype.getContainerElement = function() {\r\n    return this.container;\r\n};\r\n\r\nMockRenderer.prototype.getMouseEventTarget = function() {\r\n    return this.container;\r\n};\r\n\r\nMockRenderer.prototype.getTextAreaContainer = function() {\r\n    return this.container;\r\n};\r\n\r\nMockRenderer.prototype.addGutterDecoration = function() {\r\n};\r\n\r\nMockRenderer.prototype.removeGutterDecoration = function() {\r\n};\r\n\r\nMockRenderer.prototype.moveTextAreaToCursor = function() {\r\n};\r\n\r\nMockRenderer.prototype.setSession = function(session) {\r\n    this.session = session;\r\n};\r\n\r\nMockRenderer.prototype.getSession = function(session) {\r\n    return this.session;\r\n};\r\n\r\nMockRenderer.prototype.setTokenizer = function() {\r\n};\r\n\r\nMockRenderer.prototype.on = function() {\r\n};\r\n\r\nMockRenderer.prototype.updateCursor = function() {\r\n};\r\n\r\nMockRenderer.prototype.animateScrolling = function(fromValue, callback) {\r\n    callback && callback();\r\n};\r\n\r\nMockRenderer.prototype.scrollToX = function(scrollTop) {};\r\nMockRenderer.prototype.scrollToY = function(scrollLeft) {};\r\n\r\nMockRenderer.prototype.scrollToLine = function(line, center) {\r\n    var lineHeight = 16;\r\n    var row = 0;\r\n    for (var l = 1; l < line; l++) {\r\n        row += this.session.getRowLength(l-1);\r\n    }\r\n\r\n    if (center) {\r\n        row -= this.visibleRowCount / 2;\r\n    }\r\n    this.scrollToRow(row);\r\n};\r\n\r\nMockRenderer.prototype.scrollSelectionIntoView = function() {\r\n};\r\n\r\nMockRenderer.prototype.scrollCursorIntoView = function() {\r\n    var cursor = this.session.getSelection().getCursor();\r\n    if (cursor.row < this.layerConfig.firstVisibleRow) {\r\n        this.scrollToRow(cursor.row);\r\n    }\r\n    else if (cursor.row > this.layerConfig.lastVisibleRow) {\r\n        this.scrollToRow(cursor.row);\r\n    }\r\n};\r\n\r\nMockRenderer.prototype.scrollToRow = function(row) {\r\n    var row = Math.min(this.session.getLength() - this.visibleRowCount, Math.max(0,\r\n                                                                          row));\r\n    this.layerConfig.firstVisibleRow = row;\r\n    this.layerConfig.lastVisibleRow = row + this.visibleRowCount;\r\n};\r\n\r\nMockRenderer.prototype.getScrollTopRow = function() {\r\n  return this.layerConfig.firstVisibleRow;\r\n};\r\n\r\nMockRenderer.prototype.draw = function() {\r\n};\r\n\r\nMockRenderer.prototype.onChangeTabSize = function(startRow, endRow) {\r\n};\r\n\r\nMockRenderer.prototype.updateLines = function(startRow, endRow) {\r\n};\r\n\r\nMockRenderer.prototype.updateBackMarkers = function() {\r\n};\r\n\r\nMockRenderer.prototype.updateFrontMarkers = function() {\r\n};\r\n\r\nMockRenderer.prototype.updateBreakpoints = function() {\r\n};\r\n\r\nMockRenderer.prototype.onResize = function() {\r\n};\r\n\r\nMockRenderer.prototype.updateFull = function() {\r\n};\r\n\r\nMockRenderer.prototype.updateText = function() {\r\n};\r\n\r\nMockRenderer.prototype.showCursor = function() {\r\n};\r\n\r\nMockRenderer.prototype.visualizeFocus = function() {\r\n};\r\n\r\nMockRenderer.prototype.setAnnotations = function() {\r\n};\r\n\r\nMockRenderer.prototype.setStyle = function() {\r\n};\r\n\r\nMockRenderer.prototype.unsetStyle = function() {\r\n};\r\n\r\nMockRenderer.prototype.textToScreenCoordinates = function() {\r\n    return {\r\n        pageX: 0,\r\n        pageY: 0\r\n    };\r\n};\r\n\r\nMockRenderer.prototype.screenToTextCoordinates = function() {\r\n    return {\r\n        row: 0,\r\n        column: 0\r\n    };\r\n};\r\n\r\nMockRenderer.prototype.adjustWrapLimit = function () {\r\n\r\n};\r\n\r\n});\r\n"]}