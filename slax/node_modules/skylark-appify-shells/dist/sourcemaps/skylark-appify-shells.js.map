{"version":3,"sources":["skylark-appify-shells.js"],"names":["define","skylark","attach","langx","css","scripter","finder","$","plugins","nprogress","bootbox","Visibility","Tinycon","shells","updateAlert","alert","params","find","html","title","message","attr","type","clearTimeout","parseInt","timeout","startTimeout","children","fadeOut","translate","translatedHTML","fadeIn","off","removeClass","clickfn","addClass","on","e","target","is","this","remove","timeoutId","setTimeout","Shell","Plugin","inherit","options","i18n","locale","txt","Deferred","resolve","alerts","container","titles","success","error","templator","parse","skins","_construct","prototype","call","document","body","_titleObj","active","interval","undefined","self","isFocused","change","event","state","alternatingTitle","progress","alert_id","Date","getTime","trim","option","length","parseTemplate","template","alertTpl","prepend","closefn","createAlert","removeAlert","id","alertSuccess","alertError","titleObj","app","window","translated","clearInterval","setInterval","indexOf","text","refreshTitle","tinycon","bubble","isUndefined","isPlainObject","isDefined","setOptions","setBubble","reskin","skinName","cssUrl","clientEl","getElementById","currentSkinClassName","split","filter","className","startsWith","currentSkin","slice","linkEl","createElement","rel","href","onload","parentNode","removeChild","join","head","appendChild","loadStyleSheet","url","loadedCallback","errorCallback","removeStyleSheet","loadScript","loadJavaScript","removeScript","deleteJavaScript","main"],"mappings":"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","file":"../skylark-appify-shells.js","sourcesContent":["define('skylark-appify-shells/shells',[\r\n\t\"skylark-langx/skylark\"\r\n],function(skylark){\r\n\treturn skylark.attach(\"appify.shells\");\r\n\r\n});\ndefine('skylark-appify-shells/shell',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-css\",\r\n\t\"skylark-langx-scripter\",\r\n\t\"skylark-domx-finder\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"skylark-nprogress\",\r\n\t\"skylark-bootbox4\",\r\n    \"skylark-visibility\",\r\n    \"skylark-tinycon\",\r\n\t\"./shells\"\r\n],function(langx, css, scripter, finder,$,plugins,nprogress,bootbox,Visibility, Tinycon,shells){\r\n\tfunction createAlert(params,template) {\r\n\t    params.parseTemplate('alert', params, function (alertTpl) {\r\n\t      params.translate(alertTpl, function (translatedHTML) {\t\t\t\t\r\n\t        var alert = $('#' + params.alert_id);\r\n\t\t\t\t\tif (alert.length) {\r\n\t\t\t\t\t\treturn updateAlert(alert, params);\r\n\t\t\t\t\t}\r\n\t\t\t\t\talert = $(translatedHTML);\r\n\t\t\t\t\talert.fadeIn(200);\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\tparams.container.prepend(alert);\r\n\t\t\t\t\t//components.get('toaster/tray').prepend(alert);\r\n\r\n\t\t\t\t\talert.find('button').on('click', function () {\r\n\t\t\t\t\t\tif (typeof params.closefn === 'function') {\r\n\t\t\t\t\t\t\tparams.closefn();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfadeOut(alert);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\tif (params.timeout) {\r\n\t\t\t\t\t\tstartTimeout(alert, params.timeout);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof params.clickfn === 'function') {\r\n\t\t\t\t\t\talert\r\n\t\t\t\t\t\t\t.addClass('pointer')\r\n\t\t\t\t\t\t\t.on('click', function (e) {\r\n\t\t\t\t\t\t\t\tif (!$(e.target).is('.close')) {\r\n\t\t\t\t\t\t\t\t\tparams.clickfn();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfadeOut(alert);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t  });\r\n\t   });\r\n\r\n\t\t//Benchpress.parse('alert', params, function (alertTpl) {\r\n\t\t//\ttranslator.translate(alertTpl, function (translatedHTML) {\r\n\t\t//\t\t...\r\n\t\t//\t});\r\n\t\t//});\r\n\t}\r\n\r\n\tfunction updateAlert(alert, params) {\r\n\t\talert.find('strong').html(params.title);\r\n\t\talert.find('p').html(params.message);\r\n\t\talert.attr('class', 'alert alert-dismissable alert-' + params.type + ' clearfix');\r\n\r\n\t\tclearTimeout(parseInt(alert.attr('timeoutId'), 10));\r\n\t\tif (params.timeout) {\r\n\t\t\tstartTimeout(alert, params.timeout);\r\n\t\t}\r\n\r\n\t\talert.children().fadeOut(100);\r\n\t\t//translator.translate(alert.html(), function (translatedHTML) {\r\n\t\tparams.translate(alert.html(), function (translatedHTML) {\r\n\t\t\talert.children().fadeIn(100);\r\n\t\t\talert.html(translatedHTML);\r\n\t\t});\r\n\r\n\t\t// Handle changes in the clickfn\r\n\t\talert.off('click').removeClass('pointer');\r\n\t\tif (typeof params.clickfn === 'function') {\r\n\t\t\talert\r\n\t\t\t\t.addClass('pointer')\r\n\t\t\t\t.on('click', function (e) {\r\n\t\t\t\t\tif (!$(e.target).is('.close')) {\r\n\t\t\t\t\t\tparams.clickfn();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfadeOut(alert);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fadeOut(alert) {\r\n\t\talert.fadeOut(500, function () {\r\n\t\t\t$(this).remove();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction startTimeout(alert, timeout) {\r\n\t\tvar timeoutId = setTimeout(function () {\r\n\t\t\tfadeOut(alert);\r\n\t\t}, timeout);\r\n\r\n\t\talert.attr('timeoutId', timeoutId);\r\n\r\n\t\t// Reset and start animation\r\n\t\talert.css('transition-property', 'none');\r\n\t\talert.removeClass('animate');\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\talert.css('transition-property', '');\r\n\t\t\talert.css('transition', 'width ' + (timeout + 450) + 'ms linear, background-color ' + (timeout + 450) + 'ms ease-in');\r\n\t\t\talert.addClass('animate');\r\n\t\t}, 50);\r\n\r\n\t\t// Handle mouseenter/mouseleave\r\n\t\talert\r\n\t\t\t.on('mouseenter', function () {\r\n\t\t\t\t$(this).css('transition-duration', 0);\r\n\t\t\t});\r\n\t}\r\n\r\n\r\n\r\n\r\n\tvar Shell = plugins.Plugin.inherit({\r\n\t\toptions : {\r\n\t        i18n : {\r\n\t            locale : \"en\",\r\n\t            translate : function(txt) {\r\n\t              return langx.Deferred.resolve(txt);\r\n\t            }\r\n\t        },\r\n\t\t\talerts : {\r\n\t\t\t\tcontainer : \"\",     // element,$elment or selector,\r\n\t\t\t\ttitles : {\r\n\t\t\t\t\tsuccess : '[[global:alert.success]]',\r\n\t\t\t\t\terror :  '[[global:alert.error]]'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\ttemplator  : {\r\n\t\t\t\tparse  : null,    // template function\r\n\t\t\t},\r\n\t\t\tskins : {\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_construct : function(options) {\r\n\t\t\tplugins.Plugin.prototype._construct.call(this,document.body,options);\r\n\r\n\t      \tthis._titleObj = {\r\n\t        \tactive: false,\r\n\t        \tinterval: undefined,\r\n\t        \ttitles: [],\r\n\t      \t};\r\n\r\n\t     \tvar self = this;\r\n\r\n\t     \tself.isFocused = true;\r\n\r\n\t      \tVisibility.change(function (event, state) {\r\n\t        \tif (state === 'visible') {\r\n\t          \t\tself.isFocused = true;\r\n\t         \t\tself.alternatingTitle('');\r\n\t        \t} else if (state === 'hidden') {\r\n\t          \t\tself.isFocused = false;\r\n\t        \t}\r\n      \t\t});      \r\n\t\t},\r\n\r\n\t\tprogress : function() {\r\n\t\t\treturn nprogress;\r\n\t\t},\r\n\r\n\t\talert : function (params) {\r\n\t\t\tparams.alert_id = 'alert_button_' + (params.alert_id ? params.alert_id : new Date().getTime());\r\n\t\t\tparams.title = params.title ? params.title.trim() || '' : '';\r\n\t\t\tparams.message = params.message ? params.message.trim() : '';\r\n\t\t\tparams.type = params.type || 'info';\r\n\r\n\r\n\t\t\tvar alert = $('#' + params.alert_id);\r\n\r\n      \t\tparams.translate = params.translate || this.option(\"i18n.translate\");\r\n\t\t\tif (alert.length) {\r\n\t\t\t\tupdateAlert(alert, params);\r\n\t\t\t} else {\r\n        \t\tparams.parseTemplate = params.parseTemplate || this.option(\"templator.parse\");\r\n        \t\tparams.container  = params.container || this.option(\"alerts.container\");\r\n\t\t\t\tcreateAlert(params);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremoveAlert : function (id) {\r\n\t\t\t$('#alert_button_' + id).remove();\r\n\t\t},\r\n\r\n\t\talertSuccess : function (message, timeout) {\r\n\t\t\tthis.alert({\r\n\t\t\t\ttitle: this.option(\"alerts.titles.success\"),\r\n\t\t\t\tmessage: message,\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\ttimeout: timeout || 5000,\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\talertError : function (message, timeout) {\r\n\t\t\tmessage = message.message || message;\r\n\r\n\t\t\tthis.alert({\r\n\t\t\t\ttitle: this.option(\"alerts.titles.error\"),\r\n\t\t\t\tmessage: message,\r\n\t\t\t\ttype: 'danger',\r\n\t\t\t\ttimeout: timeout || 10000,\r\n\t\t\t});\r\n\t\t},\r\n\r\n    \talternatingTitle : function (title) {\r\n      \t\tif (typeof title !== 'string') {\r\n        \t\treturn;\r\n      \t\t}\r\n\r\n\t      var titleObj = this._titleObj;\r\n\r\n\t      if (title.length > 0 && !app.isFocused) {\r\n\t        if (!titleObj.titles[0]) {\r\n\t          titleObj.titles[0] = window.document.title;\r\n\t        }\r\n\r\n\t        var translate = this.option(\"i18n.translate\");\r\n\t        translate(title, function (translated) {\r\n\t            titleObj.titles[1] = translated;\r\n\t            if (titleObj.interval) {\r\n\t              clearInterval(titleObj.interval);\r\n\t            }\r\n\r\n\t            titleObj.interval = setInterval(function () {\r\n\t              var title = titleObj.titles[titleObj.titles.indexOf(window.document.title) ^ 1];\r\n\t              if (title) {\r\n\t                window.document.title = $('<div/>').html(title).text();\r\n\t              }\r\n\t            }, 2000);\r\n\t        });\r\n\t        \r\n\t      } else {\r\n\t        if (titleObj.interval) {\r\n\t          clearInterval(titleObj.interval);\r\n\t        }\r\n\t        if (titleObj.titles[0]) {\r\n\t          window.document.title = $('<div/>').html(titleObj.titles[0]).text();\r\n\t        }\r\n\t      }\r\n\t    },\r\n\r\n\t    refreshTitle : function (title) {\r\n\t        var self = this,\r\n\t            translate = this.option(\"i18n.translate\"),\r\n\t            titleObj = this._titleObj;\r\n\r\n\t        translate(title, function (translated) {\r\n\t          titleObj.titles[0] = translated;\r\n\t          self.alternatingTitle('');\r\n\t        });\r\n\t    },\r\n\r\n\r\n\t    /*\r\n\t     * Manipulatethe favicon, in particular adding alert bubbles and changing images. \r\n\t     */\r\n\t    tinycon : function(bubble,options) {\r\n\r\n\t    \tif (langx.isUndefined(options)){\r\n\t    \t\tif (langx.isPlainObject(bubble))\t{\r\n\t    \t\t\toptions = bubble;\r\n\t    \t\t\tbubble = undefined;\r\n\t    \t\t}\r\n\t    \t} \r\n\r\n\t    \tif (langx.isDefined(options)) {\r\n\t    \t\tTinycon.setOptions(options)\r\n\t    \t}\r\n\t    \tif (langx.isDefined(bubble)) {\r\n\t    \t\tTinycon.setBubble(bubble);\r\n\t    \t}\r\n\r\n\t    },\r\n\r\n\r\n\t\treskin : function (skinName,cssUrl,clientEl) {\r\n\r\n\t\t\tif (!clientEl) {\r\n\t\t\t\tclientEl = document.getElementById(\"skinSheet\");\r\n\t\t\t\tif (!clientEl) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar currentSkinClassName = $('body').attr('class').split(/\\s+/).filter(function (className) {\r\n\t\t\t\treturn className.startsWith('skin-');\r\n\t\t\t});\r\n\t\t\tvar currentSkin = currentSkinClassName[0].slice(5);\r\n\t\t\tcurrentSkin = currentSkin !== 'noskin' ? currentSkin : '';\r\n\r\n\t\t\t// Stop execution if skin didn't change\r\n\t\t\tif (skinName === currentSkin) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar linkEl = document.createElement('link');\r\n\t\t\tlinkEl.rel = 'stylesheet';\r\n\t\t\tlinkEl.type = 'text/css';\r\n\t\t\tlinkEl.href = cssUrl;\r\n\t\t\tlinkEl.onload = function () {\r\n\t\t\t\tclientEl.parentNode.removeChild(clientEl);\r\n\r\n\t\t\t\t// Update body class with proper skin name\r\n\t\t\t\t$('body').removeClass(currentSkinClassName.join(' '));\r\n\t\t\t\t$('body').addClass('skin-' + (skinName || 'noskin'));\r\n\t\t\t};\r\n\r\n\t\t\tdocument.head.appendChild(linkEl);\r\n\t\t},\r\n\r\n\r\n\t\tloadStyleSheet : function(url,options,loadedCallback, errorCallback) {\r\n\t\t\treturn css.loadStyleSheet(url,options,loadedCallback, errorCallback);\r\n\r\n\t\t},\r\n\r\n\t\tremoveStyleSheet : function(id) {\r\n\t\t\treturn css.removeStyleSheet(id);\r\n\r\n\t\t},\r\n\r\n\t\tloadScript : function(url, loadedCallback, errorCallback) {\r\n\t\t\treturn scripter.loadJavaScript(url,loadedCallback,errorCallback);\r\n\t\t},\r\n\r\n\t\tremoveScript : function(id) {\r\n\t\t\treturn scripter.deleteJavaScript(id);\r\n\t\t}\r\n\r\n\r\n\t});\r\n\r\n\r\n\treturn shells.Shell = Shell;\r\n\r\n});\r\n\ndefine('skylark-appify-shells/main',[\r\n\t\"./shells\",\r\n\t\"./shell\"\r\n],function(shells){\r\n\treturn shells;\r\n});\ndefine('skylark-appify-shells', ['skylark-appify-shells/main'], function (main) { return main; });\n\n"]}