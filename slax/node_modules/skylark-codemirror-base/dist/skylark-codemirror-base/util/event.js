/**
 * skylark-codemirror-base - A version of codemirror 5.45 core library that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-codemirror-base/
 * @license MIT
 */
define(["./browser","./misc"],function(e,t){"use strict";const n=[];let r=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{let o=e._handlers||(e._handlers={});o[t]=(o[t]||n).concat(r)}};function o(e,t){return e._handlers&&e._handlers[t]||n}function i(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r,!1);else if(e.detachEvent)e.detachEvent("on"+n,r);else{let o=e._handlers,i=o&&o[n];if(i){let e=t.indexOf(i,r);e>-1&&(o[n]=i.slice(0,e).concat(i.slice(e+1)))}}}function l(e,t){let n=o(e,t);if(!n.length)return;let r=Array.prototype.slice.call(arguments,2);for(let e=0;e<n.length;++e)n[e].apply(null,r)}function u(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function c(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function a(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}return{on:r,getHandlers:o,off:i,signal:l,signalDOMEvent:function(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),l(e,n||t.type,e,t),a(t)||t.codemirrorIgnore},signalCursorActivity:function(e){let n=e._handlers&&e._handlers.cursorActivity;if(!n)return;let r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(let e=0;e<n.length;++e)-1==t.indexOf(r,n[e])&&r.push(n[e])},hasHandler:function(e,t){return o(e,t).length>0},eventMixin:function(e){e.prototype.on=function(e,t){r(this,e,t)},e.prototype.off=function(e,t){i(this,e,t)}},e_preventDefault:u,e_stopPropagation:c,e_defaultPrevented:a,e_stop:function(e){u(e),c(e)},e_target:function(e){return e.target||e.srcElement},e_button:function(t){let n=t.which;return null==n&&(1&t.button?n=1:2&t.button?n=3:4&t.button&&(n=2)),e.mac&&t.ctrlKey&&1==n&&(n=3),n}}});
//# sourceMappingURL=../sourcemaps/util/event.js.map
