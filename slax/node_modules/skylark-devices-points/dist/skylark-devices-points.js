/**
 * skylark-devices-points - The points  utility library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.1
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(e,t){var n=t.define,require=t.require,o="function"==typeof n&&n.amd,i=!o&&"undefined"!=typeof exports;if(!o&&!n){var r={};n=t.define=function(e,t,n){"function"==typeof n?(r[e]={factory:n,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var n=t.split("/"),o=e.split("/");n.pop();for(var i=0;i<o.length;i++)"."!=o[i]&&(".."==o[i]?n.pop():n.push(o[i]));return n.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):r[e]={factory:null,resolved:!0,exports:n}},require=t.require=function(e){if(!r.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=r[e];if(!module.resolved){var n=[];module.deps.forEach(function(e){n.push(require(e))}),module.exports=module.factory.apply(t,n)||null,module.resolved=!0}return module.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-devices-points/points",["skylark-langx-ns"],function(e){return e.attach("devices.points",{})}),e("skylark-devices-points/mouse",["./points"],function(e){return e.mouse={mouseWheelEvent:function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},normalizeWheel:function(e){var t=0,n=0,o=0,i=0;"detail"in e&&(n=e.detail);"wheelDelta"in e&&(n=-e.wheelDelta/120);"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120);"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120);"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0);o=10*t,i=10*n,"deltaY"in e&&(i=e.deltaY);"deltaX"in e&&(o=e.deltaX);(o||i)&&e.deltaMode&&(1===e.deltaMode?(o*=40,i*=40):(o*=800,i*=800));o&&!t&&(t=o<1?-1:1);i&&!n&&(n=i<1?-1:1);return{spinX:t,spinY:n,pixelX:o,pixelY:i}},isMouseEvent:function(e){return null!=e.pointerType?"mouse"==e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE:null!=e.mozInputSource?1==e.mozInputSource:0==e.type.indexOf("mouse")},isLeftMouseButton:function(e){return"buttons"in e&&("mousedown"==e.type||"mousemove"==e.type)?1==e.buttons:"which"in e?1===e.which:1===e.button},isMiddleMouseButton:function(e){return"which"in e?2===e.which:4===e.button},isRightMouseButton:function(e){return"which"in e?3===e.which:2===e.button}}}),e("skylark-devices-points/touch",["./points"],function(e){return e.touch={isTouchEnabled:function(){return new Promise(function(e){var t=function(n){e(!!n),window.removeEventListener("touchstart",t)};window.addEventListener("touchstart",t,!1),setTimeout(t,1e4)})},mousy:function(e){var t=function(e){if(!(e.touches.length>1)){var t=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var o=document.createEvent("MouseEvent");o.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(o),e.preventDefault()}};(e=e||document).addEventListener("touchstart",t,!0),e.addEventListener("touchmove",t,!0),e.addEventListener("touchend",t,!0)}}}),e("skylark-devices-points/main",["./points","./mouse","./touch"],function(e){return e}),e("skylark-devices-points",["skylark-devices-points/main"],function(e){return e})}(n),!o){var u=require("skylark-langx-ns");i?module.exports=u:t.skylarkjs=u}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-devices-points.js.map
