{"version":3,"sources":["webgl.js"],"names":["define","skylark","getWebGLCtx","canvas","document","createElement","context","getContext","some","name","getParameter","e","attach","isWebGLSupported","window","WebGLRenderingContext","getMaxTextureWidth","ctx","MAX_TEXTURE_SIZE"],"mappings":";;;;;;;AAAAA,QACC,oBACC,SAASC,GAMT,SAASC,IACP,IAAIC,EAASC,SAASC,cAAc,UAEhCC,EAAU,KAEd,OAAKH,EAAOI,aAHC,QAAS,qBAAsB,YAAa,aAO/CC,KAAK,SAASC,GACpB,IAEE,OADAH,EAAUH,EAAOI,WAAWE,KACuB,mBAAzBH,EAAQI,aAClC,MAAOC,GACP,OAAO,KAGJL,EAXA,KAyCX,OAAOL,EAAQW,OAAO,iBACrBV,YAAAA,EACAW,iBArBD,WACE,QAASC,OAAOC,uBAA2C,OAAlBb,KAqB1Cc,mBAbA,WACC,IAAIC,EAAMf,IACV,OAAY,OAARe,EACKA,EAAIP,aAAaO,EAAIC,kBAGrB","file":"../webgl.js","sourcesContent":["define([\r\n\t\"skylark-langx-ns\"\r\n],function(skylark){\r\n\r\n  /**\r\n   * @summary Tries to return a canvas webgl context\r\n   * @returns {WebGLRenderingContext}\r\n   */\r\n  function getWebGLCtx() {\r\n    var canvas = document.createElement('canvas');\r\n    var names = ['webgl', 'experimental-webgl', 'moz-webgl', 'webkit-3d'];\r\n    var context = null;\r\n\r\n    if (!canvas.getContext) {\r\n      return null;\r\n    }\r\n\r\n    if (names.some(function(name) {\r\n        try {\r\n          context = canvas.getContext(name);\r\n          return (context && typeof context.getParameter === 'function');\r\n        } catch (e) {\r\n          return false;\r\n        }\r\n      })) {\r\n      return context;\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @summary Detects if WebGL is supported\r\n   * @returns {boolean}\r\n   */\r\n  function isWebGLSupported() {\r\n    return !!window.WebGLRenderingContext && getWebGLCtx() !== null;\r\n  };\r\n\r\n\r\n  /**\r\n   * @summary Gets max texture width in WebGL context\r\n   * @returns {int}\r\n   */\r\n   function getMaxTextureWidth() {\r\n    var ctx = getWebGLCtx();\r\n    if (ctx !== null) {\r\n      return ctx.getParameter(ctx.MAX_TEXTURE_SIZE);  \r\n    }\r\n    else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  return skylark.attach(\"devices.webgl\",{\r\n  \tgetWebGLCtx,\r\n  \tisWebGLSupported,\r\n  \tgetMaxTextureWidth\r\n  })\r\n\t\r\n});"]}