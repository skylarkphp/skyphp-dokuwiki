{"version":3,"sources":["skylark-domx-animates.js"],"names":["define","skylark","langx","browser","animates","mixin","off","speeds","normal","fast","slow","animationName","normalizeCssProperty","animationDuration","animationDelay","animationTiming","animationEnd","normalizeCssEvent","animateBaseClass","attach","noder","geom","styler","eventer","cssReset","animation","elm","name","duration","ease","callback","delay","cssValues","isPlainObject","easing","complete","isString","undefined","isFunction","eace","on","clientLeft","css","this","animate","className","addClass","one","removeClass","main"],"mappings":";;;;;;;g4BAAAA,EAAA,kCACA,wBACA,sBACA,wBACA,SAAAC,EAAAC,EAAAC,GAEA,SAAAC,IACA,OAAAA,EAmBA,OAhBAF,EAAAG,MAAAD,GACAE,KAAA,EACAC,QACAC,OAAA,IACAC,KAAA,IACAC,KAAA,KAEAC,cAAAR,EAAAS,qBAAA,kBACAC,kBAAAV,EAAAS,qBAAA,sBACAE,eAAAX,EAAAS,qBAAA,mBACAG,gBAAAZ,EAAAS,qBAAA,6BACAI,aAAAb,EAAAc,kBAAA,gBAEAC,iBAAA,aAGAjB,EAAAkB,OAAA,gBAAAf,KAEAJ,EAAA,mCACA,sBACA,uBACA,qBACA,oBACA,sBACA,uBACA,cACA,SAAAE,EAAAC,EAAAiB,EAAAC,EAAAC,EAAAC,EAAAnB,GAEA,IAAAO,EAAAP,EAAAO,cACAE,EAAAT,EAAAS,kBACAE,EAAAX,EAAAW,gBACAD,EAAAV,EAAAU,eAEAE,EAAAZ,EAAAY,aAEAQ,KAjBA,OAoBAA,EAAAb,GACAa,EAAAX,GACAW,EAAAV,GACAU,EAAAT,GAAA,GAvBAX,EAAAqB,UAkCA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACA,IAAAC,KACA9B,EAAA+B,cAAAL,KACAC,EAAAD,EAAAM,OACAJ,EAAAF,EAAAO,SACAJ,EAAAH,EAAAG,MACAH,EAAAA,EAAAA,UAGA1B,EAAAkC,SAAAR,KACAA,EAAAxB,EAAAG,OAAAqB,SAEAS,IAAAT,IACAA,EAAAxB,EAAAG,OAAAC,QAEAoB,GAAA,IAEA1B,EAAAoC,WAAAT,IACAC,EAAAD,EAhFAU,KAAA,SAEAV,EAAAA,GAAA,QAGAE,EACAA,GAAA,IAEAA,EAAA,EAGAC,EAAArB,GAAAgB,EACAK,EAAAnB,GAAAe,EAAA,IACAI,EAAAjB,GAAAc,EAGAD,EAAA,GACAL,EAAAiB,GAAAd,EAAAV,EAAAc,GAQA,OAJAJ,EAAAe,WAEAnB,EAAAoB,IAAAhB,EAAAM,GAEAW,QAMA3C,EAAA,iCACA,sBACA,sBACA,uBACA,cACA,SAAAE,EAAAoB,EAAAC,EAAAnB,GAcA,OAAAA,EAAAwC,QAXA,SAAAlB,EAAAmB,GACAzC,EAAAc,mBACA2B,EAAAzC,EAAAc,iBAAA,IAAA2B,GAMA,OAJAvB,EAAAwB,SAAApB,EAAAmB,GACAtB,EAAAwB,IAAArB,EAAAtB,EAAAY,aAAA,WACAM,EAAA0B,YAAAtB,EAAAmB,KAEAF,QAKA3C,EAAA,8BACA,aACA,cACA,aACA,SAAAI,GAEA,OAAAA,IAEAJ,EAAA,yBAAA,8BAAA,SAAAiD,GAAA,OAAAA","file":"../skylark-domx-animates.js","sourcesContent":["define('skylark-domx-animates/animates',[\r\n    \"skylark-langx/skylark\",\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-browser\"\r\n], function(skylark,langx,browser) {\r\n\r\n    function animates() {\r\n        return animates;\r\n    }\r\n\r\n    langx.mixin(animates, {\r\n        off: false,\r\n        speeds: {\r\n            normal: 400,\r\n            fast: 200,\r\n            slow: 600\r\n        },\r\n        animationName : browser.normalizeCssProperty(\"animation-name\"),\r\n        animationDuration : browser.normalizeCssProperty(\"animation-duration\"),\r\n        animationDelay : browser.normalizeCssProperty(\"animation-delay\"),\r\n        animationTiming : browser.normalizeCssProperty(\"animation-timing-function\"),\r\n        animationEnd : browser.normalizeCssEvent('AnimationEnd'),\r\n\r\n        animateBaseClass : \"animated\"\r\n    });\r\n\r\n    return skylark.attach(\"domx.animates\", animates);\r\n});\ndefine('skylark-domx-animates/animation',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-browser\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-geom\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-eventer\",\r\n    \"./animates\"\r\n], function(langx, browser, noder, geom, styler, eventer,animates) {\r\n\r\n    var animationName = animates.animationName,\r\n        animationDuration = animates.animationDuration,\r\n        animationTiming = animates.animationTiming,\r\n        animationDelay = animates.animationDelay,\r\n\r\n        animationEnd = animates.animationEnd,\r\n\r\n        cssReset = {};\r\n\r\n\r\n    cssReset[animationName] =\r\n        cssReset[animationDuration] =\r\n        cssReset[animationDelay] =\r\n        cssReset[animationTiming] = \"\";\r\n\r\n    /*   \r\n     * Perform a custom animation.\r\n     * @param {Object} elm  \r\n     * @param {String} name\r\n     * @param {String} ease\r\n     * @param {Number or String} duration\r\n     * @param {Function} callback\r\n     * @param {Number or String} delay\r\n     */\r\n    function animation(elm, name, duration, ease, callback, delay) {\r\n        var cssValues = {};\r\n        if (langx.isPlainObject(duration)) {\r\n            ease = duration.easing;\r\n            callback = duration.complete;\r\n            delay = duration.delay;\r\n            duration = duration.duration;\r\n        }\r\n\r\n        if (langx.isString(duration)) {\r\n            duration = animates.speeds[duration];\r\n        }\r\n        if (duration === undefined) {\r\n            duration = animates.speeds.normal;\r\n        }\r\n        duration = duration / 1000;\r\n\r\n        if (langx.isFunction(ease)) {\r\n            callback = ease;\r\n            eace = \"swing\";\r\n        } else {\r\n            ease = ease || \"swing\";\r\n        }\r\n\r\n        if (delay) {\r\n            delay = delay / 1000;\r\n        } else {\r\n            delay = 0;\r\n        }\r\n        // keyframe animation\r\n        cssValues[animationName] = name;\r\n        cssValues[animationDuration] = duration + \"s\";\r\n        cssValues[animationTiming] = ease;\r\n\r\n\r\n        if (duration > 0) {\r\n            eventer.on(elm, animationEnd, callback);\r\n        }\r\n\r\n        // trigger page reflow so new elements can animate\r\n        elm.clientLeft;\r\n\r\n        styler.css(elm, cssValues);\r\n\r\n        return this;\r\n    }\r\n\r\n    return animates.animation = animation;\r\n\r\n});\ndefine('skylark-domx-animates/animate',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-eventer\",\r\n    \"./animates\"\r\n], function(langx, styler, eventer,animates) {\r\n\r\n\r\n    function animate(elm,className) {\r\n        if (animates.animateBaseClass) {\r\n          className = animates.animateBaseClass + \" \" + className;\r\n        }\r\n        styler.addClass(elm,className);\r\n        eventer.one(elm,animates.animationEnd, function() {\r\n            styler.removeClass(elm,className);\r\n        });\r\n        return this;\r\n    }\r\n    \r\n    return animates.animate = animate;\r\n});\ndefine('skylark-domx-animates/main',[\r\n\t\"./animates\",\r\n    \"./animation\",\r\n    \"./animate\"\r\n],function(animates){\r\n\r\n\treturn animates;\r\n});\ndefine('skylark-domx-animates', ['skylark-domx-animates/main'], function (main) { return main; });\n\n"]}