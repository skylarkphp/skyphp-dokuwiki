{"version":3,"sources":["support/css3.js"],"names":["define","langx","browser","vendorPrefix","vendorPrefixRE","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","transEndEventName","css3PropPrefix","css3EventPrefix","cssStyles","cssProps","vendorPrefixesRE","testEl","window","document","createElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","testStyle","style","name","matched","match","RegExp","toLowerCase","lowerFirst","cssPropName","dasherize","undefined","css3","normalizeStyleProperty","normalizeCssProperty","normalizeCssEvent","mixin","propPrefix","support","end","cssPointerEvents","pointerEvents","cssText"],"mappings":";;;;;;;AAAAA,QACI,sBACA,cACD,SAASC,EAAMC,GACd,aAEA,IAmBIC,EACAC,EAjBAC,GACEC,iBAAmB,sBACnBC,cAAmB,gBACnBC,YAAmB,gCACnBC,WAAmB,iBAErBC,EAAoB,KAGpBC,EAAiB,GAEjBC,EAAkB,GAElBC,KACAC,KAIAC,EAAmB,qCAGnBC,EADWC,OAAOC,SACAC,cAAc,OAEhCC,EAAkBJ,EAAOK,uBACPL,EAAOM,oBACPN,EAAOO,kBACPP,EAAOI,gBAEzBI,EAAYR,EAAOS,MAEvB,IAAK,IAAIC,KAAQF,EAAW,CACxB,IAAIG,EAAUD,EAAKE,MAAMxB,GAAkBW,GAC3C,GAAIY,EAAS,CACJvB,IACDD,EAAewB,EAAQ,GACvBvB,EAAiB,IAAIyB,OAAO,KAAO1B,EAAe,UAEhCA,EAClBQ,EAAiB,IAAMR,EAAa2B,cAAgB,IACpDlB,EAAkBT,EAAa2B,eAGnCjB,EAAUZ,EAAM8B,WAAWJ,EAAQ,KAAOD,EAC1C,IAAIM,EAAc/B,EAAMgC,UAAUN,EAAQ,IAC1Cb,EAASkB,GAAerB,EAAiBqB,EAErC3B,EAAmBqB,KACrBhB,EAAoBL,EAAmBqB,KAK5ChB,QAC+BwB,IAA5BV,EAAsB,aACtBd,EAAoBL,EAA+B,YAiB3D,IAAI8B,GAEAC,uBAPJ,SAAgCV,GAC5B,OAAOb,EAAUa,IAASA,GAQ1BW,qBAbJ,SAA8BX,GAC1B,OAAOZ,EAASY,IAASA,GAczBY,kBAnBJ,SAA2BZ,GACvB,OAAOd,EAAkBA,EAAkBc,EAAOA,EAAKI,eAoBvDV,gBAAiBA,GAuBrB,OApBAnB,EAAMsC,MAAMrC,EAAQiC,GAEpBjC,EAAQS,eAAiBwB,EAAKK,WAAc7B,EAEvCD,IACDR,EAAQuC,QAAQhC,WAAa0B,EAAK1B,YAC9BiC,IAAMhC,IAIdR,EAAQuC,QAAQE,iBAAmBR,EAAKS,eACpC5B,EAAOS,MAAMoB,QAAU,sBACe,SAA/B7B,EAAOS,MAAMmB,eAMxB5B,EAAS,KAEFd,EAAQuC,QAAQN,KAAOA","file":"../../support/css3.js","sourcesContent":["define([\r\n    \"skylark-langx/langx\",\r\n    \"../browser\"\r\n], function(langx,browser) {\r\n    \"use strict\";\r\n\r\n    var checkedCssProperties = {\r\n            \"transitionproperty\": \"TransitionProperty\",\r\n        },\r\n        transEndEventNames = {\r\n          WebkitTransition : 'webkitTransitionEnd',\r\n          MozTransition    : 'transitionend',\r\n          OTransition      : 'oTransitionEnd otransitionend',\r\n          transition       : 'transitionend'\r\n        },\r\n        transEndEventName = null;\r\n\r\n\r\n    var css3PropPrefix = \"\",\r\n        css3StylePrefix = \"\",\r\n        css3EventPrefix = \"\",\r\n\r\n        cssStyles = {},\r\n        cssProps = {},\r\n\r\n        vendorPrefix,\r\n        vendorPrefixRE,\r\n        vendorPrefixesRE = /^(Webkit|webkit|O|Moz|moz|ms)(.*)$/,\r\n\r\n        document = window.document,\r\n        testEl = document.createElement(\"div\"),\r\n\r\n        matchesSelector = testEl.webkitMatchesSelector ||\r\n                          testEl.mozMatchesSelector ||\r\n                          testEl.oMatchesSelector ||\r\n                          testEl.matchesSelector,\r\n\r\n        testStyle = testEl.style;\r\n\r\n    for (var name in testStyle) {\r\n        var matched = name.match(vendorPrefixRE || vendorPrefixesRE);\r\n        if (matched) {\r\n            if (!vendorPrefixRE) {\r\n                vendorPrefix = matched[1];\r\n                vendorPrefixRE = new RegExp(\"^(\" + vendorPrefix + \")(.*)$\");\r\n\r\n                css3StylePrefix = vendorPrefix;\r\n                css3PropPrefix = '-' + vendorPrefix.toLowerCase() + '-';\r\n                css3EventPrefix = vendorPrefix.toLowerCase();\r\n            }\r\n\r\n            cssStyles[langx.lowerFirst(matched[2])] = name;\r\n            var cssPropName = langx.dasherize(matched[2]);\r\n            cssProps[cssPropName] = css3PropPrefix + cssPropName;\r\n\r\n            if (transEndEventNames[name]) {\r\n              transEndEventName = transEndEventNames[name];\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!transEndEventName) {\r\n        if (testStyle[\"transition\"] !== undefined) {\r\n            transEndEventName = transEndEventNames[\"transition\"];\r\n        }\r\n    }\r\n\r\n    function normalizeCssEvent(name) {\r\n        return css3EventPrefix ? css3EventPrefix + name : name.toLowerCase();\r\n    }\r\n\r\n    function normalizeCssProperty(name) {\r\n        return cssProps[name] || name;\r\n    }\r\n\r\n    function normalizeStyleProperty(name) {\r\n        return cssStyles[name] || name;\r\n    }\r\n\r\n\r\n    var css3 = {\r\n\r\n        normalizeStyleProperty: normalizeStyleProperty,\r\n\r\n        normalizeCssProperty: normalizeCssProperty,\r\n\r\n        normalizeCssEvent: normalizeCssEvent,\r\n\r\n        matchesSelector: matchesSelector        \r\n    };\r\n\r\n    langx.mixin(browser,css3);\r\n\r\n    browser.css3PropPrefix = css3.propPrefix =  css3PropPrefix;\r\n\r\n    if  (transEndEventName) {\r\n        browser.support.transition = css3.transition = {\r\n            end : transEndEventName\r\n        };\r\n    }\r\n\r\n    browser.support.cssPointerEvents = css3.pointerEvents =  (function() {\r\n        testEl.style.cssText = 'pointer-events:auto';\r\n        return testEl.style.pointerEvents === 'auto';\r\n    })(),\r\n\r\n\r\n\r\n\r\n    testEl = null;\r\n\r\n    return browser.support.css3 = css3;\r\n});\r\n"]}