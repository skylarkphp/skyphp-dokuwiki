/**
 * skylark-domx-files - The filer features enhancement for skylark utils.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.1
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(e,r){var n=r.define,require=r.require,a="function"==typeof n&&n.amd,t=!a&&"undefined"!=typeof exports;if(!a&&!n){var s={};n=r.define=function(e,r,n){"function"==typeof n?(s[e]={factory:n,deps:r.map(function(r){return function(e,r){if("."!==e[0])return e;var n=r.split("/"),a=e.split("/");n.pop();for(var t=0;t<a.length;t++)"."!=a[t]&&(".."==a[t]?n.pop():n.push(a[t]));return n.join("/")}(r,e)}),resolved:!1,exports:null},require(e)):s[e]={factory:null,resolved:!0,exports:n}},require=r.require=function(e){if(!s.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=s[e];if(!module.resolved){var n=[];module.deps.forEach(function(e){n.push(require(e))}),module.exports=module.factory.apply(r,n)||null,module.resolved=!0}return module.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-domx-files/files",["skylark-langx/skylark"],function(e){var r=function(){return r};return e.attach("domx.files",r)}),e("skylark-langx/deferred",["skylark-langx-async"],function(e){return e.Deferred}),e("skylark-domx-files/dropzone",["skylark-langx/arrays","skylark-langx/deferred","skylark-domx-styler","skylark-domx-eventer","skylark-domx-velm","skylark-domx-query","skylark-io-diskfs/webentry","./files"],function(e,r,n,a,t,s,o,l){function i(r,t){var s=(t=t||{}).hoverClass||"hover",l=t.dropped,i=0;return a.on(r,"dragenter",function(e){e.dataTransfer&&e.dataTransfer.types.indexOf("Files")>-1&&(a.stop(e),i++,n.addClass(r,s))}),a.on(r,"dragover",function(e){e.dataTransfer&&e.dataTransfer.types.indexOf("Files")>-1&&a.stop(e)}),a.on(r,"dragleave",function(e){e.dataTransfer&&e.dataTransfer.types.indexOf("Files")>-1&&0==--i&&n.removeClass(r,s)}),a.on(r,"drop",function(t){if(t.dataTransfer&&t.dataTransfer.types.indexOf("Files")>-1&&(n.removeClass(r,s),a.stop(t),l)){var i=t.dataTransfer.items;i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?o.all(e.map(i,function(e){return e.webkitGetAsEntry?e.webkitGetAsEntry():e.getAsEntry()})).then(l):l(t.dataTransfer.files)}}),this}return l.dropzone=i,t.delegate(["dropzone"],l),s.fn.dropzone=s.wraps.wrapper_every_act(l.dropzone,l),i}),e("skylark-domx-files/pastezone",["skylark-langx/objects","skylark-domx-eventer","skylark-domx-velm","skylark-domx-query","./files"],function(e,r,n,a,t){function s(n,a){(a=a||{}).hoverClass;var t=a.pasted;return r.on(n,"paste",function(r){var n=r.originalEvent&&r.originalEvent.clipboardData&&r.originalEvent.clipboardData.items,a=[];n&&n.length&&e.each(n,function(e,r){var n=r.getAsFile&&r.getAsFile();n&&a.push(n)}),t&&a.length&&t(a)}),this}return t.pastezone=s,n.delegate(["pastezone"],t),a.fn.pastezone=a.wraps.wrapper_every_act(t.pastezone,t),s}),e("skylark-domx-files/picker",["skylark-langx/objects","skylark-domx-eventer","skylark-domx-velm","skylark-domx-query","skylark-io-diskfs/select","./files"],function(e,r,n,a,t,s){function o(e,n){return r.on(e,"click",function(e){e.preventDefault(),t(n)}),this}return s.picker=o,n.delegate(["picker"],s),a.fn.picker=a.wraps.wrapper_every_act(s.picker,s),o}),e("skylark-domx-files/main",["./files","./dropzone","./pastezone","./picker"],function(e){return e}),e("skylark-domx-files",["skylark-domx-files/main"],function(e){return e})}(n),!a){var o=require("skylark-langx-ns");t?module.exports=o:r.skylarkjs=o}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-files.js.map
