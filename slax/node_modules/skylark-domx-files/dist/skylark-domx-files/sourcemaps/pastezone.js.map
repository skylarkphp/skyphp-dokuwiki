{"version":3,"sources":["pastezone.js"],"names":["define","objects","eventer","velm","$","files","pastezone","elm","params","hoverClass","pastedCallback","pasted","on","e","items","originalEvent","clipboardData","length","each","index","item","file","getAsFile","push","this","delegate","fn","wraps","wrapper_every_act"],"mappings":";;;;;;;AAAAA,QACI,wBACA,uBACA,oBACA,qBACA,WACF,SAASC,EAASC,EAAQC,EAAKC,EAAGC,GAChC,SAASC,EAAUC,EAAKC,IACpBA,EAASA,OACeC,WAAxB,IACIC,EAAiBF,EAAOG,OAmB5B,OAjBAT,EAAQU,GAAGL,EAAK,QAAS,SAASM,GAC9B,IAAIC,EAAQD,EAAEE,eAAiBF,EAAEE,cAAcC,eAC3CH,EAAEE,cAAcC,cAAcF,MAC9BT,KACAS,GAASA,EAAMG,QACfhB,EAAQiB,KAAKJ,EAAO,SAASK,EAAOC,GAChC,IAAIC,EAAOD,EAAKE,WAAaF,EAAKE,YAC9BD,GACAhB,EAAMkB,KAAKF,KAInBX,GAAkBL,EAAMY,QACxBP,EAAeL,KAIhBmB,KAWX,OARAnB,EAAMC,UAAYA,EAElBH,EAAKsB,UACD,aACFpB,GAEFD,EAAEsB,GAAGpB,UAAYF,EAAEuB,MAAMC,kBAAkBvB,EAAMC,UAAWD,GAErDC","file":"../pastezone.js","sourcesContent":["define([\r\n    \"skylark-langx/objects\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-velm\",\r\n    \"skylark-domx-query\",   \r\n    \"./files\"\r\n],function(objects, eventer,velm,$, files){\r\n    function pastezone(elm, params) {\r\n        params = params || {};\r\n        var hoverClass = params.hoverClass || \"hover\",\r\n            pastedCallback = params.pasted;\r\n\r\n        eventer.on(elm, \"paste\", function(e) {\r\n            var items = e.originalEvent && e.originalEvent.clipboardData &&\r\n                e.originalEvent.clipboardData.items,\r\n                files = [];\r\n            if (items && items.length) {\r\n                objects.each(items, function(index, item) {\r\n                    var file = item.getAsFile && item.getAsFile();\r\n                    if (file) {\r\n                        files.push(file);\r\n                    }\r\n                });\r\n            }\r\n            if (pastedCallback && files.length) {\r\n                pastedCallback(files);\r\n            }\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    files.pastezone = pastezone;\r\n\r\n    velm.delegate([\r\n        \"pastezone\"\r\n    ],files);\r\n\r\n    $.fn.pastezone = $.wraps.wrapper_every_act(files.pastezone, files);\r\n\r\n    return pastezone;\r\n\r\n});\r\n"]}