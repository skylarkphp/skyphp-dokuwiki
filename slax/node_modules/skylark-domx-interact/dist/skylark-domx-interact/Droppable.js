/**
 * skylark-domx-interact - The interact features enhancement for dom.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins","./interact","./ddmanager"],function(r,e,a,n,t,o,s,d,g,i){o.on,o.off,a.attr,a.removeAttr,t.pagePosition,s.addClass,t.height;var l=d.Plugin.inherit({klassName:"Droppable",pluginName:"lark.droppable",options:{draggingClass:"dragging"},_construct:function(e,a){this.overrided(e,a);var n,t,d=this,g=((a=d.options).draggingClass,!0);["started","entered","leaved","dropped","overing"].forEach(function(e){r.isFunction(a[e])&&d.on(e,a[e])}),o.on(e,{dragover:function(r){if(r.stopPropagation(),g){var e=o.create("overing",{overElm:r.target,transfer:i.draggingTransfer,acceptable:!0});d.trigger(e),e.acceptable&&(r.preventDefault(),r.dataTransfer.dropEffect="copyMove")}},dragenter:function(r){d.options;var e=d._elm,a=o.create("entered",{transfer:i.draggingTransfer});d.trigger(a),r.stopPropagation(),n&&g&&s.addClass(e,n)},dragleave:function(r){d.options;var e=d._elm;if(!g)return!1;var a=o.create("leaved",{transfer:i.draggingTransfer});d.trigger(a),r.stopPropagation(),n&&g&&s.removeClass(e,n)},drop:function(r){d.options;var e=d._elm;if(o.stop(r),i.dragging){n&&g&&s.addClass(e,n);var a=o.create("dropped",{transfer:i.draggingTransfer});d.trigger(a),i.end(!0)}}}),i.on("dndStarted",function(r){var a=o.create("started",{transfer:i.draggingTransfer,acceptable:!1});d.trigger(a),g=a.acceptable,n=a.hoverClass,(t=a.activeClass)&&g&&s.addClass(e,t)}).on("dndEnded",function(r){var a=o.create("ended",{transfer:i.draggingTransfer,acceptable:!1});d.trigger(a),n&&g&&s.removeClass(e,n),t&&g&&s.removeClass(e,t),g=!1,t=null,n=null})}});return d.register(l,"droppable"),g.Droppable=l});
//# sourceMappingURL=sourcemaps/Droppable.js.map
