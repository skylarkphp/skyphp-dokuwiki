{"version":3,"sources":["skylark-domx-lists.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../skylark-domx-lists.js","sourcesContent":["define('skylark-domx-lists/lists',[\r\n\t\"skylark-langx-ns\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-data\",\r\n\t\"skylark-domx-geom\",\r\n\t\"skylark-domx-finder\",\r\n\t\"skylark-domx-noder\",\r\n\t\"skylark-domx-styler\"\r\n],function(skylark){\r\n\treturn skylark.attach(\"domx.lists\");\r\n});\ndefine('skylark-domx-lists/multitier',[\r\n\t\"skylark-langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"./lists\"\r\n],function(langx,$,lists){\r\n  'use strict'\r\n\r\n\tfunction multitier(elm,options) {\r\n\t\toptions = langx.mixin({\r\n\r\n\t\t\tclasses : {\r\n\t\t\t\tactive : \"active\",\r\n\t\t\t\tcollapse : \"collapse\",\r\n\t\t\t\tin : \"in\",\r\n\t\t\t},\r\n\r\n\t\t\tselectors : {\r\n\t\t\t\titem : \"li\",                   // \".list-group-item\"\r\n\t\t\t\tsublist : \"ul\",  // \"> .list-group\"\r\n\t\t\t\thasSublist : \":has(ul)\",\r\n\t\t\t\thandler : \" > a\"\r\n\t\t\t},\r\n\r\n\r\n\t\t\tmode   : \"\",  // \"tree\" or \"accordion\" or \"popover\"\r\n\r\n\t\t\tlevels : 2,\r\n\r\n\t\t\ttogglable : false,\r\n\t\t\tmultiExpand : false,\r\n\r\n\t\t\t/*\r\n\t\t\tshow : function($el) {\r\n\t\t\t\t$el.show();\r\n\t\t\t},\r\n\r\n\t\t\thide : function($el) {\r\n\t\t\t\t//$el.hide();\r\n\t\t\t\t$el.add\r\n\t\t\t},\r\n\r\n\t\t\ttoggle : function($el) {\r\n\t\t\t\t$el.toggle();\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t},options,true);\r\n\r\n    var itemSelector = options.selectors.item,\r\n        $items = $(itemSelector,elm),\r\n\r\n        activeClass = options.classes.active,\r\n        activeSelector = \".\" + activeClass,\r\n\r\n\t\tmultitierMode = options.mode,\r\n\r\n        sublistSelector = options.selectors.sublist,  \r\n        togglable = options.togglable,   \r\n        multiExpand = options.multiExpand,\r\n        handlerSelector = options.selectors.handler,\r\n\r\n        collapseClass = options.classes.collapse,\r\n        inClass = options.classes.in,\r\n        inSelector = \".\" + inClass,\r\n\r\n        show = options.show || function($el) {\r\n        \t$el.addClass(inClass);\r\n        },\r\n        hide = options.hide || function($el) {\r\n        \t$el.addClass(collapseClass).removeClass(inClass);\r\n\r\n        },\r\n        toggle = options.toggle || function($el) {\r\n\t\t\tif ($el.hasClass(inClass)) {\r\n\t\t\t\thide($el);\r\n\t\t\t} else {\r\n\t\t\t\tshow($el);\r\n\t\t\t}\r\n        };\r\n\r\n     $items.find(handlerSelector).on(\"click.multitier\", function(e) {\r\n          e.preventDefault();\r\n\r\n          let $children,\r\n          \t  $clickedItem =  $(this).closest(itemSelector);\r\n\r\n          if (!multiExpand) {\r\n              ///langx.scall($(this).closest(itemSelector).siblings().removeClass(\"active\").children(sublistSelector+\".in\").plugin(\"domx.toggles.collapse\"),\"hide\");\r\n              //$clildren = $(this).closest(itemSelector).siblings().removeClass(activeClass).children(sublistSelector+\".\"+options.classes.in);\r\n              $children = $clickedItem.siblings().removeClass(activeClass).children(sublistSelector);\r\n              if ($children) {\r\n\t              hide($children);\r\n              }\r\n          }\r\n          //$(this).closest(itemSelector).toggleClass(activeClass).children(sublistSelector).plugin(\"domx.toggles.collapse\").toggle();\r\n          let isActiveItem = $clickedItem.hasClass(activeClass);\r\n          if (!isActiveItem || togglable) {\r\n\t          $children = $clickedItem.children(options.selectors.sublist);\r\n\t          if (isActiveItem) {\r\n\t\t\t\t$clickedItem.removeClass(activeClass);\r\n\t\t\t\thide($children)  \t\r\n\t          } else {\r\n\t\t\t\t$clickedItem.addClass(activeClass);\r\n\t\t\t\tshow($children)  \t\r\n\t          }\r\n\r\n          }\r\n      });\r\n\r\n      hide($items.has(sublistSelector).children(sublistSelector));\r\n\r\n      show($items.filter(activeSelector).has(sublistSelector).children(sublistSelector))\r\n\r\n\r\n\t}\r\n\r\n\treturn lists.multitier = multitier\r\n});\ndefine('skylark-domx-lists/main',[\r\n\t\"./lists\",\r\n\t\"./multitier\"\r\n],function(lists){\r\n\treturn lists;\r\n});\ndefine('skylark-domx-lists', ['skylark-domx-lists/main'], function (main) { return main; });\n\n"]}