{"version":3,"sources":["skylark-domx-noder.js"],"names":["define","skylark","types","arrays","strings","scripter","browser","isIE","navigator","userAgent","match","fragmentRE","singleTagRE","div","document","createElement","table","tableBody","tableRow","containers","tr","tbody","thead","tfoot","td","th","*","rootNodeRE","rscriptType","map","Array","prototype","slice","ensureNodes","content","copyByClone","nodes","call","isArrayLike","value","isElement","isTextNode","test","createTextNode","filter","normalizeContent","node","cloneNode","flatten","nodeName","elm","chkName","name","toLowerCase","undefined","enhancePlaceContent","placing","isFunction","apply","neddsFlattern","i","length","append","parentNode","appendChild","this","tag","props","attrs","parent","createElementNS","isHtmlNode","setAttribute","empty","hasChildNodes","child","firstChild","removeChild","fullscreen","el","exitFullscreen","support","requestFullscreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","rxhtmlTag","isChildOf","directly","documentElement","contains","nodeType","ownerDoc","ownerDocument","isEditable","contentEditable","noder","Object","assign","active","doc","activeElement","error","body","after","refNode","nextSibling","insertBefore","before","blur","clone","deep","self","each","getAttribs","attr","setAttrib","getAttrib","contents","contentDocument","childNodes","createFragment","html","trim","RegExp","$1","container","innerHTML","xml","split","newXml","edsplit","removeSelfClosingTags","dom","forEach","text","generateId","str","tagName","className","src","href","textContent","sum","charCodeAt","toString","focusable","element","hasTabindex","mapName","img","focusableIfVisible","fieldset","$","is","disabled","closest","visible","fromPoint","x","y","elementFromPoint","result","isString","replace","isNumber","_html","scripts","querySelectorAll","node1","type","evaluate","isActive","elem","isDocument","DOCUMENT_NODE","isFullscreen","isInDocument","isInFrame","window","isInput","isWindow","offsetParent","defaultView","getComputedStyle","position","ownerWindow","parentWindow","prepend","reflow","offsetHeight","remove","e","console","warn","children","oldNode","replaceChild","selectable","style","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","traverse","fn","len","reverse","wrapper","wrapperNode","wrapperInner","unwrap","isDoc","attach","styler","overlay","params","overlayDiv","css","top","left","width","height","zIndex","opacity","langx","throb","timer","time","callback","throbber","clearTimeout","setTimeout","update","textNode","nodeValue","main"],"mappings":"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","file":"../skylark-domx-noder.js","sourcesContent":["define('skylark-domx-noder/noder',[\r\n    \"skylark-langx-ns\",\r\n    \"skylark-langx-types\",\r\n    \"skylark-langx-arrays\",\r\n    \"skylark-langx-strings\",\r\n    \"skylark-langx-scripter\",\r\n    \"skylark-domx-browser\"\r\n], function(skylark, types, arrays, strings,scripter,browser) {\r\n    var isIE = !!navigator.userAgent.match(/Trident/g) || !!navigator.userAgent.match(/MSIE/g),\r\n        fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\r\n        singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\r\n        div = document.createElement(\"div\"),\r\n        table = document.createElement('table'),\r\n        tableBody = document.createElement('tbody'),\r\n        tableRow = document.createElement('tr'),\r\n        containers = {\r\n            'tr': tableBody,\r\n            'tbody': table,\r\n            'thead': table,\r\n            'tfoot': table,\r\n            'td': tableRow,\r\n            'th': tableRow,\r\n            '*': div\r\n        },\r\n        rootNodeRE = /^(?:body|html)$/i,\r\n        rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i ),\r\n        map = Array.prototype.map,\r\n        slice = Array.prototype.slice;\r\n\r\n\r\n\r\n    function normalizeContent(content) {\r\n        if (typeof content === 'function') {\r\n            content = content();\r\n        }\r\n        return map.call(types.isArrayLike(content) ? content : [content],value => {\r\n            if (typeof value === 'function') {\r\n                value = value();\r\n            }\r\n            if (isElement(value) || isTextNode(value)) {\r\n                return value;\r\n            }\r\n            if (typeof value === 'string' && /\\S/.test(value)) {\r\n                return document.createTextNode(value);\r\n            }\r\n        }).filter(value => value);\r\n    }\r\n\r\n    function ensureNodes(content, copyByClone) {\r\n        var nodes = normalizeContent(content);\r\n\r\n\r\n        //if (!types.isArrayLike(nodes)) {\r\n        //    nodes = [nodes];\r\n        //}\r\n        if (copyByClone) {\r\n            nodes = map.call(nodes, function(node) {\r\n                return node.cloneNode(true);\r\n            });\r\n        }\r\n        return arrays.flatten(nodes);\r\n    }\r\n\r\n    function nodeName(elm, chkName) {\r\n        var name = elm.nodeName && elm.nodeName.toLowerCase();\r\n        if (chkName !== undefined) {\r\n            return name === chkName.toLowerCase();\r\n        }\r\n        return name;\r\n    };\r\n\r\n\r\n    function activeElement(doc) {\r\n        doc = doc || document;\r\n        var el;\r\n\r\n        // Support: IE 9 only\r\n        // IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\r\n        try {\r\n            el = doc.activeElement;\r\n        } catch ( error ) {\r\n            el = doc.body;\r\n        }\r\n\r\n        // Support: IE 9 - 11 only\r\n        // IE may return null instead of an element\r\n        // Interestingly, this only seems to occur when NOT in an iframe\r\n        if ( !el ) {\r\n            el = doc.body;\r\n        }\r\n\r\n        // Support: IE 11 only\r\n        // IE11 returns a seemingly empty object in some cases when accessing\r\n        // document.activeElement from an <iframe>\r\n        if ( !el.nodeName ) {\r\n            el = doc.body;\r\n        }\r\n\r\n        return el;\r\n    };\r\n\r\n    function enhancePlaceContent(placing,node) {\r\n        if (types.isFunction(placing)) {\r\n            return placing.apply(node,[]);\r\n        }\r\n        if (types.isArrayLike(placing)) {\r\n            var neddsFlattern;\r\n            for (var i=0;i<placing.length;i++) {\r\n                if (types.isFunction(placing[i])) {\r\n                    placing[i] = placing[i].apply(node,[]);\r\n                    if (types.isArrayLike(placing[i])) {\r\n                        neddsFlattern = true;\r\n                    }\r\n                }\r\n            }\r\n            if (neddsFlattern) {\r\n                placing = arrays.flatten(placing);\r\n            }\r\n        }\r\n        return placing;\r\n    }\r\n    function after(node, placing, copyByClone) {\r\n        placing = enhancePlaceContent(placing,node);\r\n        var refNode = node,\r\n            parent = refNode.parentNode;\r\n        if (parent) {\r\n            var nodes = ensureNodes(placing, copyByClone),\r\n                refNode = refNode.nextSibling;\r\n\r\n            for (var i = 0; i < nodes.length; i++) {\r\n                if (refNode) {\r\n                    parent.insertBefore(nodes[i], refNode);\r\n                } else {\r\n                    parent.appendChild(nodes[i]);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function append(node, placing, copyByClone) {\r\n        placing = enhancePlaceContent(placing,node);\r\n        var parentNode = node,\r\n            nodes = ensureNodes(placing, copyByClone);\r\n        for (var i = 0; i < nodes.length; i++) {\r\n            parentNode.appendChild(nodes[i]);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function before(node, placing, copyByClone) {\r\n        placing = enhancePlaceContent(placing,node);\r\n        var refNode = node,\r\n            parent = refNode.parentNode;\r\n        if (parent) {\r\n            var nodes = ensureNodes(placing, copyByClone);\r\n            for (var i = 0; i < nodes.length; i++) {\r\n                parent.insertBefore(nodes[i], refNode);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /*   \r\n     * Get the children of the specified node, including text and comment nodes.\r\n     * @param {HTMLElement} elm\r\n     */\r\n    function contents(elm) {\r\n        if (nodeName(elm, \"iframe\")) {\r\n            return elm.contentDocument;\r\n        }\r\n        return elm.childNodes;\r\n    }\r\n\r\n    /*   \r\n     * Create a element and set attributes on it.\r\n     * @param {HTMLElement} tag\r\n     * @param {attrs} attrs\r\n     * @param } parent\r\n     */\r\n    function createElement(tag, props,attrs, parent) {\r\n        var node;\r\n\r\n        if (/svg/i.test(tag)) {\r\n            node = document.createElementNS(\"http://www.w3.org/2000/svg\", tag)\r\n        } else {\r\n            node = document.createElement(tag);\r\n        }\r\n\r\n        if (types.isHtmlNode(props)) {\r\n            parent = props;\r\n            props = null;\r\n            attrs = null;\r\n        } else if (types.isHtmlNode(attrs)){\r\n            parent = attrs;\r\n            attrs = null;\r\n        }\r\n\r\n        if (props) {\r\n            for (var name in props) {\r\n                node[name] = props[name];\r\n            }\r\n        }\r\n\r\n        if (attrs) {\r\n            for (var name in attrs) {\r\n                node.setAttribute(name, attrs[name]);\r\n            }\r\n        }\r\n        if (parent) {\r\n            append(parent, node);\r\n        }\r\n        return node;\r\n    }\r\n\r\nfunction removeSelfClosingTags(xml) {\r\n    var split = xml.split(\"/>\");\r\n    var newXml = \"\";\r\n    for (var i = 0; i < split.length - 1;i++) {\r\n        var edsplit = split[i].split(\"<\");\r\n        newXml += split[i] + \"></\" + edsplit[edsplit.length - 1].split(\" \")[0] + \">\";\r\n    }\r\n    return newXml + split[split.length-1];\r\n}\r\n\r\n    /*   \r\n     * Create a DocumentFragment from the HTML fragment.\r\n     * @param {String} html\r\n     */\r\n    function createFragment(html) {\r\n        // A special case optimization for a single tag\r\n        html = strings.trim(html);\r\n        if (singleTagRE.test(html)) {\r\n            return [createElement(RegExp.$1)];\r\n        }\r\n\r\n        var name = fragmentRE.test(html) && RegExp.$1\r\n        if (!(name in containers)) {\r\n            name = \"*\"\r\n        }\r\n        var container = containers[name];\r\n        container.innerHTML = removeSelfClosingTags(\"\" + html);\r\n        dom = slice.call(container.childNodes);\r\n\r\n        dom.forEach(function(node) {\r\n            container.removeChild(node);\r\n        })\r\n\r\n        return dom;\r\n    }\r\n\r\n    /*   \r\n     * Create a deep copy of the set of matched elements.\r\n     * @param {HTMLElement} node\r\n     * @param {Boolean} deep\r\n     */\r\n    function clone(node, deep) {\r\n        var self = this,\r\n            clone;\r\n\r\n        // TODO: Add feature detection here in the future\r\n        if (!isIE || node.nodeType !== 1 || deep) {\r\n            return node.cloneNode(deep);\r\n        }\r\n\r\n        // Make a HTML5 safe shallow copy\r\n        if (!deep) {\r\n            clone = document.createElement(node.nodeName);\r\n\r\n            // Copy attribs\r\n            each(self.getAttribs(node), function(attr) {\r\n                self.setAttrib(clone, attr.nodeName, self.getAttrib(node, attr.nodeName));\r\n            });\r\n\r\n            return clone;\r\n        }\r\n    }\r\n\r\n    /*   \r\n     * Check to see if a dom node is a descendant of another dom node .\r\n     * @param {String} node\r\n     * @param {Node} child\r\n     */\r\n    function contains(node, child) {\r\n        return isChildOf(child, node);\r\n    }\r\n\r\n    /*   \r\n     * Create a new Text node.\r\n     * @param {String} text\r\n     * @param {Node} child\r\n     */\r\n    function createTextNode(text) {\r\n        return document.createTextNode(text);\r\n    }\r\n\r\n    /*   \r\n     * Get the current document object.\r\n     */\r\n    function doc() {\r\n        return document;\r\n    }\r\n\r\n    /*   \r\n     * Remove all child nodes of the set of matched elements from the DOM.\r\n     * @param {Object} node\r\n     */\r\n    function empty(node) {\r\n        while (node.hasChildNodes()) {\r\n            var child = node.firstChild;\r\n            node.removeChild(child);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    var fulledEl = null;\r\n\r\n    function fullscreen(el) {\r\n        if (el === false) {\r\n            return browser.exitFullscreen.apply(document);\r\n        } else if (el) {\r\n            return el[browser.support.fullscreen.requestFullscreen]();\r\n            fulledEl = el;\r\n        } else {\r\n            return (\r\n                document.fullscreenElement ||\r\n                document.webkitFullscreenElement ||\r\n                document.mozFullScreenElement ||\r\n                document.msFullscreenElement\r\n            )\r\n        }\r\n    }\r\n\r\n    function isFullscreen(el) {\r\n        return fullscreen() === el;\r\n    }\r\n\r\n\r\n    // Selectors\r\n    function focusable( element, hasTabindex ) {\r\n        var map, mapName, img, focusableIfVisible, fieldset,\r\n            nodeName = element.nodeName.toLowerCase();\r\n\r\n        if ( \"area\" === nodeName ) {\r\n            map = element.parentNode;\r\n            mapName = map.name;\r\n            if ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\r\n                return false;\r\n            }\r\n            img = $( \"img[usemap='#\" + mapName + \"']\" );\r\n            return img.length > 0 && img.is( \":visible\" );\r\n        }\r\n\r\n        if ( /^(input|select|textarea|button|object)$/.test( nodeName ) ) {\r\n            focusableIfVisible = !element.disabled;\r\n\r\n            if ( focusableIfVisible ) {\r\n\r\n                // Form controls within a disabled fieldset are disabled.\r\n                // However, controls within the fieldset's legend do not get disabled.\r\n                // Since controls generally aren't placed inside legends, we skip\r\n                // this portion of the check.\r\n                fieldset = $( element ).closest( \"fieldset\" )[ 0 ];\r\n                if ( fieldset ) {\r\n                    focusableIfVisible = !fieldset.disabled;\r\n                }\r\n            }\r\n        } else if ( \"a\" === nodeName ) {\r\n            focusableIfVisible = element.href || hasTabindex;\r\n        } else {\r\n            focusableIfVisible = hasTabindex;\r\n        }\r\n\r\n        return focusableIfVisible && $( element ).is( \":visible\" ) && visible( $( element ) );\r\n    };\r\n\r\n    function fromPoint(x,y) {\r\n        return document.elementFromPoint(x,y);\r\n    }\r\n\r\n    /**\r\n     * Generate id\r\n     * @param   {HTMLElement} el\r\n     * @returns {String}\r\n     * @private\r\n     */\r\n    function generateId(el) {\r\n        var str = el.tagName + el.className + el.src + el.href + el.textContent,\r\n            i = str.length,\r\n            sum = 0;\r\n\r\n        while (i--) {\r\n            sum += str.charCodeAt(i);\r\n        }\r\n\r\n        return sum.toString(36);\r\n    }\r\n\r\n\r\n   var rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi;\r\n \r\n    /*   \r\n     * Get the HTML contents of the first element in the set of matched elements.\r\n     * @param {HTMLElement} node\r\n     * @param {String} html\r\n     */\r\n    function _html(node, html) {\r\n        if (html === undefined) {\r\n            return node.innerHTML;\r\n        } else {\r\n            empty(node);\r\n            html = html || \"\";\r\n            if (types.isString(html)) {\r\n                html = html.replace( rxhtmlTag, \"<$1></$2>\" );\r\n            }\r\n            if (types.isString(html) || types.isNumber(html)) {               \r\n                node.innerHTML = html;\r\n            } else if (types.isArrayLike(html)) {\r\n                for (var i = 0; i < html.length; i++) {\r\n                    node.appendChild(html[i]);\r\n                }\r\n            } else {\r\n                node.appendChild(html);\r\n            }\r\n\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n    function html(node,value) {\r\n        var result = _html(node,value);\r\n\r\n        if (value !== undefined) {\r\n            var scripts = node.querySelectorAll('script');\r\n\r\n            for (var i =0; i<scripts.length; i++) {\r\n                var node1 = scripts[i];\r\n                if (rscriptType.test( node1.type || \"\" ) ) {\r\n                  scripter.evaluate(node1.textContent,node1);\r\n                }\r\n            }       \r\n            return this;         \r\n        } else {\r\n            return result;\r\n        }\r\n    }\r\n\r\n    /*   \r\n     * Check to see if a dom node is a descendant of another dom node.\r\n     * @param {Node} node\r\n     * @param {Node} parent\r\n     * @param {Node} directly\r\n     */\r\n    function isChildOf(node, parent, directly) {\r\n        if (directly) {\r\n            return node.parentNode === parent;\r\n        }\r\n        if (document.documentElement.contains) {\r\n            return parent.contains(node);\r\n        }\r\n        while (node) {\r\n            if (parent === node) {\r\n                return true;\r\n            }\r\n\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /*   \r\n     * Check to see if a dom node is a document.\r\n     * @param {Node} node\r\n     */\r\n    function isDocument(node) {\r\n        return node != null && node.nodeType == node.DOCUMENT_NODE\r\n    }\r\n\r\n    /*   \r\n     * Check to see if a dom node is in the document\r\n     * @param {Node} node\r\n     */\r\n    function isInDocument(node) {\r\n      return (node === document.body) ? true : document.body.contains(node);\r\n    }        \r\n\r\n    var blockNodes = [\"div\", \"p\", \"ul\", \"ol\", \"li\", \"blockquote\", \"hr\", \"pre\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"table\"];\r\n\r\n    function isBlockNode(node) {\r\n        if (!node || node.nodeType === 3) {\r\n          return false;\r\n        }\r\n        return new RegExp(\"^(\" + (blockNodes.join('|')) + \")$\").test(node.nodeName.toLowerCase());\r\n    }\r\n\r\n    function isActive (elem) {\r\n            return elem === document.activeElement && (elem.type || elem.href);\r\n    }\r\n\r\n\r\n    function isTextNode(node) {\r\n        return node && node.nodeType === 3;\r\n    }\r\n\r\n\r\n    function isElement(node) {\r\n        return node && node.nodeType === 1;\r\n    }\r\n\r\n    function isInFrame() {\r\n        try {\r\n            return window.parent !== window.self;\r\n        } catch (x) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /*   \r\n     * Get the owner document object for the specified element.\r\n     * @param {Node} elm\r\n     */\r\n    function ownerDoc(elm) {\r\n        if (!elm) {\r\n            return document;\r\n        }\r\n\r\n        if (elm.nodeType == 9) {\r\n            return elm;\r\n        }\r\n\r\n        return elm.ownerDocument;\r\n    }\r\n\r\n    /*   \r\n     *\r\n     * @param {Node} elm\r\n     */\r\n    function ownerWindow(elm) {\r\n        var doc = ownerDoc(elm);\r\n        return doc.defaultView || doc.parentWindow;\r\n    }\r\n\r\n    /*   \r\n     * insert one or more nodes as the first children of the specified node.\r\n     * @param {Node} node\r\n     * @param {Node or ArrayLike} placing\r\n     * @param {Boolean Optional} copyByClone\r\n     */\r\n    function prepend(node, placing, copyByClone) {\r\n        var parentNode = node,\r\n            refNode = parentNode.firstChild,\r\n            nodes = ensureNodes(placing, copyByClone);\r\n        for (var i = 0; i < nodes.length; i++) {\r\n            if (refNode) {\r\n                parentNode.insertBefore(nodes[i], refNode);\r\n            } else {\r\n                parentNode.appendChild(nodes[i]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /*   \r\n     *\r\n     * @param {Node} elm\r\n     */\r\n    function offsetParent(elm) {\r\n        var parent = elm.offsetParent || document.body;\r\n        while (parent && !rootNodeRE.test(parent.nodeName) && document.defaultView.getComputedStyle(parent).position == \"static\") {\r\n            parent = parent.offsetParent;\r\n        }\r\n        return parent;\r\n    }\r\n\r\n    /*   \r\n     * Remove the set of matched elements from the DOM.\r\n     * @param {Node} node\r\n     */\r\n    function remove(node) {\r\n        if (node && node.parentNode) {\r\n            try {\r\n                node.parentNode.removeChild(node);\r\n            } catch (e) {\r\n                console.warn(\"The node is already removed\", e);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function removeChild(node,children) {\r\n        if (!types.isArrayLike(children)) {\r\n            children = [children];\r\n        }\r\n        for (var i=0;i<children.length;i++) {\r\n            node.removeChild(children[i]);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    function scrollParent( elm, includeHidden ) {\r\n        var position = document.defaultView.getComputedStyle(elm).position,\r\n            excludeStaticParent = position === \"absolute\",\r\n            overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\r\n            scrollParent = this.parents().filter( function() {\r\n                var parent = $( this );\r\n                if ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\r\n                    return false;\r\n                }\r\n                return overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\r\n                    parent.css( \"overflow-x\" ) );\r\n            } ).eq( 0 );\r\n\r\n        return position === \"fixed\" || !scrollParent.length ?\r\n            $( this[ 0 ].ownerDocument || document ) :\r\n            scrollParent;\r\n    };\r\n\r\n\r\n    function reflow(elm) {\r\n        if (!elm) {\r\n          elm = document;\r\n        }\r\n        elm.offsetHeight;\r\n\r\n        return this;      \r\n    }\r\n\r\n    /*   \r\n     * Replace an old node with the specified node.\r\n     * @param {Node} node\r\n     * @param {Node} oldNode\r\n     */\r\n    function replace(node, oldNode) {\r\n        oldNode.parentNode.replaceChild(node, oldNode);\r\n        return this;\r\n    }\r\n\r\n\r\n    function selectable(elem, selectable) {\r\n        if (elem === undefined || elem.style === undefined)\r\n            return;\r\n        elem.onselectstart = selectable ? function () {\r\n            return false;\r\n        } : function () {\r\n        };\r\n        elem.style.MozUserSelect = selectable ? 'auto' : 'none';\r\n        elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\r\n        elem.unselectable = selectable ? 'on' : 'off';\r\n    }\r\n\r\n    /*   \r\n     * traverse the specified node and its descendants, perform the callback function on each\r\n     * @param {Node} node\r\n     * @param {Function} fn\r\n     */\r\n    function traverse(node, fn) {\r\n        fn(node)\r\n        for (var i = 0, len = node.childNodes.length; i < len; i++) {\r\n            traverse(node.childNodes[i], fn);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /*   \r\n     *\r\n     * @param {Node} node\r\n     */\r\n    function reverse(node) {\r\n        var firstChild = node.firstChild;\r\n        for (var i = node.children.length - 1; i > 0; i--) {\r\n            if (i > 0) {\r\n                var child = node.children[i];\r\n                node.insertBefore(child, firstChild);\r\n            }\r\n        }\r\n    }\r\n\r\n    /*   \r\n     * Wrap an HTML structure around each element in the set of matched elements.\r\n     * @param {Node} node\r\n     * @param {Node} wrapperNode\r\n     */\r\n    function wrapper(node, wrapperNode) {\r\n        if (types.isString(wrapperNode)) {\r\n            wrapperNode = this.createFragment(wrapperNode).firstChild;\r\n        }\r\n        node.parentNode.insertBefore(wrapperNode, node);\r\n        wrapperNode.appendChild(node);\r\n    }\r\n\r\n    /*   \r\n     * Wrap an HTML structure around the content of each element in the set of matched\r\n     * @param {Node} node\r\n     * @param {Node} wrapperNode\r\n     */\r\n    function wrapperInner(node, wrapperNode) {\r\n        var childNodes = slice.call(node.childNodes);\r\n        node.appendChild(wrapperNode);\r\n        for (var i = 0; i < childNodes.length; i++) {\r\n            wrapperNode.appendChild(childNodes[i]);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /*   \r\n     * Remove the parents of the set of matched elements from the DOM, leaving the matched\r\n     * @param {Node} node\r\n     */\r\n    function unwrap(node) {\r\n        var child, parent = node.parentNode;\r\n        if (parent) {\r\n            if (this.isDoc(parent.parentNode)) return;\r\n            parent.parentNode.insertBefore(node, parent);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    function isInput (el) { \r\n        return el.tagName === 'INPUT' || \r\n               el.tagName === 'TEXTAREA' || \r\n               el.tagName === 'SELECT' || \r\n               isEditable(el); \r\n    }\r\n    \r\n    function isEditable (el) {\r\n      if (!el) { return false; } // no parents were editable\r\n      if (el.contentEditable === 'false') { return false; } // stop the lookup\r\n      if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\r\n      return isEditable(el.parentNode); // contentEditable is set to 'inherit'\r\n    }\r\n\r\n    function noder() {\r\n        return noder;\r\n    }\r\n\r\n    Object.assign(noder, {\r\n        active  : activeElement,\r\n\r\n        after: after,\r\n\r\n        append: append,\r\n\r\n        before: before,\r\n\r\n        blur : function(el) {\r\n            el.blur();\r\n        },\r\n\r\n        body: function() {\r\n            return document.body;\r\n        },\r\n\r\n        clone: clone,\r\n\r\n        contains: contains,\r\n\r\n        contents: contents,\r\n\r\n        createElement: createElement,\r\n\r\n        createFragment: createFragment,\r\n\r\n        createTextNode: createTextNode,\r\n\r\n        doc: doc,\r\n\r\n        empty: empty,\r\n\r\n        generateId,\r\n\r\n        fullscreen: fullscreen,\r\n\r\n        focusable: focusable,\r\n\r\n        fromPoint,\r\n\r\n        html: html,\r\n\r\n        isActive,\r\n\r\n        isChildOf,\r\n\r\n        isDocument,\r\n\r\n        isEditable,\r\n        \r\n        isElement,\r\n\r\n        isFullscreen,\r\n\r\n        isInDocument,\r\n\r\n        isInFrame,\r\n\r\n        isInput,\r\n\r\n        isTextNode,\r\n\r\n        isWindow: types.isWindow,\r\n\r\n        nodeName : nodeName,\r\n\r\n        offsetParent: offsetParent,\r\n\r\n        ownerDoc: ownerDoc,\r\n\r\n        ownerWindow: ownerWindow,\r\n\r\n        prepend: prepend,\r\n\r\n        reflow: reflow,\r\n\r\n        remove: remove,\r\n\r\n        removeChild : removeChild,\r\n\r\n        replace: replace,\r\n\r\n        selectable,\r\n\r\n        traverse: traverse,\r\n\r\n        reverse: reverse,\r\n\r\n        wrapper: wrapper,\r\n\r\n        wrapperInner: wrapperInner,\r\n\r\n        unwrap: unwrap\r\n    });\r\n\r\n    return skylark.attach(\"domx.noder\" , noder);\r\n});\ndefine('skylark-domx-noder/overlay',[\r\n\t\"skylark-domx-styler\",\r\n\t\"./noder\"\r\n],function(styler,noder){\r\n    /*   \r\n     *\r\n     * @param {Node} elm\r\n     * @param {Node} params\r\n     */\r\n    function overlay(elm, params) {\r\n        var overlayDiv = noder.createElement(\"div\", params);\r\n        styler.css(overlayDiv, {\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            zIndex: 0x7FFFFFFF,\r\n            opacity: 0.7\r\n        });\r\n        elm.appendChild(overlayDiv);\r\n        return overlayDiv;\r\n\r\n    }\r\n\r\n    return noder.overlay = overlay;\r\n });\ndefine('skylark-domx-noder/throb',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-styler\",\r\n    \"./noder\"\r\n],function(langx,styler,noder) {\r\n\r\n    \r\n    /*   \r\n     * Replace an old node with the specified node.\r\n     * @param {HTMLElement} elm\r\n     * @param {Node} params\r\n     */\r\n    function throb(elm, params) {\r\n        params = params || {};\r\n\r\n        var self = this,\r\n            text = params.text,\r\n            style = params.style,\r\n            time = params.time,\r\n            callback = params.callback,\r\n            timer,\r\n\r\n            throbber = noder.createElement(\"div\", {\r\n                \"className\": params.className || \"throbber\"\r\n            }),\r\n            //_overlay = overlay(throbber, {\r\n            //    \"class\": 'overlay fade'\r\n            //}),\r\n            remove = function() {\r\n                if (timer) {\r\n                    clearTimeout(timer);\r\n                    timer = null;\r\n                }\r\n                if (throbber) {\r\n                    noder.remove(throbber);\r\n                    throbber = null;\r\n                }\r\n            },\r\n            update = function(params) {\r\n                if (params && params.text && throbber) {\r\n                    textNode.nodeValue = params.text;\r\n                }\r\n            };\r\n\r\n        if (params.style) {\r\n            styler.css(throbber,params.style);\r\n        }\r\n\r\n        //throb = noder.createElement(\"div\", {\r\n        //   \"class\": params.throb && params.throb.className || \"throb\"\r\n        //}),\r\n        //textNode = noder.createTextNode(text || \"\"),\r\n \r\n        var content = params.content ||  '<span class=\"throb\"></span>';\r\n\r\n        //throb.appendChild(textNode);\r\n        //throbber.appendChild(throb);\r\n\r\n        noder.html(throbber,content);\r\n        \r\n        elm.appendChild(throbber);\r\n\r\n        var end = function() {\r\n            remove();\r\n            if (callback) callback();\r\n        };\r\n        if (time) {\r\n            timer = setTimeout(end, time);\r\n        }\r\n\r\n        return {\r\n            throbber : throbber,\r\n            remove: remove,\r\n            update: update\r\n        };\r\n    }\r\n\r\n    return noder.throb = throb;\r\n});\ndefine('skylark-domx-noder/main',[\r\n\t\"./noder\",\r\n\t\"./overlay\",\r\n\t\"./throb\"\r\n],function(noder){\r\n\treturn noder;\r\n});\ndefine('skylark-domx-noder', ['skylark-domx-noder/main'], function (main) { return main; });\n\n"]}