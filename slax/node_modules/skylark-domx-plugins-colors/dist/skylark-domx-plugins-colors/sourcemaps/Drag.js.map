{"version":3,"sources":["Drag.js"],"names":["define","Drag","obj","gradx","init","o","oRoot","minX","maxX","minY","maxY","bSwapHorzRef","bSwapVertRef","fXMapper","fYMapper","onmousedown","start","hmode","vmode","root","isNaN","parseInt","style","left","right","xMapper","yMapper","onDragStart","Function","onDragEnd","onDrag","e","current_slider_id","this","id","fixE","y","top","bottom","x","lastMouseX","clientX","lastMouseY","clientY","minMouseX","maxMouseX","minMouseY","maxMouseY","document","onmousemove","drag","onmouseup","end","update_style_array","apply_style","panel","get_style_value","gx","css","show","color","rgb","get_rgb_obj","cp","colorer","set","nx","ny","ey","ex","Math","max","min","window","event","layerX","offsetX","layerY","offsetY"],"mappings":";;;;;;;AAAAA,UAAU,WAUN,IAAIC,GAEAC,IAAM,KAENC,MAAQ,KAERC,KAAO,SAASC,EAAGC,EAAOC,EAAMC,EAAMC,EAAMC,EAAMC,EAAcC,EAAcC,EAAUC,GAEpFT,EAAEU,YAAcd,EAAKe,MAErBX,EAAEY,OAAUN,EACZN,EAAEa,OAAUN,EAEZP,EAAEc,KAAOb,GAAkB,MAATA,EAAgBA,EAAQD,EAEtCA,EAAEY,OAAUG,MAAMC,SAAShB,EAAEc,KAAKG,MAAMC,SAAUlB,EAAEc,KAAKG,MAAMC,KAAS,QAEvElB,EAAEY,OAASG,MAAMC,SAAShB,EAAEc,KAAKG,MAAME,UAAUnB,EAAEc,KAAKG,MAAME,MAAS,OAG5EnB,EAAEE,UAAsB,IAARA,EAAsBA,EAAO,KAC7CF,EAAEI,UAAsB,IAARA,EAAsBA,EAAO,KAC7CJ,EAAEG,UAAsB,IAARA,EAAsBA,EAAO,KAC7CH,EAAEK,UAAsB,IAARA,EAAsBA,EAAO,KAE7CL,EAAEoB,QAAUZ,GAAsB,KAClCR,EAAEqB,QAAUZ,GAAsB,KAElCT,EAAEc,KAAKQ,YAAc,IAAIC,SACzBvB,EAAEc,KAAKU,UAAY,IAAID,SACvBvB,EAAEc,KAAKW,OAAU,IAAIF,UAGzBZ,MAAQ,SAASe,GAEb9B,EAAKE,MAAM6B,kBAAoB,IAAIC,KAAKC,GAExC,IAAI7B,EAAIJ,EAAKC,IAAM+B,KACnBF,EAAI9B,EAAKkC,KAAKJ,GACd,IAAIK,EAAIf,SAAShB,EAAEa,MAAQb,EAAEc,KAAKG,MAAMe,IAAOhC,EAAEc,KAAKG,MAAMgB,QACxDC,EAAIlB,SAAShB,EAAEY,MAAQZ,EAAEc,KAAKG,MAAMC,KAAOlB,EAAEc,KAAKG,MAAME,OA0B5D,OAzBAnB,EAAEc,KAAKQ,YAAYY,EAAGH,GAEtB/B,EAAEmC,WAAaT,EAAEU,QACjBpC,EAAEqC,WAAaX,EAAEY,QAEbtC,EAAEY,OACY,MAAVZ,EAAEE,OAAcF,EAAEuC,UAAYb,EAAEU,QAAUF,EAAIlC,EAAEE,MACtC,MAAVF,EAAEG,OAAcH,EAAEwC,UAAYxC,EAAEuC,UAAYvC,EAAEG,KAAOH,EAAEE,QAE7C,MAAVF,EAAEE,OAAcF,EAAEwC,WAAaxC,EAAEE,KAAOwB,EAAEU,QAAUF,GAC1C,MAAVlC,EAAEG,OAAcH,EAAEuC,WAAavC,EAAEG,KAAOuB,EAAEU,QAAUF,IAGxDlC,EAAEa,OACY,MAAVb,EAAEI,OAAcJ,EAAEyC,UAAYf,EAAEY,QAAUP,EAAI/B,EAAEI,MACtC,MAAVJ,EAAEK,OAAcL,EAAE0C,UAAY1C,EAAEyC,UAAYzC,EAAEK,KAAOL,EAAEI,QAG7C,MAAVJ,EAAEI,OAAcJ,EAAE0C,WAAa1C,EAAEI,KAAOsB,EAAEY,QAAUP,GAC1C,MAAV/B,EAAEK,OAAcL,EAAEyC,WAAazC,EAAEK,KAAOqB,EAAEY,QAAUP,IAG5DY,SAASC,YAAchD,EAAKiD,KAC5BF,SAASG,UAAYlD,EAAKmD,KAEnB,GAGXF,KAAO,SAASnB,GAEZA,EAAI9B,EAAKkC,KAAKJ,GACd,IAAI1B,EAAIJ,EAAKC,IAEbD,EAAKE,MAAMkD,qBACXpD,EAAKE,MAAMmD,YAAYrD,EAAKE,MAAMoD,MAAOtD,EAAKE,MAAMqD,mBACpD,IAAIjC,EAAOtB,EAAKE,MAAMsD,GAAG,IAAIpD,EAAE6B,IAAIwB,IAAI,QAGpCrC,SAASE,GAAQ,IAAMF,SAASE,GAAQ,KACvCtB,EAAKE,MAAMsD,GAAG,sBACbC,IAAI,OAAOnC,GACXoC,OAcJ,IAAIC,EAAQ3D,EAAKE,MAAMsD,GAAG,IAAIpD,EAAE6B,IAAIwB,IAAI,mBAErCG,EAAM5D,EAAKE,MAAM2D,YAAYF,GACjC3D,EAAKE,MAAM4D,GAAGC,UAAUC,IAAIJ,GAG5B,IAIIK,EAAIC,EAJJC,EAAKrC,EAAEY,QACP0B,EAAKtC,EAAEU,QACPL,EAAIf,SAAShB,EAAEa,MAAQb,EAAEc,KAAKG,MAAMe,IAAOhC,EAAEc,KAAKG,MAAMgB,QACxDC,EAAIlB,SAAShB,EAAEY,MAAQZ,EAAEc,KAAKG,MAAMC,KAAOlB,EAAEc,KAAKG,MAAME,OAoB5D,OAjBc,MAAVnB,EAAEE,OAAc8D,EAAKhE,EAAEY,MAAQqD,KAAKC,IAAIF,EAAIhE,EAAEuC,WAAa0B,KAAKE,IAAIH,EAAIhE,EAAEwC,YAChE,MAAVxC,EAAEG,OAAc6D,EAAKhE,EAAEY,MAAQqD,KAAKE,IAAIH,EAAIhE,EAAEwC,WAAayB,KAAKC,IAAIF,EAAIhE,EAAEuC,YAChE,MAAVvC,EAAEI,OAAc2D,EAAK/D,EAAEa,MAAQoD,KAAKC,IAAIH,EAAI/D,EAAEyC,WAAawB,KAAKE,IAAIJ,EAAI/D,EAAE0C,YAChE,MAAV1C,EAAEK,OAAc0D,EAAK/D,EAAEa,MAAQoD,KAAKE,IAAIJ,EAAI/D,EAAE0C,WAAauB,KAAKC,IAAIH,EAAI/D,EAAEyC,YAE9EoB,EAAK3B,GAAM8B,EAAKhE,EAAEmC,aAAenC,EAAEY,MAAQ,GAAK,GAChDkD,EAAK/B,GAAMgC,EAAK/D,EAAEqC,aAAerC,EAAEa,MAAQ,GAAK,GAE5Cb,EAAEoB,QAAUyC,EAAK7D,EAAEoB,QAAQW,GACtB/B,EAAEqB,UAASyC,EAAK9D,EAAEqB,QAAQa,IAEnCtC,EAAKC,IAAIiB,KAAKG,MAAMjB,EAAEY,MAAQ,OAAS,SAAWiD,EAAK,KAEvDjE,EAAKC,IAAIsC,WAAa6B,EACtBpE,EAAKC,IAAIwC,WAAa0B,EAEtBnE,EAAKC,IAAIiB,KAAKW,OAAOoC,EAAIC,IAClB,GAGXf,IAAM,WAEFJ,SAASC,YAAc,KACvBD,SAASG,UAAc,KACvBlD,EAAKC,IAAIiB,KAAKU,UAAWR,SAASpB,EAAKC,IAAIiB,KAAKG,MAAMrB,EAAKC,IAAIe,MAAQ,OAAS,UAC5EI,SAASpB,EAAKC,IAAIiB,KAAKG,MAAMrB,EAAKC,IAAIgB,MAAQ,MAAQ,YAC1DjB,EAAKC,IAAM,MAGfiC,KAAO,SAASJ,GAKZ,YAHgB,IAALA,IAAkBA,EAAI0C,OAAOC,YACjB,IAAZ3C,EAAE4C,SAAuB5C,EAAE4C,OAAS5C,EAAE6C,cAC1B,IAAZ7C,EAAE8C,SAAuB9C,EAAE8C,OAAS9C,EAAE+C,SAC1C/C,IAIf,OAAO9B","file":"../Drag.js","sourcesContent":["define([],function() {\r\n    /**************************************************\r\n     * dom-drag.js\r\n     * 09.25.2001\r\n     * www.youngpup.net\r\n     **************************************************\r\n     * 10.28.2001 - fixed minor bug where events\r\n     * sometimes fired off the handle, not the root.\r\n     **************************************************/\r\n\r\n    var Drag = {\r\n\r\n        obj : null,\r\n\r\n        gradx : null,\r\n\r\n        init : function(o, oRoot, minX, maxX, minY, maxY, bSwapHorzRef, bSwapVertRef, fXMapper, fYMapper)\r\n        {\r\n            o.onmousedown\t= Drag.start;\r\n\r\n            o.hmode\t\t\t= bSwapHorzRef ? false : true ;\r\n            o.vmode\t\t\t= bSwapVertRef ? false : true ;\r\n\r\n            o.root = oRoot && oRoot != null ? oRoot : o ;\r\n\r\n            if (o.hmode  && isNaN(parseInt(o.root.style.left  ))) o.root.style.left   = \"0px\";\r\n           //if (o.vmode  && isNaN(parseInt(o.root.style.top   ))) o.root.style.top    = \"0px\";\r\n            if (!o.hmode && isNaN(parseInt(o.root.style.right ))) o.root.style.right  = \"0px\";\r\n           // if (!o.vmode && isNaN(parseInt(o.root.style.bottom))) o.root.style.bottom = \"0px\";\r\n\r\n            o.minX\t= typeof minX != 'undefined' ? minX : null;\r\n            o.minY\t= typeof minY != 'undefined' ? minY : null;\r\n            o.maxX\t= typeof maxX != 'undefined' ? maxX : null;\r\n            o.maxY\t= typeof maxY != 'undefined' ? maxY : null;\r\n\r\n            o.xMapper = fXMapper ? fXMapper : null;\r\n            o.yMapper = fYMapper ? fYMapper : null;\r\n\r\n            o.root.onDragStart\t= new Function();\r\n            o.root.onDragEnd\t= new Function();\r\n            o.root.onDrag\t\t= new Function();\r\n        },\r\n\r\n        start : function(e)\r\n        {\r\n            Drag.gradx.current_slider_id = \"#\"+this.id;\r\n\r\n            var o = Drag.obj = this;\r\n            e = Drag.fixE(e);\r\n            var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\r\n            var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\r\n            o.root.onDragStart(x, y);\r\n\r\n            o.lastMouseX\t= e.clientX;\r\n            o.lastMouseY\t= e.clientY;\r\n\r\n            if (o.hmode) {\r\n                if (o.minX != null)\to.minMouseX\t= e.clientX - x + o.minX;\r\n                if (o.maxX != null)\to.maxMouseX\t= o.minMouseX + o.maxX - o.minX;\r\n            } else {\r\n                if (o.minX != null) o.maxMouseX = -o.minX + e.clientX + x;\r\n                if (o.maxX != null) o.minMouseX = -o.maxX + e.clientX + x;\r\n            }\r\n\r\n            if (o.vmode) {\r\n                if (o.minY != null)\to.minMouseY\t= e.clientY - y + o.minY;\r\n                if (o.maxY != null)\to.maxMouseY\t= o.minMouseY + o.maxY - o.minY;\r\n            }\r\n            else {\r\n                if (o.minY != null) o.maxMouseY = -o.minY + e.clientY + y;\r\n                if (o.maxY != null) o.minMouseY = -o.maxY + e.clientY + y;\r\n            }\r\n\r\n            document.onmousemove\t= Drag.drag;\r\n            document.onmouseup\t= Drag.end;\r\n\r\n            return false;\r\n        },\r\n\r\n        drag : function(e)\r\n        {\r\n            e = Drag.fixE(e);\r\n            var o = Drag.obj;\r\n\r\n            Drag.gradx.update_style_array();\r\n            Drag.gradx.apply_style(Drag.gradx.panel, Drag.gradx.get_style_value());\r\n            var left = Drag.gradx.gx(\"#\"+o.id).css(\"left\");\r\n\r\n\r\n            if(parseInt(left) > 60 && parseInt(left) < 390) {\r\n                Drag.gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                .css(\"left\",left)\r\n                .show();\r\n                         \r\n            }/*else {\r\n                if(parseInt(left) > 120) {\r\n                    left = \"272px\";\r\n                }else{\r\n                    left = \"120px\";\r\n                }\r\n                    \r\n                gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                .css(\"left\",left)\r\n                .show();\r\n                     \r\n            }*/\r\n             var color = Drag.gradx.gx(\"#\"+o.id).css(\"backgroundColor\");\r\n            //but what happens if @color is not in RGB ? :(\r\n            var rgb = Drag.gradx.get_rgb_obj(color);\r\n            Drag.gradx.cp.colorer().set(rgb);\r\n\r\n\r\n            var ey\t= e.clientY;\r\n            var ex\t= e.clientX;\r\n            var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\r\n            var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\r\n            var nx, ny;\r\n\r\n            if (o.minX != null) ex = o.hmode ? Math.max(ex, o.minMouseX) : Math.min(ex, o.maxMouseX);\r\n            if (o.maxX != null) ex = o.hmode ? Math.min(ex, o.maxMouseX) : Math.max(ex, o.minMouseX);\r\n            if (o.minY != null) ey = o.vmode ? Math.max(ey, o.minMouseY) : Math.min(ey, o.maxMouseY);\r\n            if (o.maxY != null) ey = o.vmode ? Math.min(ey, o.maxMouseY) : Math.max(ey, o.minMouseY);\r\n\r\n            nx = x + ((ex - o.lastMouseX) * (o.hmode ? 1 : -1));\r\n            ny = y + ((ey - o.lastMouseY) * (o.vmode ? 1 : -1));\r\n\r\n            if (o.xMapper)\t\tnx = o.xMapper(y)\r\n            else if (o.yMapper)\tny = o.yMapper(x)\r\n\r\n            Drag.obj.root.style[o.hmode ? \"left\" : \"right\"] = nx + \"px\";\r\n            //Drag.obj.root.style[o.vmode ? \"top\" : \"bottom\"] = ny + \"px\";\r\n            Drag.obj.lastMouseX\t= ex;\r\n            Drag.obj.lastMouseY\t= ey;\r\n\r\n            Drag.obj.root.onDrag(nx, ny);\r\n            return false;\r\n        },\r\n\r\n        end : function()\r\n        {\r\n            document.onmousemove = null;\r\n            document.onmouseup   = null;\r\n            Drag.obj.root.onDragEnd(\tparseInt(Drag.obj.root.style[Drag.obj.hmode ? \"left\" : \"right\"]), \r\n                parseInt(Drag.obj.root.style[Drag.obj.vmode ? \"top\" : \"bottom\"]));\r\n            Drag.obj = null;\r\n        },\r\n\r\n        fixE : function(e)\r\n        {\r\n            if (typeof e == 'undefined') e = window.event;\r\n            if (typeof e.layerX == 'undefined') e.layerX = e.offsetX;\r\n            if (typeof e.layerY == 'undefined') e.layerY = e.offsetY;\r\n            return e;\r\n        }\r\n    };\r\n\r\n    return Drag;\r\n});"]}