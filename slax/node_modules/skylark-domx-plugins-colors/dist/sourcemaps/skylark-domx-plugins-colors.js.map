{"version":3,"sources":["skylark-domx-plugins-colors.js"],"names":["define","plugins","colores","browser","$","Color","isIE","paletteTemplate","p","color","className","opts","html","i","length","current","tiny","parse","c","toHsl","l","equals","formattedString","toString","preferredFormat","swatchStyle","toRgbString","push","append","attr","texts","noColorSelectedText","join","skylark","langx","noder","eventer","finder","Indicator","Plugin","inherit","klassName","pluginName","options","_construct","elm","prototype","call","this","listenTo","elmx","e","_start","_move","_dragging","offset","_offset","pageX","pageY","maxWidth","_maxWidth","maxHeight","_maxHeight","dragX","Math","max","min","left","dragY","top","onmove","apply","_elm","rightclick","which","button","onstart","arguments","$el","height","width","$doc","document","mousemove","mouseup","_stop","find","addClass","stop","unlistenTo","removeClass","onstop","_delay","register","styler","colors","helper","ColorPicker","selectors","dragger","dragHelper","slider","slideHelper","alphaSliderInner","alphaSlider","alphaSlideHelper","textInput","initialColorContainer","cancelButton","clearButton","chooseButton","draggingClass","cancelText","chooseText","clearText","states","showInput","allowEmpty","showButtons","showInitial","showAlpha","_drawInitial","stating","initialColor","_initialColor","currentColor","$initialColorContainer","_updateHelperLocations","s","_currentSaturation","v","_currentValue","_isEmpty","$alphaSlideHelper","hide","$slideHelper","$dragHelper","show","_dragWidth","_dragHeight","_dragHelperHeight","css","alphaX","_currentAlpha","_alphaWidth","_alphaSlideHelperWidth","slideY","_slideHeight","_slideHelperHeight","_updateOriginalInput","fireCallback","_colorOnShow","_currentPreferredFormat","emit","_updateUI","$dragger","_slideWidth","$slider","$alphaSlider","$textInput","flatColor","h","_currentHue","toHexString","format","realColor","displayColor","realHex","rgb","toRgb","a","realAlpha","gradient","$alphaSliderInner","toFilter","gradientType","val","_drawPalette","_applyOptions","_states","_applyStates","reflow","theme","$cancelButton","$clearButton","$chooseButton","_init","self","dragStart","_isDragging","_shiftMovementDirection","dragStop","move","setFromTextInput","value","_allowEmpty","isValid","change","on","setTimeout","keydown","keyCode","text","revert","plugin","shiftKey","round","parseFloat","oldDragX","oldDragY","furtherFromX","abs","setSaturation","setValue","paletteEvent","ignore","data","target","closest","undefined","newColor","newHsv","toHsv","toggleClass","name","fx","noop","ColorPalette","showSelectionPalette","palette","selectionPalette","_addColorToSelectionPalette","_paletteLookup","inArray","_selectionPalette","_maxSelectionSize","shift","getUniqueSelectionPalette","unique","reverse","slice","maxSelectionSize","map","_paletteArray","_palette","paletteArray","isArray","paletteLookup","j","_current","popups","ColorPane","pickerContainer","toggleButton","paletteContainer","togglePaletteMoreText","togglePaletteLessText","showPalette","showPaletteOnly","togglePaletteOnly","picker","$pickerContainer","$paletteContainer","$toggleButton","instantiate","$container","set","get","option","outerWidth","ColorBox","pane","$previewElement","realRgb","$pane","template","mixin","paneIsVisible","hidePane","showPane","calcOffset","datax","replaceInput","markup","colorer","elmInput","flat","appendTo","containerClassName","replacerClassName","ownerDocument","isInput","is","shouldReplace","_shouldReplace","$replacer","after","picked","choosed","canceled","$appendTo","parent","fn","Drag","obj","gradx","init","o","oRoot","minX","maxX","minY","maxY","bSwapHorzRef","bSwapVertRef","fXMapper","fYMapper","onmousedown","start","hmode","vmode","root","isNaN","parseInt","style","right","xMapper","yMapper","onDragStart","Function","onDragEnd","onDrag","current_slider_id","id","fixE","y","bottom","x","lastMouseX","clientX","lastMouseY","clientY","minMouseX","maxMouseX","minMouseY","maxMouseY","onmousemove","drag","onmouseup","end","update_style_array","apply_style","panel","get_style_value","gx","get_rgb_obj","cp","nx","ny","ey","ex","window","event","layerX","offsetX","layerY","offsetY","draggable","ele","getElementById","Gradienter","_options","targets","sliders","direction","type","code_shown","styles","rand_RGB","rand_pos","slider_ids","slider_index","shape","slider_hovered","jQ_present","load_jQ","add_event","el","evt","evt_func","element","event_function","attachEvent","addEventListener","get_random_position","pos","random","indexOf","get_random_rgb","R","G","B","update_target","values","len","v_len","apply_default_styles","position","container_width","sort","A","style_str","suffix","split","r","g","b","load_info","set_colorpicker","console","log","add_slider","k","delta","containment","axis","click","clr","rgba","clickoutFiresChange","generate_options","state","str","replace","generate_radial_options","generate_linear_options","destroy","load_gradx","me","option_str","container","remove","splice","focus","$this","select","off","center","main"],"mappings":"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","file":"../skylark-domx-plugins-colors.js","sourcesContent":["define('skylark-domx-plugins-colors/colors',[\r\n    \"skylark-domx-plugins-base/plugins\"\r\n],function (plugins) {\r\n    'use strict';\r\n\r\n    return plugins.colores = {};\r\n\r\n});\r\n\ndefine('skylark-domx-plugins-colors/helper',[\r\n    \"skylark-domx-browser\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-graphics-colors/color\"    \r\n],function(browser,$,Color){\r\n    function paletteElementClick(e) {\r\n        if (e.data && e.data.ignore) {\r\n            self.set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\r\n            move();\r\n        }\r\n        else {\r\n            self.set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\r\n            move();\r\n\r\n            // If the picker is going to close immediately, a palette selection\r\n            // is a change.  Otherwise, it's a move only.\r\n            if (opts.hideAfterPaletteSelect) {\r\n                self_updateOriginalInput(true);\r\n                self.hide();\r\n            } else {\r\n                self._updateOriginalInput();\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    var paletteEvent = browser.isIE ? \"mousedown.ColorPicker\" : \"click.ColorPicker touchstart.ColorPicker\";\t\r\n\r\n    function paletteTemplate (p, color, className, opts) {\r\n        var html = [];\r\n        for (var i = 0; i < p.length; i++) {\r\n            var current = p[i];\r\n            if(current) {\r\n                var tiny = Color.parse(current);\r\n                var c = tiny.toHsl().l < 0.5 ? \"sp-thumb-el sp-thumb-dark\" : \"sp-thumb-el sp-thumb-light\";\r\n                c += (Color.equals(color, current)) ? \" sp-thumb-active\" : \"\";\r\n                var formattedString = tiny.toString(opts.preferredFormat || \"rgb\");\r\n                var swatchStyle = \"background-color:\" + tiny.toRgbString();\r\n                html.push('<span title=\"' + formattedString + '\" data-color=\"' + tiny.toRgbString() + '\" class=\"' + c + '\"><span class=\"sp-thumb-inner\" style=\"' + swatchStyle + ';\" /></span>');\r\n            } else {\r\n                var cls = 'sp-clear-display';\r\n                html.push($('<div />')\r\n                    .append($('<span data-color=\"\" style=\"background-color:transparent;\" class=\"' + cls + '\"></span>')\r\n                        .attr('title', opts.texts.noColorSelectedText)\r\n                    )\r\n                    .html()\r\n                );\r\n            }\r\n        }\r\n        return \"<div class='sp-cf \" + className + \"'>\" + html.join('') + \"</div>\";\r\n    }\r\n\r\n    return {\r\n    \tpaletteTemplate\r\n    }\r\n});\r\n\ndefine('skylark-domx-plugins-colors/indicator',[\r\n   \"skylark-langx/skylark\",\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-browser\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-plugins-base\"    \r\n],function(skylark, langx, browser, noder, eventer,finder, $,plugins) {\r\n    /**\r\n    * Lightweight drag helper.  Handles containment within the element, so that\r\n    * when dragging, the x is within [0,element.width] and y is within [0,element.height]\r\n    */\r\n    function draggable(element, onmove, onstart, onstop) {\r\n        onmove = onmove || function () { };\r\n        onstart = onstart || function () { };\r\n        onstop = onstop || function () { };\r\n        var doc = document;\r\n        var dragging = false;\r\n        var offset = {};\r\n        var maxHeight = 0;\r\n        var maxWidth = 0;\r\n        var hasTouch = ('ontouchstart' in window);\r\n\r\n        var duringDragEvents = {};\r\n        duringDragEvents[\"selectstart\"] = prevent;\r\n        duringDragEvents[\"dragstart\"] = prevent;\r\n        duringDragEvents[\"touchmove mousemove\"] = move;\r\n        duringDragEvents[\"touchend mouseup\"] = stop;\r\n\r\n        function prevent(e) {\r\n            if (e.stopPropagation) {\r\n                e.stopPropagation();\r\n            }\r\n            if (e.preventDefault) {\r\n                e.preventDefault();\r\n            }\r\n            e.returnValue = false;\r\n        }\r\n\r\n        function move(e) {\r\n            if (dragging) {\r\n                // Mouseup happened outside of window\r\n                if (browser.isIE && doc.documentMode < 9 && !e.button) {\r\n                    return stop();\r\n                }\r\n\r\n                var t0 = e.originalEvent && e.originalEvent.touches && e.originalEvent.touches[0];\r\n                var pageX = t0 && t0.pageX || e.pageX;\r\n                var pageY = t0 && t0.pageY || e.pageY;\r\n\r\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\r\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\r\n\r\n                if (hasTouch) {\r\n                    // Stop scrolling in iOS\r\n                    prevent(e);\r\n                }\r\n\r\n                onmove.apply(element, [dragX, dragY, e]);\r\n            }\r\n        }\r\n\r\n        function start(e) {\r\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\r\n\r\n            var onstart = this.options.onstart || funcs.noop;\r\n\r\n            if (!rightclick && !dragging) {\r\n                if (onstart.apply(element, arguments) !== false) {\r\n                    dragging = true;\r\n                    maxHeight = $(element).height();\r\n                    maxWidth = $(element).width();\r\n                    offset = $(element).offset();\r\n\r\n                    $(doc).on(duringDragEvents);\r\n                    $(doc.body).addClass(\"sp-dragging\");\r\n\r\n                    move(e);\r\n\r\n                    prevent(e);\r\n                }\r\n            }\r\n        }\r\n\r\n        function stop() {\r\n            if (dragging) {\r\n                $(doc).off(duringDragEvents);\r\n                $(doc.body).removeClass(\"sp-dragging\");\r\n\r\n                // Wait a tick before notifying observers to allow the click event\r\n                // to fire in Chrome.\r\n                setTimeout(function() {\r\n                    onstop.apply(element, arguments);\r\n                }, 0);\r\n            }\r\n            dragging = false;\r\n        }\r\n\r\n        $(element).on(\"touchstart mousedown\", start);\r\n    }\r\n\t\r\n\r\n    var Indicator = plugins.Plugin.inherit({\r\n        klassName : \"Indicator\",\r\n\r\n        pluginName : \"lark.colors.indicator\",\r\n\r\n        options : {\r\n        },\r\n\r\n        _construct: function(elm, options) {\r\n            plugins.Plugin.prototype._construct.call(this,elm,options);\r\n\r\n            this.listenTo(this.elmx(),\"mousedown\" , (e) => {\r\n                this._start(e);\r\n            });\r\n\r\n        },\r\n\r\n        _move : function(e) {\r\n            if (this._dragging) {\r\n                var offset = this._offset,\r\n                    pageX = e.pageX,\r\n                    pageY = e.pageY,\r\n                    maxWidth = this._maxWidth,\r\n                    maxHeight = this._maxHeight;\r\n\r\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\r\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\r\n\r\n                var onmove = this.options.onmove;\r\n                if (onmove) {\r\n                    onmove.apply(this._elm, [dragX, dragY, e]);\r\n                }\r\n            }\r\n        },\r\n\r\n        _start : function(e) {\r\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\r\n\r\n            if (!rightclick && !this._dragging) {\r\n                var onstart = this.options.onstart;\r\n                if (!onstart || onstart.apply(this._elm, arguments) !== false) {\r\n                    this._dragging = true;\r\n                    var $el = this.$();\r\n\r\n                    this._maxHeight = $el.height();\r\n                    this._maxWidth = $el.width();\r\n                    this._offset = $el.offset();\r\n\r\n                    var $doc = this.$(document)\r\n\r\n                    this.listenTo($doc,{\r\n                        \"mousemove\" : (e) => {\r\n                            this._move(e);\r\n                        },\r\n                        \"mouseup\" : (e) => {\r\n                            this._stop(e);\r\n                        }                \r\n                    });\r\n                    $doc.find(\"body\").addClass(\"sp-dragging\");\r\n\r\n                    this._move(e);\r\n\r\n                    eventer.stop(e);\r\n                }\r\n            }\r\n        },\r\n\r\n        _stop : function(e) {\r\n            var $doc = this.$(document);\r\n            if (this._dragging) {\r\n                this.unlistenTo($doc);\r\n                $doc.find(\"body\").removeClass(\"sp-dragging\");\r\n\r\n                onstop = this.options.onstop;\r\n\r\n                // Wait a tick before notifying observers to allow the click event\r\n                // to fire in Chrome.\r\n                if (onstop) {\r\n                    this._delay(function() {\r\n                        onstop.apply(this._elm, arguments);\r\n                    });\r\n                }\r\n            }\r\n            this._dragging = false;            \r\n        }\r\n    });\r\n\r\n    plugins.register(Indicator);\r\n\r\n\treturn Indicator;\r\n});\ndefine('skylark-domx-plugins-colors/color-picker',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-browser\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"skylark-graphics-colors/color\",\r\n    \"./colors\",\r\n    \"./helper\",\r\n    \"./indicator\"\r\n],function(langx, browser, noder, finder, $,eventer, styler,plugins,Color,colors,helper,Indicator) {\r\n    \"use strict\";\r\n\r\n    var ColorPicker = plugins.Plugin.inherit({\r\n        klassName : \"ColorPicker\",\r\n\r\n        pluginName : \"lark.colors.picker\",\r\n\r\n        options : {\r\n            selectors  : {\r\n                dragger : \".sp-color\",\r\n                dragHelper : \".sp-dragger\",\r\n                slider : \".sp-hue\",\r\n                slideHelper : \".sp-slider\",\r\n                alphaSliderInner : \".sp-alpha-inner\",\r\n                alphaSlider : \".sp-alpha\",\r\n                alphaSlideHelper : \".sp-alpha-handle\",\r\n                textInput : \".sp-input\",\r\n                initialColorContainer : \".sp-initial\",\r\n                cancelButton : \".sp-cancel\",\r\n                clearButton : \".sp-clear\",\r\n                chooseButton : \".sp-choose\"\r\n            },\r\n\r\n            draggingClass : \"sp-dragging\",\r\n\r\n            texts : {\r\n                cancelText: \"cancel\",\r\n                chooseText: \"choose\",\r\n                clearText: \"Clear Color Selection\",\r\n                noColorSelectedText: \"No Color Selected\"\r\n            },\r\n\r\n            states : {\r\n                showInput: false,\r\n                allowEmpty: false,\r\n                showButtons: true,\r\n                showInitial: false,\r\n                showAlpha: false\r\n            },\r\n\r\n            preferredFormat : \"hex\",\r\n\r\n            // Options\r\n            color: false\r\n        },\r\n        \r\n        _drawInitial : function () {\r\n            var opts = this.options;\r\n            if (this.stating(\"showInitial\")) {\r\n                var initialColor = this._initialColor;\r\n                var currentColor = this.current();\r\n                this.$initialColorContainer.html(\r\n                    helper.paletteTemplate([initialColor, currentColor], currentColor, \"sp-palette-row-initial\", opts)\r\n                );\r\n            }\r\n        },\r\n\r\n        _updateHelperLocations : function () {\r\n            var s = this._currentSaturation;\r\n            var v = this._currentValue;\r\n\r\n            if(this.stating(\"allowEmpty\") && this._isEmpty) {\r\n                //if selected color is empty, hide the helpers\r\n                this.$alphaSlideHelper.hide();\r\n                this.$slideHelper.hide();\r\n                this.$dragHelper.hide();\r\n            }\r\n            else {\r\n                //make sure helpers are visible\r\n                this.$alphaSlideHelper.show();\r\n                this.$slideHelper.show();\r\n                this.$dragHelper.show();\r\n\r\n                // Where to show the little circle in that displays your current selected color\r\n                var dragX = s * this._dragWidth;\r\n                var dragY = this._dragHeight - (v * this._dragHeight);\r\n                dragX = Math.max(\r\n                    -this._dragHelperHeight,\r\n                    Math.min(this._dragWidth - this._dragHelperHeight, dragX - this._dragHelperHeight)\r\n                );\r\n                dragY = Math.max(\r\n                    -this._dragHelperHeight,\r\n                    Math.min(this._dragHeight - this._dragHelperHeight, dragY - this._dragHelperHeight)\r\n                );\r\n                this.$dragHelper.css({\r\n                    \"top\": dragY + \"px\",\r\n                    \"left\": dragX + \"px\"\r\n                });\r\n\r\n                var alphaX = this._currentAlpha * this._alphaWidth;\r\n                this.$alphaSlideHelper.css({\r\n                    \"left\": (alphaX - (this._alphaSlideHelperWidth / 2)) + \"px\"\r\n                });\r\n\r\n                // Where to show the bar that displays your current selected hue\r\n                var slideY = (this._currentHue) * this._slideHeight;\r\n                this.$slideHelper.css({\r\n                    \"top\": (slideY - this._slideHelperHeight) + \"px\"\r\n                });\r\n            }\r\n        },\r\n\r\n        _updateOriginalInput : function (fireCallback) {\r\n            var color = this.current(),\r\n                displayColor = '',\r\n                hasChanged = !Color.equals(color, this._colorOnShow);\r\n\r\n            if (color) {\r\n                displayColor = color.toString(this._currentPreferredFormat);\r\n                // Update the selection palette with the current color\r\n                this.emit(\"picked\",color);\r\n            }\r\n\r\n\r\n        },\r\n\r\n        _updateUI : function () {\r\n            var opts = this.options;\r\n\r\n            this._dragWidth = this.$dragger.width();\r\n            this._dragHeight = this.$dragger.height();\r\n            this._dragHelperHeight = this.$dragHelper.height();\r\n            this._slideWidth = this.$slider.width();\r\n            this._slideHeight = this.$slider.height();\r\n            this._slideHelperHeight = this.$slideHelper.height();\r\n            this._alphaWidth = this.$alphaSlider.width();\r\n            this._alphaSlideHelperWidth = this.$alphaSlideHelper.width();\r\n            \r\n            this.$textInput.removeClass(\"sp-validation-error\");\r\n\r\n            this._updateHelperLocations();\r\n\r\n            // Update dragger background color (gradients take care of saturation and value).\r\n            var flatColor = Color.parse({ \r\n                h: this._currentHue * 360, \r\n                s: 1, \r\n                v: 1 \r\n            });\r\n            this.$dragger.css(\"background-color\", flatColor.toHexString());\r\n\r\n            // Get a format that alpha will be included in (hex and names ignore alpha)\r\n            var format = this._currentPreferredFormat;\r\n            if (this._currentAlpha < 1 && !(this._currentAlpha === 0 && format === \"name\")) {\r\n                if (format === \"hex\" || format === \"hex3\" || format === \"hex6\" || format === \"name\") {\r\n                    format = \"rgb\";\r\n                }\r\n            }\r\n\r\n            var realColor = this.current(),\r\n                displayColor = '';\r\n\r\n            if (!realColor && this.stating(\"allowEmpty\")) {\r\n            }\r\n            else {\r\n                var realHex = realColor.toHexString(),\r\n                    realRgb = realColor.toRgbString();\r\n\r\n                if (this.stating(\"showAlpha\")) {\r\n                    var rgb = realColor.toRgb();\r\n                    rgb.a = 0;\r\n                    var realAlpha = Color.parse(rgb).toRgbString();\r\n                    var gradient = \"linear-gradient(left, \" + realAlpha + \", \" + realHex + \")\";\r\n\r\n                    if (browser.isIE) {\r\n                        this.$alphaSliderInner.css(\"filter\", Color.parse(realAlpha).toFilter({ gradientType: 1 }, realHex));\r\n                    }\r\n                    else {\r\n                        this.$alphaSliderInner.css(\"background\", \"-webkit-\" + gradient);\r\n                        this.$alphaSliderInner.css(\"background\", \"-moz-\" + gradient);\r\n                        this.$alphaSliderInner.css(\"background\", \"-ms-\" + gradient);\r\n                        // Use current syntax gradient on unprefixed property.\r\n                        this.$alphaSliderInner.css(\"background\",\r\n                            \"linear-gradient(to right, \" + realAlpha + \", \" + realHex + \")\");\r\n                    }\r\n                }\r\n\r\n                displayColor = realColor.toString(format);\r\n            }\r\n\r\n            // Update the text entry input as it changes happen\r\n            if (this.stating(\"showInput\")) {\r\n                this.$textInput.val(displayColor);\r\n            }\r\n\r\n            if (this.stating(\"showPalette\")) {\r\n                this._drawPalette();\r\n            }\r\n\r\n            this._drawInitial();\r\n        },\r\n\r\n\r\n        _applyOptions : function () {\r\n            var opts = this.options;\r\n\r\n            this._states = {\r\n                allowEmpty : opts.states.allowEmpty,\r\n                showInput : opts.states.showInput,\r\n                showAlpha : opts.states.showAlpha,\r\n                showButtons : opts.states.showButtons,\r\n                showInitial : opts.states.showInitial\r\n            };\r\n\r\n\r\n           this._applyStates();\r\n\r\n           this.reflow();\r\n        },\r\n\r\n         _construct: function(elm, options) {\r\n            plugins.Plugin.prototype._construct.call(this,elm,options);\r\n\r\n            var $el = this.$el = this.$();\r\n\r\n            var opts = this.options,\r\n                theme = opts.theme;\r\n\r\n            var                \r\n                dragger = this.$dragger = $el.find(opts.selectors.dragger),\r\n                dragHelper = this.$dragHelper = $el.find(opts.selectors.dragHelper),\r\n                slider = this.$slider = $el.find(opts.selectors.slider),\r\n                slideHelper = this.$slideHelper =  $el.find(opts.selectors.slideHelper),\r\n                alphaSliderInner = this.$alphaSliderInner = $el.find(opts.selectors.alphaSliderInner),\r\n                alphaSlider = this.$alphaSlider = $el.find(opts.selectors.alphaSlider),\r\n                alphaSlideHelper = this.$alphaSlideHelper = $el.find(opts.selectors.alphaSlideHelper),\r\n                textInput = this.$textInput = $el.find(opts.selectors.textInput),\r\n                initialColorContainer = this.$initialColorContainer = $el.find(opts.selectors.initialColorContainer),\r\n                cancelButton = this.$cancelButton = $el.find(opts.selectors.cancelButton),\r\n                clearButton = this.$clearButton = $el.find(opts.selectors.clearButton),\r\n                chooseButton = this.$chooseButton = $el.find(opts.selectors.chooseButton),\r\n                initialColor = this._initialColor =  opts.color,\r\n                currentPreferredFormat = this._currentPreferredFormat = opts.preferredFormat,\r\n                isEmpty = this._isEmpty =  !initialColor;\r\n\r\n            this._init();\r\n        },\r\n\r\n        _init : function () {\r\n            var self = this,\r\n                opts = this.options;\r\n             function dragStart() {\r\n                if (self._dragHeight <= 0 || self._dragWidth <= 0 || self._slideHeight <= 0) {\r\n                    self.reflow();\r\n                }\r\n                self._isDragging = true;\r\n                self.$el.addClass(self.options.draggingClass);\r\n                self._shiftMovementDirection = null;\r\n            }\r\n\r\n            function dragStop() {\r\n                self._isDragging = false;\r\n                self.$el.removeClass(self.options.draggingClass);\r\n            }           \r\n\r\n            function move() {\r\n                self._updateOriginalInput();\r\n                self._updateUI();\r\n            }\r\n\r\n            this._applyOptions();\r\n\r\n            function setFromTextInput() {\r\n                var value = self.$textInput.val();\r\n\r\n                if ((value === null || value === \"\") && self._allowEmpty) {\r\n                    self.current(null);\r\n                    move();\r\n                }\r\n                else {\r\n                    var tiny = Color.parse(value);\r\n                    if (tiny.isValid()) {\r\n                        self.current(tiny);\r\n                        move();\r\n                    }\r\n                    else {\r\n                        self.$textInput.addClass(\"sp-validation-error\");\r\n                    }\r\n                }\r\n            }\r\n            this.$textInput.change(setFromTextInput);\r\n            this.$textInput.on(\"paste\", function () {\r\n                setTimeout(setFromTextInput, 1);\r\n            });\r\n            this.$textInput.keydown(function (e) { if (e.keyCode == 13) { setFromTextInput(); } });\r\n\r\n            this.$cancelButton.text(opts.texts.cancelText);\r\n            \r\n            this.listenTo(this.$cancelButton,\"click\", function (e) {\r\n                eventer.stop(e);\r\n                self.revert();\r\n                self.emit(\"canceled\"); \r\n            });\r\n\r\n            this.$clearButton.attr(\"title\", opts.texts.clearText);\r\n            this.listenTo(this.$clearButton,\"click\", function (e) {\r\n                eventer.stop(e);\r\n                self._isEmpty = true;\r\n                move();\r\n\r\n            });\r\n\r\n            this.$chooseButton.text(opts.texts.chooseText);\r\n            this.listenTo(this.$chooseButton,\"click\", function (e) {\r\n                eventer.stop(e);\r\n\r\n                self._updateOriginalInput(true);\r\n                self.emit(\"choosed\"); \r\n            });\r\n          \r\n            this.$alphaSlider.plugin(\"lark.colors.indicator\", {\r\n                \"onmove\" :   function (dragX, dragY, e) {\r\n                    self._currentAlpha = (dragX / self._alphaWidth);\r\n                    self._isEmpty = false;\r\n                    if (e.shiftKey) {\r\n                        self._currentAlpha = Math.round(self._currentAlpha * 10) / 10;\r\n                    }\r\n\r\n                    move();\r\n\r\n                }, \r\n                \"onstart\" : dragStart, \r\n                \"onstop\" :dragStop\r\n            });\r\n\r\n            this.$slider.plugin(\"lark.colors.indicator\", {\r\n                \"onmove\" :   function (dragX, dragY, e) {\r\n                    self._currentHue = parseFloat(dragY / self._slideHeight);\r\n                    self._isEmpty = false;\r\n                    if (!self.stating(\"showAlpha\")) {\r\n                        self._currentAlpha = 1;\r\n                    }\r\n                    move();\r\n                }, \r\n                \"onstart\" : dragStart, \r\n                \"onstop\" :dragStop\r\n            });\r\n\r\n            this.$dragger.plugin(\"lark.colors.indicator\", {\r\n                \"onmove\" :   function (dragX, dragY, e) {\r\n\r\n                    // shift+drag should snap the movement to either the x or y axis.\r\n                    if (!e.shiftKey) {\r\n                        self._shiftMovementDirection = null;\r\n                    }\r\n                    else if (!self._shiftMovementDirection) {\r\n                        var oldDragX = self._currentSaturation * self._dragWidth;\r\n                        var oldDragY = self._dragHeight - (self._currentValue * self._dragHeight);\r\n                        var furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);\r\n\r\n                        self._shiftMovementDirection = furtherFromX ? \"x\" : \"y\";\r\n                    }\r\n\r\n                    var setSaturation = !self._shiftMovementDirection || self._shiftMovementDirection === \"x\";\r\n                    var setValue = !self._shiftMovementDirection || self._shiftMovementDirection === \"y\";\r\n\r\n                    if (setSaturation) {\r\n                        self._currentSaturation = parseFloat(dragX / self._dragWidth);\r\n                    }\r\n                    if (setValue) {\r\n                        self._currentValue = parseFloat((self._dragHeight - dragY) / self._dragHeight);\r\n                    }\r\n\r\n                    self._isEmpty = false;\r\n                    if (!self.stating(\"showAlpha\")) {\r\n                        self._currentAlpha = 1;\r\n                    }\r\n\r\n                    move();\r\n                }, \r\n                \"onstart\" : dragStart, \r\n                \"onstop\" :dragStop\r\n            });\r\n\r\n            this.current(this._initialColor);\r\n\r\n            // In case color was black - update the preview UI and set the format\r\n            // since the set function will not run (default color is black).\r\n            self._updateUI();\r\n\r\n            function paletteElementClick(e) {\r\n                if (e.data && e.data.ignore) {\r\n                    self.current($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\r\n                    move();\r\n                }\r\n                else {\r\n                    self.current($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\r\n                    move();\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            var paletteEvent = browser.isIE ? \"mousedown.ColorPicker\" : \"click.ColorPicker touchstart.ColorPicker\";\r\n            this.$initialColorContainer.on(paletteEvent, \".sp-thumb-el:nth-child(1)\", { ignore: true }, paletteElementClick);\r\n        },\r\n\r\n        revert :  function () {\r\n            this.current(this._initialColor, true);\r\n            this._updateOriginalInput(true);\r\n        },\r\n\r\n\r\n        current : function(color) {\r\n            if (color === undefined) {\r\n                if (this._allowEmpty && this._isEmpty) {\r\n                    return null;\r\n                }\r\n\r\n\r\n                return Color.parse({\r\n                    h: this._currentHue * 360,\r\n                    s: this._currentSaturation,\r\n                    v: this._currentValue,\r\n                    a: Math.round(this._currentAlpha * 1000) / 1000\r\n                });\r\n\r\n            } else {\r\n                if (Color.equals(color, this.current())) {\r\n                    // Update UI just in case a validation error needs\r\n                    // to be cleared.\r\n                    this._updateUI();\r\n                    return;\r\n                }\r\n\r\n                var newColor, newHsv;\r\n                if (!color && this.stating(\"allowEmpty\")) {\r\n                    this._isEmpty = true;\r\n                } else {\r\n                    this._isEmpty = false;\r\n                    newColor = Color.parse(color);\r\n                    newHsv = newColor.toHsv();\r\n\r\n                    this._currentHue = (newHsv.h % 360) / 360;\r\n                    this._currentSaturation = newHsv.s;\r\n                    this._currentValue = newHsv.v;\r\n                    this._currentAlpha = newHsv.a;\r\n                }\r\n                this._updateUI();\r\n\r\n            }\r\n        },\r\n\r\n\r\n        _applyStates : function() {\r\n           var states = this._states ;\r\n\r\n            this.$el.toggleClass(\"sp-input-disabled\", !states.showInput)\r\n                        .toggleClass(\"sp-clear-enabled\", !!states.allowEmpty)\r\n                        .toggleClass(\"sp-alpha-enabled\", states.showAlpha)\r\n                        .toggleClass(\"sp-buttons-disabled\", !states.showButtons)\r\n                        .toggleClass(\"sp-initial-disabled\", !states.showInitial);\r\n\r\n            if (!states.allowEmpty) {\r\n                this.$clearButton.hide();\r\n            }\r\n\r\n            this._dragWidth = this.$dragger.width();\r\n            this._dragHeight = this.$dragger.height();\r\n            this._dragHelperHeight = this.$dragHelper.height();\r\n            this._slideWidth = this.$slider.width();\r\n            this._slideHeight = this.$slider.height();\r\n            this._slideHelperHeight = this.$slideHelper.height();\r\n            this._alphaWidth = this.$alphaSlider.width();\r\n            this._alphaSlideHelperWidth = this.$alphaSlideHelper.width();\r\n        },\r\n\r\n        stating : function(name,value) {\r\n            if (value !== undefined) {\r\n                this._states[name] = value;\r\n                this._applyStates();\r\n            } else {\r\n                return this._states[name];\r\n            }\r\n        },\r\n\r\n        reflow : function () {\r\n            this._updateHelperLocations();\r\n        }\r\n\r\n    });\r\n\r\n\r\n    plugins.register(ColorPicker);\r\n\r\n    return colors.ColorPicker = ColorPicker;\r\n});\ndefine('skylark-domx-plugins-colors/color-palette',[\r\n   \"skylark-langx/skylark\",\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-browser\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-fx\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"skylark-graphics-colors/color\",\r\n    \"./colors\",\r\n    \"./helper\"\r\n],function(skylark, langx, browser, noder, finder, $,eventer, styler,fx,plugins,Color,colors,helper) {\r\n    \"use strict\";\r\n\r\n    var noop = langx.noop;\r\n\r\n    var ColorPalette = plugins.Plugin.inherit({\r\n        klassName : \"ColorPalette\",\r\n\r\n        pluginName : \"lark.colors.palette\",\r\n\r\n        options : {\r\n            selectors  : {\r\n            },\r\n\r\n            texts : {\r\n            },\r\n\r\n            states : {\r\n                showSelectionPalette: true\r\n            },\r\n            palette: [\r\n                [\"#ffffff\", \"#000000\", \"#ff0000\", \"#ff8000\", \"#ffff00\", \"#008000\", \"#0000ff\", \"#4b0082\", \"#9400d3\"]\r\n            ],\r\n            selectionPalette: []\r\n\r\n        },\r\n\r\n       _addColorToSelectionPalette : function (color) {\r\n            if (this.stating(\"showSelectionPalette\")) {\r\n                var rgb = Color.parse(color).toRgbString();\r\n                if (!this._paletteLookup[rgb] && langx.inArray(rgb, this._selectionPalette) === -1) {\r\n                    this._selectionPalette.push(rgb);\r\n                    while(this._selectionPalette.length > this._maxSelectionSize) {\r\n                        this._selectionPalette.shift();\r\n                    }\r\n                }\r\n            }\r\n        },  \r\n\r\n        getUniqueSelectionPalette : function () {\r\n            var unique = [],\r\n                opts = this.options;\r\n            if (this.stating(\"showPalette\")) {\r\n                for (var i = 0; i < this._selectionPalette.length; i++) {\r\n                    var rgb = Color.parse(this._selectionPalette[i]).toRgbString();\r\n\r\n                    if (!this._paletteLookup[rgb]) {\r\n                        unique.push(this._selectionPalette[i]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return unique.reverse().slice(0, opts.maxSelectionSize);\r\n        },\r\n\r\n        _drawPalette : function () {\r\n\r\n            var opts = this.options,\r\n                currentColor = this.current();\r\n\r\n            var html = langx.map(this._paletteArray, function (palette, i) {\r\n                return helper.paletteTemplate(palette, currentColor, \"sp-palette-row sp-palette-row-\" + i, opts);\r\n            });\r\n\r\n            if (this._selectionPalette) {\r\n                html.push(helper.paletteTemplate(this.getUniqueSelectionPalette(), currentColor, \"sp-palette-row sp-palette-row-selection\", opts));\r\n            }\r\n\r\n            this.$el.html(html.join(\"\"));\r\n        },\r\n\r\n\r\n        _updateUI : function () {\r\n           this._drawPalette();\r\n        },\r\n\r\n\r\n        _applyOptions : function () {\r\n            var opts = this.options;\r\n\r\n            this._states = {\r\n                showSelectionPalette: opts.showSelectionPalette\r\n            };            \r\n\r\n            if (opts.palette) {\r\n                var  palette = this._palette = opts.palette.slice(0),\r\n                    paletteArray = this._paletteArray = langx.isArray(palette[0]) ? palette : [palette],\r\n                    paletteLookup = this._paletteLookup = {};\r\n                for (var i = 0; i < paletteArray.length; i++) {\r\n                    for (var j = 0; j < paletteArray[i].length; j++) {\r\n                        var rgb = Color.parse(paletteArray[i][j]).toRgbString();\r\n                        paletteLookup[rgb] = true;\r\n                    }\r\n                }\r\n            }\r\n           this._applyStates();\r\n        },\r\n\r\n         _construct: function(elm, options) {\r\n           plugins.Plugin.prototype._construct.call(this,elm,options);\r\n\r\n            this.$el = this.$();\r\n\r\n            this._init();\r\n        },\r\n\r\n        _init : function () {\r\n            var self = this,\r\n                opts = this.options,\r\n                initialColor = this._initialColor =  opts.color,\r\n                selectionPalette = this._selectionPalette =  opts.selectionPalette.slice(0);\r\n\r\n            this._applyOptions();\r\n\r\n\r\n            if (!!this._initialColor) {\r\n                this.current(this._initialColor);\r\n\r\n                // In case color was black - update the preview UI and set the format\r\n                // since the set function will not run (default color is black).\r\n                self._addColorToSelectionPalette(this._initialColor);\r\n            } else {\r\n                this._updateUI();\r\n            }\r\n\r\n            function paletteElementClick(e) {\r\n                self.current($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\r\n                self.emit(\"selected\",self.current());\r\n                return false;\r\n            }\r\n\r\n            var paletteEvent = browser.isIE ? \"mousedown.palette\" : \"click.palette touchstart.palette\";\r\n            this.$el.on(paletteEvent, \".sp-thumb-el\", paletteElementClick);\r\n        },\r\n\r\n\r\n        _applyStates : function() {\r\n\r\n        },\r\n\r\n        stating : function(name,value) {\r\n        \tif (value !== undefined) {\r\n        \t\tthis._states[name] = value;\r\n        \t\tthis._applyStates();\r\n        \t} else {\r\n        \t\treturn this._states[name];\r\n        \t}\r\n        },\r\n\r\n        reflow : function () {\r\n           this._drawPalette();\r\n        },\r\n\r\n        current : function(color) {\r\n        \tif (color === undefined) {\r\n        \t\treturn this._current;\r\n        \t} else {\r\n        \t\tthis._current = color;\r\n                this._updateUI();\r\n        \t}\r\n        }\r\n\r\n    });\r\n\r\n\r\n    plugins.register(ColorPalette);\r\n\r\n    return colors.ColorPalette = ColorPalette;\r\n\r\n});\ndefine('skylark-domx-plugins-colors/Color-pane',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-browser\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-fx\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"skylark-domx-plugins-popups\",\r\n    \"skylark-graphics-colors/color\",\r\n    \"./colors\",\r\n    \"./color-picker\",\r\n    \"./color-palette\"\r\n],function(langx, browser, noder, finder, $,eventer, styler,fx,plugins,popups,Color,colors,ColorPicker,ColorPalette) {\r\n    \"use strict\";\r\n\r\n    var ColorPane = plugins.Plugin.inherit({\r\n        klassName : \"ColorPane\",\r\n\r\n        pluginName : \"lark.colors.pane\",\r\n\r\n        options : {\r\n            selectors  : {\r\n                pickerContainer : \".sp-picker-container\",\r\n                toggleButton : \".sp-palette-toggle\",\r\n                paletteContainer : \".sp-palette\"\r\n            },\r\n\r\n            draggingClass : \"sp-dragging\",           \r\n\r\n            texts : {\r\n                togglePaletteMoreText: \"more\",\r\n                togglePaletteLessText: \"less\",\r\n                clearText: \"Clear Color Selection\",\r\n                noColorSelectedText: \"No Color Selected\"\r\n            },\r\n\r\n            states : {\r\n                showPalette: false,\r\n                showPaletteOnly: false,\r\n                togglePaletteOnly: false,\r\n                showSelectionPalette: true,\r\n                showInput: false,\r\n                allowEmpty: false,\r\n                showButtons: true,\r\n                showInitial: false,\r\n                showAlpha: false\r\n            },\r\n\r\n            // Options\r\n            color: false,\r\n            maxSelectionSize: 7\r\n\r\n        },\r\n\r\n        _updateUI : function () {\r\n            if (this.stating(\"showPalette\")) {\r\n                this.palette._updateUI();\r\n            }\r\n            this.picker._updateUI();\r\n        },\r\n\r\n\r\n        _applyOptions : function () {\r\n            var opts = this.options;\r\n\r\n            this._states = {\r\n                allowEmpty : opts.states.allowEmpty,\r\n                showInput : opts.states.showInput,\r\n                showAlpha : opts.states.showAlpha,\r\n                showButtons : opts.states.showButtons,\r\n                togglePaletteOnly : opts.states.togglePaletteOnly,\r\n                showPalette : opts.states.showPalette,\r\n                showPaletteOnly : opts.states.showPaletteOnly,\r\n                showSelectionPalette: opts.showSelectionPalette,\r\n                showInitial : opts.states.showInitial\r\n            };\r\n\r\n           this._applyStates();\r\n\r\n           this.reflow();\r\n        },\r\n\r\n         _construct: function(elm, options) {\r\n            plugins.Plugin.prototype._construct.call(this,elm,options);\r\n\r\n            var $el = this.$el = this.$();\r\n\r\n            var opts = this.options,\r\n                theme = opts.theme;\r\n\r\n\r\n            var \r\n                //container = this.$container = $(markup,elm.ownerDocument).addClass(theme),\r\n                pickerContainer = this.$pickerContainer =  $el.find(opts.selectors.pickerContainer),\r\n                paletteContainer = this.$paletteContainer =  $el.find(opts.selectors.paletteContainer),\r\n                toggleButton = this.$toggleButton = $el.find(opts.selectors.toggleButton),\r\n                initialColor = this._initialColor =  opts.color,\r\n                isEmpty = this._isEmpty =  !initialColor;\r\n\r\n            if (paletteContainer[0]) {\r\n                this.palette = ColorPalette.instantiate(paletteContainer[0],{\r\n                    selectionPalette : opts.selectionPalette,\r\n                    color : opts.color,\r\n                    palette : opts.palette,\r\n                    selectionPalette : opts.selectionPalette\r\n                })\r\n            } \r\n\r\n            if (pickerContainer[0]) {\r\n                this.picker = ColorPicker.instantiate(pickerContainer[0],{\r\n                    color : opts.color,\r\n                    states : {\r\n                        showInput: opts.states.showInput,\r\n                        allowEmpty: opts.states.allowEmpty,\r\n                        showButtons: opts.states.showButtons,\r\n                        showInitial: opts.states.showInitial,\r\n                        showAlpha: opts.states.showAlpha                                            \r\n                    }\r\n                }) ;\r\n\r\n                this.listenTo(this.picker,\"canceled\",(e) => {\r\n                    this.emit(\"canceled\");\r\n                });    \r\n                this.listenTo(this.picker,\"choosed\",(e) => {\r\n                    this.emit(\"choosed\");\r\n                });    \r\n                this.listenTo(this.picker,\"picked\",(e,color) => {\r\n                    this.emit(\"picked\",color);\r\n                }); \r\n            }\r\n            this._init();\r\n\r\n        },\r\n\r\n        _init : function () {\r\n            var self = this,\r\n                opts = this.options;\r\n           if (browser.isIE) {\r\n                this.$container.find(\"*:not(input)\").attr(\"unselectable\", \"on\");\r\n            }\r\n\r\n            this._applyOptions();\r\n\r\n\r\n          \r\n            this.listenTo(this.$toggleButton,\"click\", function (e) {\r\n                eventer.stop(e);\r\n\r\n                self.stating(\"showPaletteOnly\",!self.stating(\"showPaletteOnly\"));\r\n            });\r\n\r\n            this.listenTo(this.palette,\"selected\",function(e,color){\r\n                self.picker.current(color);\r\n            });\r\n        },\r\n\r\n        revert :  function () {\r\n            this.set(this._colorOnShow, true);\r\n            this._updateOriginalInput(true);\r\n        },\r\n\r\n\r\n        get : function () {\r\n            return this.picker.current();\r\n        },\r\n\r\n\r\n        set : function (color) {\r\n            this.picker.current(color);\r\n            this.palette.current(color);\r\n        },\r\n\r\n        _applyStates : function() {\r\n           var states = this._states ;\r\n\r\n            if (states.showPaletteOnly) {\r\n                states.showPalette = true;\r\n            }\r\n\r\n            this.$toggleButton.text(states.showPaletteOnly ? this.option(\"texts.togglePaletteMoreText\"): this.option(\"texts.togglePaletteLessText\"));\r\n\r\n\r\n            this.$el.toggleClass(\"sp-input-disabled\", !states.showInput)\r\n                            .toggleClass(\"sp-clear-enabled\", !!states.allowEmpty)\r\n                            .toggleClass(\"sp-alpha-enabled\", states.showAlpha)\r\n                            .toggleClass(\"sp-buttons-disabled\", !states.showButtons)\r\n                            .toggleClass(\"sp-palette-buttons-disabled\", !states.togglePaletteOnly)\r\n                            .toggleClass(\"sp-palette-disabled\", !states.showPalette)\r\n                            .toggleClass(\"sp-palette-only\", states.showPaletteOnly)\r\n                            .toggleClass(\"sp-initial-disabled\", !states.showInitial);\r\n\r\n            if (states.showPaletteOnly) {\r\n                this.$el.css('left', '-=' + (this.$pickerContainer.outerWidth(true) + 5));\r\n            }\r\n        },\r\n\r\n        stating : function(name,value) {\r\n            if (value !== undefined) {\r\n                this._states[name] = value;\r\n                this._applyStates();\r\n            } else {\r\n                return this._states[name];\r\n            }\r\n        },\r\n\r\n        reflow : function () {\r\n\r\n            if (this.stating(\"showPalette\")) {\r\n                this.palette.reflow();\r\n            }\r\n\r\n            this.picker.reflow();\r\n\r\n        }\r\n    });\r\n\r\n\r\n    plugins.register(ColorPane);\r\n\r\n    return colors.ColorPane = ColorPane;\r\n});\ndefine('skylark-domx-plugins-colors/color-box',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"skylark-domx-plugins-popups\",\r\n    \"skylark-graphics-colors/color\",\r\n    \"./colors\",\r\n    \"./Color-pane\"\r\n   ],function(langx, noder, finder, $,eventer, styler,plugins,popups,Color,colors,ColorPane) {\r\n    \"use strict\";\r\n\r\n    var ColorBox = plugins.Plugin.inherit({\r\n        klassName : \"ColorBox\",\r\n\r\n        pluginName : \"lark.colors.box\",\r\n\r\n        options : {\r\n            pane : {\r\n                states : {\r\n                    showPalette: false,\r\n                    showPaletteOnly: false,\r\n                    togglePaletteOnly: false,\r\n                    showSelectionPalette: true,\r\n                    showInput: false,\r\n                    allowEmpty: false,\r\n                    showButtons: true,\r\n                    showInitial: false,\r\n                    showAlpha: false\r\n                },                \r\n                maxSelectionSize: 7,\r\n\r\n                palette : undefined,\r\n                selectionPalette : undefined\r\n            },\r\n\r\n            // Options\r\n            color: false\r\n\r\n        },\r\n\r\n        _updateUI : function () {\r\n            var realColor = this.get(),\r\n                displayColor = '';\r\n             //reset background info for preview element\r\n            this.$previewElement.removeClass(\"sp-clear-display\");\r\n            this.$previewElement.css('background-color', 'transparent');\r\n\r\n            if (!realColor && this.stating(\"allowEmpty\")) {\r\n                // Update the replaced elements background with icon indicating no color selection\r\n                this.$previewElement.addClass(\"sp-clear-display\");\r\n            }\r\n            else {\r\n                var realHex = realColor.toHexString(),\r\n                    realRgb = realColor.toRgbString();\r\n\r\n                // Update the replaced elements background color (with actual selected color)\r\n                this.$previewElement.css(\"background-color\", realRgb);\r\n\r\n                displayColor = realColor.toString();\r\n            }\r\n\r\n            this.pane._updateUI();\r\n        },\r\n\r\n\r\n        _applyOptions : function () {\r\n\r\n           this.reflow();\r\n        },\r\n\r\n         _construct: function(elm, options) {\r\n            plugins.Plugin.prototype._construct.call(this,elm,options);\r\n\r\n            this.$el = this.$();\r\n\r\n            var opts = this.options,\r\n            \t$pane = this.$pane = $(opts.pane.template),\r\n                $previewElement = this.$previewElement = this.$el.find(\".sp-preview-inner\");\r\n\r\n\r\n            if ($pane[0]) {\r\n                this.pane = ColorPane.instantiate($pane[0],langx.mixin({\r\n                    color : opts.color\r\n                },opts.pane));\r\n\r\n            } \r\n\r\n            this._init();\r\n\r\n        },\r\n\r\n        _init : function () {\r\n            var self = this,\r\n                opts = this.options;\r\n\r\n            this._applyOptions();\r\n\r\n            var paneIsVisible = false;\r\n            this.$pane.hide();\r\n            function showPane() {\r\n                if (paneIsVisible) {\r\n                    return;\r\n                }\r\n               \r\n                paneIsVisible = true;\r\n\r\n                self.$pane.show();\r\n\r\n                self.reflow();\r\n                \r\n                self._updateUI();\r\n                \r\n            }\r\n\r\n            function hidePane() {\r\n                if (!paneIsVisible) {\r\n                    return;\r\n                }\r\n                paneIsVisible = false;\r\n\r\n                self.$pane.hide();\r\n            }\r\n\r\n\r\n            this.listenTo(this.$el,\"click touchstart\", function (e) {\r\n                if (paneIsVisible) {\r\n                    hidePane();\r\n                } else {\r\n                    showPane();\r\n                }\r\n\r\n              eventer.stop(e);\r\n            });\r\n\r\n            this.listenTo(this.pane,\"picked\",(e,color) => {\r\n\r\n                // Update the replaced elements background color (with actual selected color)\r\n                this.$previewElement.css(\"background-color\", color.toRgbString());               \r\n            });\r\n\r\n            this.listenTo(this.pane,\"canceled choosed\",(e) => {\r\n                hidePane();\r\n            });\r\n\r\n\r\n        },\r\n\r\n        revert :  function () {\r\n        \tthis.pane.revert();\r\n        },\r\n\r\n\r\n        get : function () {\r\n            return this.pane.get();\r\n        },\r\n\r\n\r\n        set : function (color) {\r\n        \tthis.pane.set(color);\r\n        },\r\n\r\n\r\n        reflow : function () {\r\n\r\n            this.$pane.css(\"position\", \"absolute\");\r\n            this.$pane.offset(popups.calcOffset(this.$pane[0], this.$el[0]));\r\n\r\n            this.pane.reflow();\r\n\r\n        }\r\n\r\n\r\n    });\r\n\r\n    plugins.register(ColorBox);\r\n\r\n    return colors.ColorBox = ColorBox;\r\n\r\n});\ndefine('skylark-domx-plugins-colors/color-pane',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-browser\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-fx\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"skylark-domx-plugins-popups\",\r\n    \"skylark-graphics-colors/color\",\r\n    \"./colors\",\r\n    \"./color-picker\",\r\n    \"./color-palette\"\r\n],function(langx, browser, noder, finder, $,eventer, styler,fx,plugins,popups,Color,colors,ColorPicker,ColorPalette) {\r\n    \"use strict\";\r\n\r\n    var ColorPane = plugins.Plugin.inherit({\r\n        klassName : \"ColorPane\",\r\n\r\n        pluginName : \"lark.colors.pane\",\r\n\r\n        options : {\r\n            selectors  : {\r\n                pickerContainer : \".sp-picker-container\",\r\n                toggleButton : \".sp-palette-toggle\",\r\n                paletteContainer : \".sp-palette\"\r\n            },\r\n\r\n            draggingClass : \"sp-dragging\",           \r\n\r\n            texts : {\r\n                togglePaletteMoreText: \"more\",\r\n                togglePaletteLessText: \"less\",\r\n                clearText: \"Clear Color Selection\",\r\n                noColorSelectedText: \"No Color Selected\"\r\n            },\r\n\r\n            states : {\r\n                showPalette: false,\r\n                showPaletteOnly: false,\r\n                togglePaletteOnly: false,\r\n                showSelectionPalette: true,\r\n                showInput: false,\r\n                allowEmpty: false,\r\n                showButtons: true,\r\n                showInitial: false,\r\n                showAlpha: false\r\n            },\r\n\r\n            // Options\r\n            color: false,\r\n            maxSelectionSize: 7\r\n\r\n        },\r\n\r\n        _updateUI : function () {\r\n            if (this.stating(\"showPalette\")) {\r\n                this.palette._updateUI();\r\n            }\r\n            this.picker._updateUI();\r\n        },\r\n\r\n\r\n        _applyOptions : function () {\r\n            var opts = this.options;\r\n\r\n            this._states = {\r\n                allowEmpty : opts.states.allowEmpty,\r\n                showInput : opts.states.showInput,\r\n                showAlpha : opts.states.showAlpha,\r\n                showButtons : opts.states.showButtons,\r\n                togglePaletteOnly : opts.states.togglePaletteOnly,\r\n                showPalette : opts.states.showPalette,\r\n                showPaletteOnly : opts.states.showPaletteOnly,\r\n                showSelectionPalette: opts.showSelectionPalette,\r\n                showInitial : opts.states.showInitial\r\n            };\r\n\r\n           this._applyStates();\r\n\r\n           this.reflow();\r\n        },\r\n\r\n         _construct: function(elm, options) {\r\n            plugins.Plugin.prototype._construct.call(this,elm,options);\r\n\r\n            var $el = this.$el = this.$();\r\n\r\n            var opts = this.options,\r\n                theme = opts.theme;\r\n\r\n\r\n            var \r\n                //container = this.$container = $(markup,elm.ownerDocument).addClass(theme),\r\n                pickerContainer = this.$pickerContainer =  $el.find(opts.selectors.pickerContainer),\r\n                paletteContainer = this.$paletteContainer =  $el.find(opts.selectors.paletteContainer),\r\n                toggleButton = this.$toggleButton = $el.find(opts.selectors.toggleButton),\r\n                initialColor = this._initialColor =  opts.color,\r\n                isEmpty = this._isEmpty =  !initialColor;\r\n\r\n            if (paletteContainer[0]) {\r\n                this.palette = ColorPalette.instantiate(paletteContainer[0],{\r\n                    selectionPalette : opts.selectionPalette,\r\n                    color : opts.color,\r\n                    palette : opts.palette,\r\n                    selectionPalette : opts.selectionPalette\r\n                })\r\n            } \r\n\r\n            if (pickerContainer[0]) {\r\n                this.picker = ColorPicker.instantiate(pickerContainer[0],{\r\n                    color : opts.color,\r\n                    states : {\r\n                        showInput: opts.states.showInput,\r\n                        allowEmpty: opts.states.allowEmpty,\r\n                        showButtons: opts.states.showButtons,\r\n                        showInitial: opts.states.showInitial,\r\n                        showAlpha: opts.states.showAlpha                                            \r\n                    }\r\n                }) ;\r\n\r\n                this.listenTo(this.picker,\"canceled\",(e) => {\r\n                    this.emit(\"canceled\");\r\n                });    \r\n                this.listenTo(this.picker,\"choosed\",(e) => {\r\n                    this.emit(\"choosed\");\r\n                });    \r\n                this.listenTo(this.picker,\"picked\",(e,color) => {\r\n                    this.emit(\"picked\",color);\r\n                }); \r\n            }\r\n            this._init();\r\n\r\n        },\r\n\r\n        _init : function () {\r\n            var self = this,\r\n                opts = this.options;\r\n           if (browser.isIE) {\r\n                this.$container.find(\"*:not(input)\").attr(\"unselectable\", \"on\");\r\n            }\r\n\r\n            this._applyOptions();\r\n\r\n\r\n          \r\n            this.listenTo(this.$toggleButton,\"click\", function (e) {\r\n                eventer.stop(e);\r\n\r\n                self.stating(\"showPaletteOnly\",!self.stating(\"showPaletteOnly\"));\r\n            });\r\n\r\n            this.listenTo(this.palette,\"selected\",function(e,color){\r\n                self.picker.current(color);\r\n            });\r\n        },\r\n\r\n        revert :  function () {\r\n            this.set(this._colorOnShow, true);\r\n            this._updateOriginalInput(true);\r\n        },\r\n\r\n\r\n        get : function () {\r\n            return this.picker.current();\r\n        },\r\n\r\n\r\n        set : function (color) {\r\n            this.picker.current(color);\r\n            this.palette.current(color);\r\n        },\r\n\r\n        _applyStates : function() {\r\n           var states = this._states ;\r\n\r\n            if (states.showPaletteOnly) {\r\n                states.showPalette = true;\r\n            }\r\n\r\n            this.$toggleButton.text(states.showPaletteOnly ? this.option(\"texts.togglePaletteMoreText\"): this.option(\"texts.togglePaletteLessText\"));\r\n\r\n\r\n            this.$el.toggleClass(\"sp-input-disabled\", !states.showInput)\r\n                            .toggleClass(\"sp-clear-enabled\", !!states.allowEmpty)\r\n                            .toggleClass(\"sp-alpha-enabled\", states.showAlpha)\r\n                            .toggleClass(\"sp-buttons-disabled\", !states.showButtons)\r\n                            .toggleClass(\"sp-palette-buttons-disabled\", !states.togglePaletteOnly)\r\n                            .toggleClass(\"sp-palette-disabled\", !states.showPalette)\r\n                            .toggleClass(\"sp-palette-only\", states.showPaletteOnly)\r\n                            .toggleClass(\"sp-initial-disabled\", !states.showInitial);\r\n\r\n            if (states.showPaletteOnly) {\r\n                this.$el.css('left', '-=' + (this.$pickerContainer.outerWidth(true) + 5));\r\n            }\r\n        },\r\n\r\n        stating : function(name,value) {\r\n            if (value !== undefined) {\r\n                this._states[name] = value;\r\n                this._applyStates();\r\n            } else {\r\n                return this._states[name];\r\n            }\r\n        },\r\n\r\n        reflow : function () {\r\n\r\n            if (this.stating(\"showPalette\")) {\r\n                this.palette.reflow();\r\n            }\r\n\r\n            this.picker.reflow();\r\n\r\n        }\r\n    });\r\n\r\n\r\n    plugins.register(ColorPane);\r\n\r\n    return colors.ColorPane = ColorPane;\r\n});\ndefine('skylark-domx-plugins-colors/colorer',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-data\",\r\n    \"skylark-domx-query\",\r\n\t\"./colors\",\r\n\t\"./color-box\",\r\n\t\"./color-pane\"\r\n],function(langx,datax,$,colors,ColorBox,ColorPane){\r\n   var pickers = [],\r\n    replaceInput = [\r\n        \"<div class='sp-replacer'>\",\r\n            \"<div class='sp-preview'><div class='sp-preview-inner'></div></div>\",\r\n            \"<div class='sp-dd'>&#9660;</div>\",\r\n        \"</div>\"\r\n    ].join(''),\r\n    \r\n    markup = (function () {\r\n        return [\r\n            \"<div class='sp-container'>\",\r\n                \"<div class='sp-palette-container'>\",\r\n                    \"<div class='sp-palette sp-thumb sp-cf'></div>\",\r\n                    \"<div class='sp-palette-button-container sp-cf'>\",\r\n                        \"<button type='button' class='sp-palette-toggle'></button>\",\r\n                    \"</div>\",\r\n                \"</div>\",\r\n                \"<div class='sp-picker-container'>\",\r\n                    \"<div class='sp-top sp-cf'>\",\r\n                        \"<div class='sp-fill'></div>\",\r\n                        \"<div class='sp-top-inner'>\",\r\n                            \"<div class='sp-color'>\",\r\n                                \"<div class='sp-sat'>\",\r\n                                    \"<div class='sp-val'>\",\r\n                                        \"<div class='sp-dragger'></div>\",\r\n                                    \"</div>\",\r\n                                \"</div>\",\r\n                            \"</div>\",\r\n                            \"<div class='sp-clear sp-clear-display'>\",\r\n                            \"</div>\",\r\n                            \"<div class='sp-hue'>\",\r\n                                \"<div class='sp-slider'></div>\",\r\n                            \"</div>\",\r\n                        \"</div>\",\r\n                        \"<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>\",\r\n                    \"</div>\",\r\n                    \"<div class='sp-input-container sp-cf'>\",\r\n                        \"<input class='sp-input' type='text' spellcheck='false'  />\",\r\n                    \"</div>\",\r\n                    \"<div class='sp-initial sp-thumb sp-cf'></div>\",\r\n                    \"<div class='sp-button-container sp-cf'>\",\r\n                        \"<a class='sp-cancel' href='#'></a>\",\r\n                        \"<button type='button' class='sp-choose'></button>\",\r\n                    \"</div>\",\r\n                \"</div>\",\r\n            \"</div>\"\r\n        ].join(\"\");\r\n    })();\r\n\r\n\r\n\tfunction colorer(elmInput,options) {\r\n\t\toptions = langx.mixin({\r\n            // Options\r\n            color: false,\r\n            flat: false,\r\n            appendTo: \"body\",\r\n            maxSelectionSize: 7,\r\n            preferredFormat: false,\r\n            containerClassName: \"\",\r\n            replacerClassName: \"\",\r\n            theme: \"sp-light\",\r\n\r\n            offset: null,\r\n            pane : {\r\n                \r\n            }\r\n\t\t},options);\r\n\r\n\t\tvar \r\n\t\t\ttheme = options.theme,\r\n\t\t\tflat = options.flat,\r\n\t\t\tappendTo = options.appendTo,\r\n\t\t\t$el = $(elmInput),\r\n\t\t\t$pane = $(markup,elmInput.ownerDocument).addClass(theme),\r\n\t        isInput = $el.is(\"input\"),\r\n\t        isInputTypeColor = isInput && $el.attr(\"type\") === \"color\",\r\n\t        shouldReplace = this._shouldReplace =  isInput && !flat,\r\n\t        $replacer =  (shouldReplace) ? $(replaceInput).addClass(theme)\r\n\t                                                      .addClass(options.className)\r\n\t                                                      .addClass(options.replacerClassName) \r\n\t                                     : $([]),\r\n\t        $offsetElement =  (shouldReplace) ? $replacer : $el;\r\n\r\n\r\n        delete options.flat;\r\n        delete options.appendTo;\r\n\r\n        options.color = options.color || (isInput && $el.val());\r\n\r\n        if (shouldReplace) {\r\n            $el.after($replacer).hide();\r\n        }\r\n\r\n\r\n        $pane.toggleClass(\"sp-flat\", flat)\r\n             .addClass(options.containerClassName);\r\n\r\n        if (flat) {\r\n            $el.after($pane).hide();\r\n            var pane = new ColorPane($pane[0],options);\r\n            if (options.picked) {\r\n                pane.on(\"picked\",options.picked);\r\n            }\r\n            if (options.choosed) {\r\n                pane.on(\"choosed\",options.choosed);               \r\n            }\r\n            if (options.canceled) {\r\n                pane.on(\"canceled\",options.canceled);               \r\n            }\r\n            $pane.show();\r\n            return pane;\r\n        } else {\r\n            var $appendTo = appendTo === \"parent\" ? $el.parent() : $(appendTo);\r\n            if ($appendTo.length !== 1) {\r\n                $appendTo = $(\"body\");\r\n            }\r\n\r\n            $appendTo.append($pane);\r\n            options.pane.template = $pane;\r\n            return new ColorBox($replacer[0],options);\r\n        }\r\n\t}\r\n\r\n\r\n   $.fn.colorer =  function (options) {\r\n        var elm = this[0];\r\n\r\n        if (elm) {\r\n            var plugin    = datax.data(elm,'domx.colorer')\r\n            if (!plugin) {\r\n                plugin = colorer(elm,options)\r\n                datax.data(elm,'domx.colorer',plugin);\r\n            }\r\n\r\n            return plugin;\r\n        }\r\n   };\r\n\r\n  \r\n\treturn colors.colorer = colorer;\r\n});\ndefine('skylark-domx-plugins-colors/drag',[],function() {\r\n    /**************************************************\r\n     * dom-drag.js\r\n     * 09.25.2001\r\n     * www.youngpup.net\r\n     **************************************************\r\n     * 10.28.2001 - fixed minor bug where events\r\n     * sometimes fired off the handle, not the root.\r\n     **************************************************/\r\n\r\n    var Drag = {\r\n\r\n        obj : null,\r\n\r\n        gradx : null,\r\n\r\n        init : function(o, oRoot, minX, maxX, minY, maxY, bSwapHorzRef, bSwapVertRef, fXMapper, fYMapper)\r\n        {\r\n            o.onmousedown\t= Drag.start;\r\n\r\n            o.hmode\t\t\t= bSwapHorzRef ? false : true ;\r\n            o.vmode\t\t\t= bSwapVertRef ? false : true ;\r\n\r\n            o.root = oRoot && oRoot != null ? oRoot : o ;\r\n\r\n            if (o.hmode  && isNaN(parseInt(o.root.style.left  ))) o.root.style.left   = \"0px\";\r\n           //if (o.vmode  && isNaN(parseInt(o.root.style.top   ))) o.root.style.top    = \"0px\";\r\n            if (!o.hmode && isNaN(parseInt(o.root.style.right ))) o.root.style.right  = \"0px\";\r\n           // if (!o.vmode && isNaN(parseInt(o.root.style.bottom))) o.root.style.bottom = \"0px\";\r\n\r\n            o.minX\t= typeof minX != 'undefined' ? minX : null;\r\n            o.minY\t= typeof minY != 'undefined' ? minY : null;\r\n            o.maxX\t= typeof maxX != 'undefined' ? maxX : null;\r\n            o.maxY\t= typeof maxY != 'undefined' ? maxY : null;\r\n\r\n            o.xMapper = fXMapper ? fXMapper : null;\r\n            o.yMapper = fYMapper ? fYMapper : null;\r\n\r\n            o.root.onDragStart\t= new Function();\r\n            o.root.onDragEnd\t= new Function();\r\n            o.root.onDrag\t\t= new Function();\r\n        },\r\n\r\n        start : function(e)\r\n        {\r\n            Drag.gradx.current_slider_id = \"#\"+this.id;\r\n\r\n            var o = Drag.obj = this;\r\n            e = Drag.fixE(e);\r\n            var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\r\n            var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\r\n            o.root.onDragStart(x, y);\r\n\r\n            o.lastMouseX\t= e.clientX;\r\n            o.lastMouseY\t= e.clientY;\r\n\r\n            if (o.hmode) {\r\n                if (o.minX != null)\to.minMouseX\t= e.clientX - x + o.minX;\r\n                if (o.maxX != null)\to.maxMouseX\t= o.minMouseX + o.maxX - o.minX;\r\n            } else {\r\n                if (o.minX != null) o.maxMouseX = -o.minX + e.clientX + x;\r\n                if (o.maxX != null) o.minMouseX = -o.maxX + e.clientX + x;\r\n            }\r\n\r\n            if (o.vmode) {\r\n                if (o.minY != null)\to.minMouseY\t= e.clientY - y + o.minY;\r\n                if (o.maxY != null)\to.maxMouseY\t= o.minMouseY + o.maxY - o.minY;\r\n            }\r\n            else {\r\n                if (o.minY != null) o.maxMouseY = -o.minY + e.clientY + y;\r\n                if (o.maxY != null) o.minMouseY = -o.maxY + e.clientY + y;\r\n            }\r\n\r\n            document.onmousemove\t= Drag.drag;\r\n            document.onmouseup\t= Drag.end;\r\n\r\n            return false;\r\n        },\r\n\r\n        drag : function(e)\r\n        {\r\n            e = Drag.fixE(e);\r\n            var o = Drag.obj;\r\n\r\n            Drag.gradx.update_style_array();\r\n            Drag.gradx.apply_style(Drag.gradx.panel, Drag.gradx.get_style_value());\r\n            var left = Drag.gradx.gx(\"#\"+o.id).css(\"left\");\r\n\r\n\r\n            if(parseInt(left) > 60 && parseInt(left) < 390) {\r\n                Drag.gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                .css(\"left\",left)\r\n                .show();\r\n                         \r\n            }/*else {\r\n                if(parseInt(left) > 120) {\r\n                    left = \"272px\";\r\n                }else{\r\n                    left = \"120px\";\r\n                }\r\n                    \r\n                gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                .css(\"left\",left)\r\n                .show();\r\n                     \r\n            }*/\r\n             var color = Drag.gradx.gx(\"#\"+o.id).css(\"backgroundColor\");\r\n            //but what happens if @color is not in RGB ? :(\r\n            var rgb = Drag.gradx.get_rgb_obj(color);\r\n            Drag.gradx.cp.colorer().set(rgb);\r\n\r\n\r\n            var ey\t= e.clientY;\r\n            var ex\t= e.clientX;\r\n            var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\r\n            var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\r\n            var nx, ny;\r\n\r\n            if (o.minX != null) ex = o.hmode ? Math.max(ex, o.minMouseX) : Math.min(ex, o.maxMouseX);\r\n            if (o.maxX != null) ex = o.hmode ? Math.min(ex, o.maxMouseX) : Math.max(ex, o.minMouseX);\r\n            if (o.minY != null) ey = o.vmode ? Math.max(ey, o.minMouseY) : Math.min(ey, o.maxMouseY);\r\n            if (o.maxY != null) ey = o.vmode ? Math.min(ey, o.maxMouseY) : Math.max(ey, o.minMouseY);\r\n\r\n            nx = x + ((ex - o.lastMouseX) * (o.hmode ? 1 : -1));\r\n            ny = y + ((ey - o.lastMouseY) * (o.vmode ? 1 : -1));\r\n\r\n            if (o.xMapper)\t\tnx = o.xMapper(y)\r\n            else if (o.yMapper)\tny = o.yMapper(x)\r\n\r\n            Drag.obj.root.style[o.hmode ? \"left\" : \"right\"] = nx + \"px\";\r\n            //Drag.obj.root.style[o.vmode ? \"top\" : \"bottom\"] = ny + \"px\";\r\n            Drag.obj.lastMouseX\t= ex;\r\n            Drag.obj.lastMouseY\t= ey;\r\n\r\n            Drag.obj.root.onDrag(nx, ny);\r\n            return false;\r\n        },\r\n\r\n        end : function()\r\n        {\r\n            document.onmousemove = null;\r\n            document.onmouseup   = null;\r\n            Drag.obj.root.onDragEnd(\tparseInt(Drag.obj.root.style[Drag.obj.hmode ? \"left\" : \"right\"]), \r\n                parseInt(Drag.obj.root.style[Drag.obj.vmode ? \"top\" : \"bottom\"]));\r\n            Drag.obj = null;\r\n        },\r\n\r\n        fixE : function(e)\r\n        {\r\n            if (typeof e == 'undefined') e = window.event;\r\n            if (typeof e.layerX == 'undefined') e.layerX = e.offsetX;\r\n            if (typeof e.layerY == 'undefined') e.layerY = e.offsetY;\r\n            return e;\r\n        }\r\n    };\r\n\r\n    return Drag;\r\n});\ndefine('skylark-domx-plugins-colors/gradienter',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-browser\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-plugins-base\",    \r\n    \"skylark-graphics-colors/color\",\r\n    \"./colors\",\r\n    \"./colorer\",\r\n    \"./drag\"\r\n],function( langx, browser, noder, eventer,finder, $, plugins,Color, colors,colorer,Drag) {\r\n\r\n\r\n    /*\r\n     *\r\n     * SAMPLE USAGE DETAILS :\r\n     * \r\n     * sliders structure :\r\n     *\r\n     * [\r\n     *  {\r\n     *     color: \"COLOR\",\r\n     *     position: \"POSITION\" //0 to 100 without % symbol\r\n     *  },\r\n     *  {\r\n     *     ....\r\n     *     ....\r\n     *  },\r\n     *  ....\r\n     * ]\r\n     *\r\n     */\r\n\r\n    'use strict';\r\n\r\n    //make me jquery UI  independent\r\n    if (typeof $.fn.draggable === \"undefined\") {\r\n\r\n        $.fn.draggable = function() {\r\n            //console.log(this);\r\n            var ele = document.getElementById(this.attr(\"id\"));\r\n            ele.style.top = \"121px\";\r\n            Drag.init(ele, null, 26, 426, 86, 86);\r\n            return this;\r\n        };\r\n\r\n\r\n    }\r\n\r\n\r\n    var gradX  = function(id, _options) {\r\n\r\n\r\n        var options = {\r\n            targets: [], //[element selector] -> array\r\n            sliders: [],\r\n            direction: 'left',\r\n            //if linear left | top | right | bottom\r\n            //if radial left | center | right , top | center | bottom \r\n            type: 'linear', //linear | circle | ellipse\r\n            code_shown: false, //false | true\r\n            change: function(sliders, styles) {\r\n                //nothing to do here by default\r\n            }\r\n        },\r\n    \t\r\n        //make global\t\r\n        gradx = Drag.gradx = {\r\n            rand_RGB: [],\r\n            rand_pos: [],\r\n            id: null,\r\n            slider_ids: [],\r\n            slider_index: 0, //global index for sliders\r\n            sliders: [], //contains styles of each slider\r\n            direction: \"left\", //direction of gradient or position of centre in case of radial gradients\r\n            type: \"linear\", //linear or radial\r\n            shape: \"cover\", //radial gradient size\r\n            slider_hovered: [],\r\n            jQ_present: true,\r\n            code_shown: false,\r\n            load_jQ: function() {\r\n\r\n                //handle any library conflicts here\r\n                this.gx = $;\r\n            },\r\n            //very lazy to replace this by jQuery\r\n            add_event: function(el, evt, evt_func) {\r\n                add_event(el, evt, evt_func);\r\n            },\r\n            get_random_position: function() {\r\n                var pos;\r\n\r\n                do {\r\n                    pos = parseInt(Math.random() * 100);\r\n                }\r\n                while (this.rand_pos.indexOf(pos) > -1);\r\n\r\n                this.rand_pos.push(pos);\r\n                return pos;\r\n\r\n            },\r\n            get_random_rgb: function() {\r\n\r\n                var R, G, B, color;\r\n\r\n                do {\r\n                    R = parseInt(Math.random() * 255);\r\n                    G = parseInt(Math.random() * 255);\r\n                    B = parseInt(Math.random() * 255);\r\n\r\n                    color = \"rgb(\" + R + \", \" + G + \", \" + B + \")\";\r\n                }\r\n                while (this.rand_RGB.indexOf(color) > -1);\r\n\r\n                this.rand_RGB.push(color);\r\n                return color;\r\n\r\n            },\r\n            //if target element is specified the target's style (background) is updated\r\n            update_target: function(values) {\r\n\r\n                if (this.targets.length > 0) {\r\n                    //target elements exist\r\n\r\n                    var i, j, ele, len = this.targets.length, v_len = values.length;\r\n                    for (i = 0; i < len; i++) {\r\n                        ele = gradx.gx(this.targets[i]);\r\n\r\n                        for (j = 0; j < v_len; j++) {\r\n                            ele.css(\"background-image\", values[j]);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            },\r\n            //apply styles on fly\r\n            apply_style: function(ele, value) {\r\n\r\n                var type = 'linear';\r\n\r\n                if (gradx.type != 'linear') {\r\n                    type = 'radial';\r\n                }\r\n\r\n                if (value.indexOf(this.direction) > -1) {\r\n                    //add cross-browser compatibility\r\n                    var values = [\r\n                        \"-webkit-\" + type + \"-gradient(\" + value + \")\",\r\n                        \"-moz-\" + type + \"-gradient(\" + value + \")\",\r\n                        \"-ms-\" + type + \"-gradient(\" + value + \")\",\r\n                        \"-o-\" + type + \"-gradient(\" + value + \")\",\r\n                        type + \"-gradient(\" + value + \")\"\r\n                    ];\r\n                } else {\r\n                    //normal color\r\n                    values = [value];\r\n                }\r\n\r\n\r\n\r\n                var len = values.length, css = '';\r\n\r\n                while (len > 0) {\r\n                    len--;\r\n                    ele.css(\"background\", values[len]);\r\n                    css += \"background: \" + values[len] + \";\\n\";\r\n                }\r\n\r\n                //call the userdefined change function\r\n                this.change(this.sliders, values);\r\n                this.update_target(values);\r\n\r\n\r\n                gradx.gx('#gradx_code').html(css);\r\n\r\n            },\r\n            //on load\r\n            apply_default_styles: function() {\r\n                this.update_style_array()\r\n                var value = this.get_style_value();\r\n                this.apply_style(this.panel, value);\r\n            },\r\n            //update the slider_values[] while dragging\r\n            update_style_array: function() {\r\n\r\n                this.sliders = [];\r\n\r\n                var len = gradx.slider_ids.length,\r\n                        i, offset, position, id;\r\n\r\n                for (i = 0; i < len; i++) {\r\n                    id = \"#\" + gradx.slider_ids[i];\r\n                    offset = parseInt(gradx.gx(id).css(\"left\"));\r\n                    position = parseInt((offset / gradx.container_width) * 100);\r\n                    position -= 6; //TODO: find why this is required\r\n                    gradx.sliders.push([gradx.gx(id).css(\"background-color\"), position]);\r\n\r\n                }\r\n\r\n                this.sliders.sort(function(A, B) {\r\n                    if (A[1] > B[1])\r\n                        return 1;\r\n                    else\r\n                        return -1;\r\n                });\r\n            },\r\n            //creates the complete css background value to later apply style\r\n            get_style_value: function() {\r\n\r\n                var len = gradx.slider_ids.length;\r\n\r\n                if (len === 1) {\r\n                    //since only one slider , so simple background\r\n\r\n                    style_str = this.sliders[0][0];\r\n                } else {\r\n                    var style_str = \"\", suffix = \"\";\r\n                    for (var i = 0; i < len; i++) {\r\n                        if (this.sliders[i][1] == \"\") {\r\n                            style_str += suffix + (this.sliders[i][0]);\r\n\r\n                        } else {\r\n                            if (this.sliders[i][1] > 100) {\r\n                                this.sliders[i][1] = 100;\r\n                            }\r\n                            style_str += suffix + (this.sliders[i][0] + \" \" + this.sliders[i][1] + \"%\");\r\n\r\n                        }\r\n                        suffix = \" , \"; //add , from next iteration\r\n                    }\r\n\r\n                    if (this.type == 'linear') {\r\n                        //direction, [color stoppers]\r\n                        style_str = this.direction + \" , \" + style_str; //add direction for gradient\r\n                    } else {\r\n                        //position, type size, [color stoppers]\r\n                        style_str = this.direction + \" , \" + this.type + \" \" + this.shape + \" , \" + style_str;\r\n                    }\r\n                }\r\n\r\n                return style_str;\r\n            },\r\n            //@input rgb string rgb(<red>,<green>,<blue>)\r\n            //@output rgb object of form { r: <red> , g: <green> , b : <blue>}\r\n            get_rgb_obj: function(rgb) {\r\n\r\n                //rgb(r,g,b)\r\n                rgb = rgb.split(\"(\");\r\n                //r,g,b)\r\n                rgb = rgb[1];\r\n                //r g b)\r\n                rgb = rgb.split(\",\");\r\n\r\n                return {\r\n                    r: parseInt(rgb[0]),\r\n                    g: parseInt(rgb[1]),\r\n                    b: parseInt(rgb[2])\r\n                };\r\n\r\n            },\r\n            load_info: function(ele) {\r\n                var id = \"#\" + ele.id;\r\n                this.current_slider_id = id;\r\n                //check if current clicked element is an slider\r\n                if (this.slider_ids.indexOf(ele.id) > -1) { //javascript does not has # in its id\r\n\r\n                    var color = gradx.gx(id).css(\"backgroundColor\");\r\n                    //but what happens if @color is not in RGB ? :(\r\n                    var rgb = this.get_rgb_obj(color);\r\n\r\n                    var left = gradx.gx(id).css(\"left\");\r\n                    if (parseInt(left) > 26 && parseInt(left) < 426) {\r\n                        gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                                .css(\"left\", left)\r\n                                .show();\r\n\r\n                    } \r\n                    \r\n                    this.set_colorpicker(rgb);\r\n                    console.log(rgb);\r\n                }\r\n\r\n            },\r\n            //add slider\r\n            add_slider: function(sliders) {\r\n\r\n\r\n                var id, slider, k, position, value, delta;\r\n\r\n\r\n                if (sliders.length === 0) {\r\n                    sliders = [//default sliders\r\n                        {\r\n                            color: gradx.get_random_rgb(),\r\n                            position: gradx.get_random_position() //x percent of gradient panel(400px)\r\n                        },\r\n                        {\r\n                            color: gradx.get_random_rgb(),\r\n                            position: gradx.get_random_position()\r\n                        }\r\n                    ];\r\n\r\n                }\r\n\r\n\r\n                var obj = sliders;\r\n\r\n                for (k in obj) {\r\n\r\n                    if (typeof obj[k].position === \"undefined\")\r\n                        break;\r\n\r\n                    //convert % to px based on containers width\r\n                    var delta = 26; //range: 26px tp 426px\r\n                    position = parseInt((obj[k].position * this.container_width) / 100) + delta + \"px\";\r\n\r\n                    id = \"gradx_slider_\" + (this.slider_index); //create an id for this slider\r\n                    this.sliders.push(\r\n                            [\r\n                                obj[k].color,\r\n                                obj[k].position\r\n                            ]\r\n                            );\r\n\r\n                    this.slider_ids.push(id); //for reference wrt to id\r\n\r\n                    slider = \"<div class='gradx_slider' id='\" + id + \"'></div>\";\r\n                    gradx.gx(\"#gradx_start_sliders_\" + this.id).append(slider);\r\n\r\n                    gradx.gx('#' + id).css(\"backgroundColor\", obj[k].color).css(\"left\", position);\r\n                    this.slider_index++;\r\n                }\r\n\r\n                for (var i = 0, len = this.slider_ids.length; i < len; i++) {\r\n\r\n                    gradx.gx('#' + this.slider_ids[i]).draggable({\r\n                        containment: 'parent',\r\n                        axis: 'x',\r\n                        start: function() {\r\n                            if (gradx.jQ_present)\r\n                                gradx.current_slider_id = \"#\" + gradx.gx(this).attr(\"id\"); //got full jQuery power here !\r\n                        },\r\n                        drag: function() {\r\n\r\n                            gradx.update_style_array();\r\n                            gradx.apply_style(gradx.panel, gradx.get_style_value());\r\n                            var left = gradx.gx(gradx.current_slider_id).css(\"left\");\r\n\r\n\r\n                            if (parseInt(left) > 26 && parseInt(left) < 426) {\r\n                                gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                                        .css(\"left\", left)\r\n                                        .show();\r\n\r\n                            } /*else {\r\n                             if (parseInt(left) > 120) {\r\n                             left = \"272px\";\r\n                             } else {\r\n                             left = \"120px\";\r\n                             }\r\n                             \r\n                             gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                             .css(\"left\", left)\r\n                             .show();\r\n                             \r\n                             }*/\r\n                            var color = gradx.gx(gradx.current_slider_id).css(\"backgroundColor\");\r\n                            //but what happens if @color is not in RGB ? :(\r\n                            var rgb = gradx.get_rgb_obj(color);\r\n                            gradx.cp.colorer().set(rgb);\r\n\r\n                        }\r\n\r\n                    }).click(function() {\r\n                        gradx.load_info(this);\r\n                        return false;\r\n                    });\r\n                }\r\n\r\n\r\n            },\r\n            set_colorpicker: function(clr) {\r\n                gradx.cp.colorer({\r\n                    picked: function(e,color) {\r\n                        if (gradx.current_slider_id != false) {\r\n                            var rgba = color.toRgbString();\r\n                            gradx.gx(gradx.current_slider_id).css('background-color', rgba);\r\n                            gradx.update_style_array();\r\n                            gradx.apply_style(gradx.panel, gradx.get_style_value());\r\n                        }\r\n                    },\r\n                    choosed: function(e) {\r\n                        gradx.gx(\"#gradx_slider_info\").hide();\r\n                    },\r\n                    canceled: function(e) {\r\n                        gradx.gx(\"#gradx_slider_info\").hide();\r\n                    },\r\n                    \r\n                    flat: true,\r\n                    showAlpha: true,\r\n                    color: clr,\r\n                    clickoutFiresChange: true,\r\n                    showInput: true,\r\n                    showButtons: false\r\n\r\n                });\r\n            },\r\n            generate_options: function(options) {\r\n\r\n                var len = options.length,\r\n                        name, state,\r\n                        str = '';\r\n\r\n                for (var i = 0; i < len; i++) {\r\n\r\n                    name = options[i].split(\" \");\r\n\r\n                    name = name[0];\r\n\r\n                    if (i < 2) {\r\n                        state = name[1];\r\n                    } else {\r\n                        state = '';\r\n                    }\r\n\r\n                    name = name.replace(\"-\", \" \");\r\n\r\n                    str += '<option value=' + options[i] + ' ' + state + '>' + name + '</option>';\r\n\r\n                }\r\n\r\n                return str;\r\n            },\r\n            generate_radial_options: function() {\r\n\r\n                var options;\r\n                options = [\"horizontal-center disabled\", \"center selected\", \"left\", \"right\"];\r\n                gradx.gx('#gradx_gradient_subtype').html(gradx.generate_options(options));\r\n\r\n                options = [\"vertical-center disabled\", \"center selected\", \"top\", \"bottom\"];\r\n                gradx.gx('#gradx_gradient_subtype2').html(gradx.generate_options(options)).show();\r\n\r\n            },\r\n            generate_linear_options: function() {\r\n\r\n                var options;\r\n                options = [\"horizontal-center disabled\", \"left selected\", \"right\", \"top\", \"bottom\"];\r\n                gradx.gx('#gradx_gradient_subtype').html(gradx.generate_options(options));\r\n\r\n                gradx.gx('#gradx_gradient_subtype2').hide();\r\n\r\n            },\r\n            destroy: function() {\r\n                var options = {\r\n                    targets: [], //[element selector] -> array\r\n                    sliders: [],\r\n                    direction: 'left',\r\n                    //if linear left | top | right | bottom\r\n                    //if radial left | center | right , top | center | bottom \r\n                    type: 'linear', //linear | circle | ellipse\r\n                    code_shown: false, //false | true\r\n                    change: function(sliders, styles) {\r\n                        //nothing to do here by default\r\n                    }\r\n                };\r\n\r\n                for (var k in options) {\r\n                    gradx[k] = options[k];\r\n                }\r\n            },\r\n            load_gradx: function(id, sliders) {\r\n                this.me = gradx.gx(id);\r\n                this.id = id.replace(\"#\", \"\");\r\n                id = this.id;\r\n                this.current_slider_id = false;\r\n                var html = \"<div class='gradx'>\\n\"+\r\n                            \"<div id='gradx_add_slider' class='gradx_add_slider gradx_btn'><i class='icon icon-add'></i>add</div>\\n\"+\r\n                            \"<div class='gradx_slectboxes'>\\n\"+\r\n                            \"<select id='gradx_gradient_type' class='gradx_gradient_type'>\\n\"+\r\n                            \"    <option value='linear'>Linear</option>\\n\"+\r\n                            \"    <option value='circle'>Radial - Circle</option>\\n\"+\r\n                            \"    <option value='ellipse'>Radial - Ellipse</option>\\n\"+\r\n                            \"</select>\\n\"+\r\n                            \"<select id='gradx_gradient_subtype' class='gradx_gradient_type'>\\n\"+\r\n                            \"    <option id='gradx_gradient_subtype_desc' value='gradient-direction' disabled>gradient direction</option>\\n\"+\r\n                            \"    <option value='left' selected>Left</option>\\n\"+\r\n                            \"    <option value='right'>Right</option>\\n\"+\r\n                            \"    <option value='top'>Top</option>\\n\"+\r\n                            \"    <option value='bottom'>Bottom</option>\\n\"+\r\n                            \"</select>\\n\"+\r\n                            \"<select id='gradx_gradient_subtype2' class='gradx_gradient_type gradx_hide'>\\n\"+\r\n                            \"</select>\\n\"+\r\n                            \"<select id='gradx_radial_gradient_size' class='gradx_gradient_type gradx_hide'>\\n\"+\r\n                            \"</select>\\n\"+\r\n                            \"</div>\\n\"+\r\n                            \"<div class='gradx_container' id='gradx_\" + id + \"'>\\n\"+\r\n                            \"    <div id='gradx_stop_sliders_\" + id + \"'></div>\\n\"+\r\n                            \"    <div class='gradx_panel' id='gradx_panel_\" + id + \"'></div>\\n\"+\r\n                            \"    <div class='gradx_start_sliders' id='gradx_start_sliders_\" + id + \"'>\\n\"+\r\n                            \"        <div class='cp-default' id='gradx_slider_info'>\\n\"+\r\n                            \"            <div id='gradx_slider_controls'>\\n\"+\r\n                            \"                <div id='gradx_delete_slider' class='gradx_btn'><i class='icon icon-remove'></i>delete</div>\\n\"+\r\n                            \"            </div>\\n\"+\r\n                            \"            <div id='gradx_slider_content'></div>\\n\"+\r\n                            \"        </div> \\n\"+\r\n                            \"    </div>\\n\"+\r\n                            \"</div>\\n\"+\r\n                            \"<div id='gradx_show_code' class='gradx_show_code gradx_btn'><i class='icon icon-file-css'></i><span>show the code</span></div>\\n\"+\r\n                            \"<div id='gradx_show_presets' style='display:none' class='gradx_show_presets gradx_btn'><i class='icon icon-preset'></i><span>show presets</span></div>\\n\"+\r\n                            \"<textarea class='gradx_code' id='gradx_code'></textarea>\\n\"+\r\n                        \"</div>\";\r\n\r\n                this.me.html(html);\r\n\r\n\r\n                //generates html to select the different gradient sizes\r\n                // *only available for radial gradients\r\n                var gradient_size_val = [\"gradient-size disabled\", \"closest-side selected\", \"closest-corner\", \"farthest-side\", \"farthest-corner\", \"contain\", \"cover\"],\r\n                        option_str = '';\r\n\r\n\r\n                option_str = gradx.generate_options(gradient_size_val);\r\n\r\n                gradx.gx('#gradx_radial_gradient_size').html(option_str);\r\n\r\n\r\n                //cache divs for fast reference\r\n\r\n                this.container = gradx.gx(\"#gradx_\" + id);\r\n                this.panel = gradx.gx(\"#gradx_panel_\" + id);\r\n                //.hide();\r\n                //this.info.hide();\r\n                this.container_width = 400 //HARDCODE;\r\n                this.add_slider(sliders);\r\n\r\n\r\n                gradx.add_event(document, 'click', function() {\r\n    //            if(!gradx.jQ_present){\r\n                    if (!gradx.slider_hovered[id]) {\r\n                        gradx.gx(\"#gradx_slider_info\").hide();\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n\r\n\r\n                gradx.gx('#gradx_add_slider').click(function() {\r\n                    gradx.add_slider([\r\n                        {\r\n                            color: gradx.get_random_rgb(),\r\n                            position: gradx.get_random_position() //no % symbol\r\n                        }\r\n                    ]);\r\n                    gradx.update_style_array();\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n\r\n                });\r\n\r\n                //cache the element\r\n                gradx.cp = gradx.gx('#gradx_slider_content');\r\n\r\n                //call the colorpicker plugin\r\n                gradx.set_colorpicker(\"blue\");\r\n\r\n                gradx.gx('#gradx_delete_slider').click(function() {\r\n                    gradx.gx(gradx.current_slider_id).remove();\r\n                    gradx.gx(\"#gradx_slider_info\").hide();\r\n                    var id = gradx.current_slider_id.replace(\"#\", \"\");\r\n\r\n                    //remove all references from array for current deleted slider\r\n\r\n                    for (var i = 0; i < gradx.slider_ids.length; i++) {\r\n                        if (gradx.slider_ids[i] == id) {\r\n                            gradx.slider_ids.splice(i, 1);\r\n                        }\r\n                    }\r\n\r\n                    //apply modified style after removing the slider\r\n                    gradx.update_style_array();\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());\r\n\r\n                    gradx.current_slider_id = false; //no slider is selected\r\n\r\n                });\r\n\r\n                gradx.gx('#gradx_code').focus(function() {\r\n                    var $this = gradx.gx(this);\r\n                    $this.select();\r\n\r\n                    // Work around Chrome's little problem\r\n                    $this.mouseup(function() {\r\n                        // Prevent further mouseup intervention\r\n                        $this.off(\"mouseup\");\r\n                        return false;\r\n                    });\r\n                });\r\n\r\n                gradx.gx('#gradx_gradient_type').change(function() {\r\n\r\n                    var type = gradx.gx(this).val(), options, option_str = '';\r\n\r\n                    if (type !== \"linear\") {\r\n                        //gradx.gx('#gradx_radial_gradient_size').show();\r\n\r\n                        gradx.generate_radial_options();\r\n                    } else {\r\n\r\n                        gradx.generate_linear_options();\r\n                        gradx.gx('#gradx_gradient_subtype').val(\"left\");\r\n                    }\r\n\r\n                    gradx.type = type;\r\n                    gradx.direction = gradx.gx('#gradx_gradient_subtype').val();\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n                });\r\n\r\n                //change type onload userdefined\r\n                if (this.type !== \"linear\") {\r\n                    gradx.gx('#gradx_gradient_type').val(this.type);\r\n                    gradx.generate_radial_options();\r\n\r\n                    var h, v;\r\n\r\n                    if (this.direction !== 'left') {\r\n                        //user has passed his own direction\r\n                        var center;\r\n                        if (this.direction.indexOf(\",\") > -1) {\r\n                            center = this.direction.split(\",\");\r\n                        } else {\r\n                            //tolerate user mistakes\r\n                            center = this.direction.split(\" \");\r\n                        }\r\n\r\n                        h = center[0];\r\n                        v = center[1];\r\n\r\n                        //update the center points in the corr. select boxes\r\n                        gradx.gx('#gradx_gradient_subtype').val(h);\r\n                        gradx.gx('#gradx_gradient_subtype2').val(v);\r\n                    } else {\r\n                        var h = gradx.gx('#gradx_gradient_subtype').val();\r\n                        var v = gradx.gx('#gradx_gradient_subtype2').val();\r\n                    }\r\n\r\n                    gradx.direction = h + \" \" + v;\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n                } else {\r\n\r\n                    //change direction if not left\r\n                    if (this.direction !== 'left') {\r\n                        gradx.gx('#gradx_gradient_subtype').val(this.direction);\r\n                    }\r\n                }\r\n\r\n                gradx.gx('#gradx_gradient_subtype').change(function() {\r\n\r\n                    if (gradx.type === 'linear') {\r\n                        gradx.direction = gradx.gx(this).val();\r\n                    } else {\r\n                        var h = gradx.gx(this).val();\r\n                        var v = gradx.gx('#gradx_gradient_subtype2').val();\r\n                        gradx.direction = h + \" \" + v;\r\n                    }\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n\r\n                });\r\n\r\n                gradx.gx('#gradx_gradient_subtype2').change(function() {\r\n\r\n                    var h = gradx.gx('#gradx_gradient_subtype').val();\r\n                    var v = gradx.gx(this).val();\r\n                    gradx.direction = h + \" \" + v;\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n\r\n                });\r\n\r\n                //not visible\r\n                gradx.gx('#gradx_radial_gradient_size').change(function() {\r\n                    gradx.shape = gradx.gx(this).val();\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n\r\n                });\r\n\r\n                gradx.gx('#gradx_show_code').click(function() {\r\n\r\n                    if (gradx.code_shown) {\r\n                        //hide it\r\n\r\n                        gradx.code_shown = false;\r\n                        gradx.gx('#gradx_show_code span').text(\"show the code\");\r\n                        gradx.gx(\"#gradx_code\").hide();\r\n                    }\r\n                    else {\r\n                        //show it\r\n\r\n                        gradx.gx('#gradx_show_code span').text(\"hide the code\");\r\n                        gradx.gx(\"#gradx_code\").show();\r\n                        gradx.code_shown = true;\r\n                    }\r\n                });\r\n\r\n                //show or hide onload\r\n                if (gradx.code_shown) {\r\n                    //show it\r\n\r\n                    gradx.gx('#gradx_show_code span').text(\"hide the code\");\r\n                    gradx.gx(\"#gradx_code\").show();\r\n\r\n                }\r\n\r\n                gradx.add_event(document.getElementById('gradx_slider_info'), 'mouseout', function() {\r\n                    gradx.slider_hovered[id] = false;\r\n                });\r\n                gradx.add_event(document.getElementById('gradx_slider_info'), 'mouseover', function() {\r\n                    gradx.slider_hovered[id] = true;\r\n\r\n                });\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n        };\r\n\r\n\r\n\r\n        function  add_event(element, event, event_function)\r\n        {\r\n            if (element.attachEvent) //Internet Explorer\r\n                element.attachEvent(\"on\" + event, function() {\r\n                    event_function.call(element);\r\n                });\r\n            else if (element.addEventListener) //Firefox & company\r\n                element.addEventListener(event, event_function, false); //don't need the 'call' trick because in FF everything already works in the right way\r\n        }\r\n        ;\r\n\r\n\r\n\r\n        //load jQuery library into gradx.gx\r\n        gradx.load_jQ();\r\n\r\n\r\n        /* merge _options into options */\r\n        langx.mixin(options, _options);\r\n\r\n        //apply options to gradx object\r\n\r\n        for (var k in options) {\r\n\r\n            //load the options into gradx object\r\n            gradx[k] = options[k];\r\n\r\n        }\r\n\r\n        gradx.load_gradx(id, gradx.sliders);\r\n        gradx.apply_default_styles();\r\n\r\n\r\n    };\r\n\r\n    return colors.Gradienter = gradX;\r\n});\ndefine('skylark-domx-plugins-colors/main',[\r\n\t\"skylark-domx-query\",\r\n\t\"./colors\",\r\n  \"./colorer\",\r\n  \"./color-palette\",\r\n  \"./color-picker\",\r\n  \"./color-pane\",\r\n  \"./gradienter\"\r\n], function($,colors,colorer) {\r\n   \r\n   return colors;\r\n\r\n});\r\n\ndefine('skylark-domx-plugins-colors', ['skylark-domx-plugins-colors/main'], function (main) { return main; });\n\n"]}