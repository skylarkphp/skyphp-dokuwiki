/**
 * skylark-domx-plugins-groups - The skylark list plugin library.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx/skylark-domx-plugins-groups/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-langx-events","skylark-domx-query"],function(t,e,s){"use strict";return e.Emitter.inherit({_construct:function(t){this.carsouel=t,this._itemOffsets=[],this._currentIndex=-1;let e=this.carsouel.options.modes.coverflow.classes;this._classRemover=new RegExp("\\b("+e.itemCurrent+"|"+e.itemPast+"|"+e.itemFuture+")(.*?)(\\s|$)","g"),this._whiteSpaceRemover=new RegExp("\\s\\s+","g"),this.resetItems()},resetItems:function(){let t=this.carsouel.options.modes.coverflow.classes,e=this.carsouel._$itemsContainer,i=this.carsouel.getItems(),n=this.carsouel.options.modes.coverflow.spacing;e.css("transition","none"),i.css("transition","none"),i.each((e,i)=>{let r=s(i);r.attr("class",function(t,e){return e&&e.replace(this._classRemover,"").replace(this._whiteSpaceRemover," ")}),r.children("."+t.itemContent).length||r.wrapInner('<div class="'+t.itemContent+'" />');let o=r.outerWidth();0!==n&&r.css("margin-right",o*n+"px")}),this._itemOffsets=[];let r=e.width();var o,a;e.height((a=0,i.each(function(){(o=s(this).height())>a&&(a=o)}),a)),i.each((t,e)=>{let i,n,o=s(e);i=o.outerWidth(),n=o.position().left,this._itemOffsets[t]=-1*(n+i/2-r/2)}),setTimeout(function(){e.css("transition",""),i.css("transition","")},1)},center:function(t){if(void 0!==t?this._currentIndex=t:t=this._currentIndex,t>=0){var e,i,n,r=this.carsouel.options.modes.coverflow.classes,o=this.carsouel._$itemsContainer,a=this.carsouel.getItems(),c=a.length;a.each((o,a)=>{e=s(a),i=" ",o===t?(i+=r.itemCurrent,n=c+1):o<t?(i+=r.itemPast+" "+r.itemPast+"-"+(t-o),n=c-(t-o)):(i+=r.itemFuture+" "+r.itemFuture+"-"+(o-t),n=c-(o-t)),e.css("z-index",n).attr("class",(t,e)=>e&&e.replace(this._classRemover,"").replace(this._whiteSpaceRemover," ")+i)}),o.css("transform","translateX("+this._itemOffsets[t]+"px)")}},jump:function(t,e,s,i){var n=this.carsouel._$itemsContainer;return this.center(t),n.one("transitionEnd",function(){i()}).emulateTransitionEnd(),this}})});
//# sourceMappingURL=../sourcemaps/_carousel/mode-coverflow.js.map
