{"version":3,"sources":["_carousel/mode-slide.js"],"names":["define","langx","events","eventer","Emitter","inherit","_construct","carsouel","this","jump","toIndex","currentIndex","type","ended","$active","elmx","options","$","findItem","$next","isCycling","interval","direction","pause","addClass","reflow","one","removeClass","join","emulateTransitionEnd","cycle"],"mappings":";;;;;;;AAACA,QACC,sBACA,uBACA,wBACA,SAASC,EAAMC,EAAOC,GACtB,aAwDA,OArDgBD,EAAOE,QAAQC,SAG7BC,WAAa,SAASC,GACrBC,KAAKD,SAAWA,GAGjBE,KAAO,SAASC,EAAQC,EAAaC,EAAKC,GACzC,IAAIN,EAAWC,KAAKD,SAIbO,GAHCP,EAASQ,OACNR,EAASS,QAEFT,EAASU,EAAEV,EAASW,SAASP,KAC3CQ,EAAQZ,EAASU,EAAEV,EAASW,SAASR,IACrCU,EAAYb,EAASc,SACrBC,EAAoB,QAARV,EAAiB,OAAS,QAgCvC,OA1BAQ,GAAab,EAASgB,QAUtBJ,EAAMK,SAASZ,GACfO,EAAMM,SACNX,EAAQU,SAASF,GACjBH,EAAMK,SAASF,GACfH,EACKO,IAAI,gBAAiB,WAGlBP,EAAMQ,aAAaf,EAAMU,GAAWM,KAAK,MACzCd,EAAQa,YAAYL,GACpBT,MAEHgB,uBAELT,GAAab,EAASuB,QAEftB","file":"../../_carousel/mode-slide.js","sourcesContent":[" define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-langx-events\",\r\n  \"skylark-domx-eventer\"\r\n],function(langx,events,eventer){\r\n  'use strict'\r\n\r\n\r\n  var ModeSlide = events.Emitter.inherit({\r\n\r\n\r\n    _construct : function(carsouel) {\r\n    \tthis.carsouel = carsouel;\r\n    },\r\n\r\n    jump : function(toIndex,currentIndex,type,ended) {\r\n    \tlet carsouel = this.carsouel,\r\n    \t\tvelm = carsouel.elmx(),\r\n    \t\toptions = carsouel.options,\r\n\r\n            $active =  carsouel.$(carsouel.findItem(currentIndex)),\r\n        \t$next = carsouel.$(carsouel.findItem(toIndex)),\r\n        \tisCycling = carsouel.interval,\r\n        \tdirection = type == 'next' ? 'left' : 'right';\r\n\r\n        ///if ($next.hasClass('active')) {\r\n        ///\treturn (carsouel.moving = false)\r\n        ///}\r\n\r\n        isCycling && carsouel.pause();\r\n\r\n        /*\r\n        if (this._$indicators.length) {\r\n            this._$indicators.find('.active').removeClass('active');\r\n            var $nextIndicator = $(this._$indicators.children()[this.getItemIndex($next)]);\r\n            $nextIndicator && $nextIndicator.addClass('active');\r\n        }\r\n        */\r\n\r\n        $next.addClass(type);\r\n        $next.reflow(); // [0].offsetWidth; // force reflow\r\n        $active.addClass(direction);\r\n        $next.addClass(direction);\r\n        $next\r\n            .one('transitionEnd', function() {\r\n                ///$next.removeClass([type, direction].join(' ')).addClass('active')\r\n                ///$active.removeClass(['active', direction].join(' '))\r\n                $next.removeClass([type, direction].join(' '));\r\n                $active.removeClass(direction);\r\n                ended();\r\n            })\r\n            .emulateTransitionEnd();\r\n\r\n        isCycling && carsouel.cycle();\r\n\r\n        return this\r\n    }\r\n\r\n  });\r\n\r\n\r\n  return ModeSlide;\t\r\n});"]}