{"version":3,"sources":["scalable.js"],"names":["define","langx","noder","datax","geom","eventer","styler","$","plugins","interact","on","off","attr","removeAttr","pagePosition","addClass","height","Array","prototype","some","map","applyTranform","elms","radius","forEach","elm","$elm","originalTransform","data","css","Scalable","Plugin","inherit","klassName","pluginName","_construct","options","this","overrided","targets","e","d","wheelDelta","detail","register"],"mappings":";;;;;;;AAAAA,QACI,sBACA,qBACA,oBACA,oBACA,uBACA,sBACA,qBACA,4BACA,cACF,SAASC,EAAMC,EAAMC,EAAMC,EAAKC,EAAQC,EAAOC,EAAEC,EAAQC,GAC9CJ,EAAQK,GACPL,EAAQM,IACPR,EAAMS,KACAT,EAAMU,WACVT,EAAKU,aACHR,EAAOS,SACTX,EAAKY,OACPC,MAAMC,UAAUC,KACjBF,MAAMC,UAAUE,IAI1B,SAASC,EAAcC,EAAKC,GAExBhB,EAAEe,GAAME,QAAQ,SAASC,GACrB,IAAIC,EAAOnB,EAAEkB,GACb,IAAIE,EAAoBD,EAAKE,KAAK,qBAC7BD,IACDA,EAAoBD,EAAKG,IAAI,aAC7BH,EAAKE,KAAK,oBAAoBD,IAElCD,EAAKG,IAAI,YAAYF,EAAmB,eAAkBJ,EAAQ,QAK1E,IAAIO,EAAWtB,EAAQuB,OAAOC,SAC1BC,UAAW,WAEXC,WAAa,yBAGbC,WAAa,SAAUV,EAAKW,GACxBC,KAAKC,UAAUb,EAAIW,GAEnB,IAAIb,EAASc,KAAKD,QAAQb,QAAU,EAChCgB,EAAUF,KAAKD,QAAQG,SAAWd,EAEtCpB,EAAQK,GAAGe,EAAI,aAAc,SAASe,GAClC,IAAIC,EAAID,EAAEE,WAAa,KAAOF,EAAEG,OAEhCtB,EAAckB,EADdhB,GAAUkB,KAIdpB,EAAckB,EAAQhB,MAM9B,OAFAf,EAAQoC,SAASd,EAAS,YAEnBrB,EAASqB,SAAWA","file":"../scalable.js","sourcesContent":["define([\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-data\",\r\n    \"skylark-domx-geom\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"./interact\"\r\n],function(langx,noder,datax,geom,eventer,styler,$,plugins,interact){\r\n    var on = eventer.on,\r\n        off = eventer.off,\r\n        attr = datax.attr,\r\n        removeAttr = datax.removeAttr,\r\n        offset = geom.pagePosition,\r\n        addClass = styler.addClass,\r\n        height = geom.height,\r\n        some = Array.prototype.some,\r\n        map = Array.prototype.map;\r\n\r\n\r\n\r\n    function applyTranform(elms,radius) {\r\n        // Apply the angle\r\n        $(elms).forEach(function(elm){\r\n            let $elm = $(elm);\r\n            var originalTransform = $elm.data(\"originalTransform\");\r\n            if (!originalTransform) {\r\n                originalTransform = $elm.css(\"transform\");\r\n                $elm.data(\"originalTransform\",originalTransform);\r\n            }\r\n            $elm.css(\"transform\",originalTransform +\" translateZ(\" +  radius +\"px\");\r\n        });\r\n    }\r\n\r\n\r\n    var Scalable = plugins.Plugin.inherit({\r\n        klassName: \"Scalable\",\r\n\r\n        pluginName : \"lark.interact.scalable\",\r\n\r\n\r\n        _construct : function (elm, options) {\r\n            this.overrided(elm,options);\r\n\r\n            let radius = this.options.radius || 0,\r\n                targets = this.options.targets || elm;\r\n\r\n            eventer.on(elm,\"mousewheel\", function(e) {\r\n                var d = e.wheelDelta / 20 || -e.detail;\r\n                radius += d;\r\n                applyTranform(targets,radius);\r\n            });\r\n\r\n            applyTranform(targets,radius);\r\n        }\r\n    });\r\n\r\n    plugins.register(Scalable,\"scalable\");\r\n\r\n    return interact.Scalable = Scalable;\r\n});\r\n"]}