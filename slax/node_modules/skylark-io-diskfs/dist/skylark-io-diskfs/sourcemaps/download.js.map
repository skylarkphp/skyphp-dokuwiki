{"version":3,"sources":["download.js"],"names":["define","types","diskfs","downlad","data","name","window","navigator","msSaveBlob","isString","dataURItoBlob","a","document","createElement","Blob","URL","createObjectURL","href","setAttribute","click"],"mappings":";;;;;;;AAAAA,QACI,sBACA,YACF,SAASC,EAAMC,GAoBb,OAAOA,EAAOC,QAlBd,SAAsBC,EAAMC,GACxB,GAAIC,OAAOC,UAAUC,WACbP,EAAMQ,SAASL,KACfA,EAAOM,cAAcN,IAEzBE,OAAOC,UAAUC,WAAWJ,EAAMC,OAC/B,CACH,IAAIM,EAAIC,SAASC,cAAc,KAC3BT,aAAgBU,OAChBV,EAAOW,IAAIC,gBAAgBZ,IAE/BO,EAAEM,KAAOb,EACTO,EAAEO,aAAa,WAAYb,GAAQ,UAEnCM,EAAEQ","file":"../download.js","sourcesContent":["define([\r\n    \"skylark-langx/types\",\r\n    \"./diskfs\"\r\n],function(types,diskfs){\r\n\r\n    function downloadFile(data, name) {\r\n        if (window.navigator.msSaveBlob) {\r\n            if (types.isString(data)) {\r\n                data = dataURItoBlob(data);\r\n            }\r\n            window.navigator.msSaveBlob(data, name);\r\n        } else {\r\n            var a = document.createElement('a');\r\n            if (data instanceof Blob) {\r\n                data = URL.createObjectURL(data);\r\n            }\r\n            a.href = data;\r\n            a.setAttribute('download', name || 'noname');\r\n            //a.dispatchEvent(new CustomEvent('click'));\r\n            a.click();\r\n        }\r\n    }\r\n\r\n    return diskfs.downlad = downloadFile;\r\n\r\n});\r\n"]}