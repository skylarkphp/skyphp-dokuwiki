{"version":3,"sources":["Selectable.js"],"names":["define","langx","datax","eventer","noder","$","plugins","Mouse","Selectable","inherit","klassName","pluginName","options","appendTo","autoRefresh","distance","filter","tolerance","selected","selecting","start","stop","unselected","unselecting","_create","that","this","_addClass","dragged","refresh","elementPos","element","offset","selectees","each","$this","selecteeOffset","pos","left","top","data","$element","right","outerWidth","bottom","outerHeight","startselected","hasClass","_mouseInit","helper","_destroy","removeData","_mouseDestroy","_mouseStart","event","opos","pageX","pageY","disabled","_trigger","append","css","width","height","selectee","metaKey","ctrlKey","_removeClass","target","parents","addBack","doSelect","_mouseDrag","tmp","x1","y1","x2","y2","hit","_mouseStop","remove","register"],"mappings":"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","file":"../Selectable.js","sourcesContent":["define( [\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-data\",\r\n\t\"skylark-domx-eventer\",\r\n\t\"skylark-domx-noder\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"./Mouse\"\r\n],function(langx, datax, eventer, noder, $, plugins, Mouse) {\r\n\r\n\tvar Selectable = Mouse.inherit({\r\n\t\tklassName: \"Selectable\",\r\n\r\n\t\tpluginName : \"ui.selectable\",\r\n\r\n\t\toptions: {\r\n\t\t\tappendTo: \"body\",\r\n\t\t\tautoRefresh: true,\r\n\t\t\tdistance: 0,\r\n\t\t\tfilter: \"*\",\r\n\t\t\ttolerance: \"touch\",\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tselected: null,\r\n\t\t\tselecting: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null,\r\n\t\t\tunselected: null,\r\n\t\t\tunselecting: null\r\n\t\t},\r\n\t\t_create: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis._addClass( \"ui-selectable\" );\r\n\r\n\t\t\tthis.dragged = false;\r\n\r\n\t\t\t// Cache selectee children based on filter\r\n\t\t\tthis.refresh = function() {\r\n\t\t\t\tthat.elementPos = $( that.element[ 0 ] ).offset();\r\n\t\t\t\tthat.selectees = $( that.options.filter, that.element[ 0 ] );\r\n\t\t\t\tthat._addClass( that.selectees, \"ui-selectee\" );\r\n\t\t\t\tthat.selectees.each( function() {\r\n\t\t\t\t\tvar $this = $( this ),\r\n\t\t\t\t\t\tselecteeOffset = $this.offset(),\r\n\t\t\t\t\t\tpos = {\r\n\t\t\t\t\t\t\tleft: selecteeOffset.left - that.elementPos.left,\r\n\t\t\t\t\t\t\ttop: selecteeOffset.top - that.elementPos.top\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\tdatax.data( this, \"selectable-item\", {\r\n\t\t\t\t\t\telement: this,\r\n\t\t\t\t\t\t$element: $this,\r\n\t\t\t\t\t\tleft: pos.left,\r\n\t\t\t\t\t\ttop: pos.top,\r\n\t\t\t\t\t\tright: pos.left + $this.outerWidth(),\r\n\t\t\t\t\t\tbottom: pos.top + $this.outerHeight(),\r\n\t\t\t\t\t\tstartselected: false,\r\n\t\t\t\t\t\tselected: $this.hasClass( \"ui-selected\" ),\r\n\t\t\t\t\t\tselecting: $this.hasClass( \"ui-selecting\" ),\r\n\t\t\t\t\t\tunselecting: $this.hasClass( \"ui-unselecting\" )\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t};\r\n\t\t\tthis.refresh();\r\n\r\n\t\t\tthis._mouseInit();\r\n\r\n\t\t\tthis.helper = $( \"<div>\" );\r\n\t\t\tthis._addClass( this.helper, \"ui-selectable-helper\" );\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tthis.selectees.removeData( \"selectable-item\" );\r\n\t\t\tthis._mouseDestroy();\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\toptions = this.options;\r\n\r\n\t\t\tthis.opos = [ event.pageX, event.pageY ];\r\n\t\t\tthis.elementPos = $( this.element[ 0 ] ).offset();\r\n\r\n\t\t\tif ( this.options.disabled ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.selectees = $( options.filter, this.element[ 0 ] );\r\n\r\n\t\t\tthis._trigger( \"start\", event );\r\n\r\n\t\t\t$( options.appendTo ).append( this.helper );\r\n\r\n\t\t\t// position helper (lasso)\r\n\t\t\tthis.helper.css( {\r\n\t\t\t\t\"left\": event.pageX,\r\n\t\t\t\t\"top\": event.pageY,\r\n\t\t\t\t\"width\": 0,\r\n\t\t\t\t\"height\": 0\r\n\t\t\t} );\r\n\r\n\t\t\tif ( options.autoRefresh ) {\r\n\t\t\t\tthis.refresh();\r\n\t\t\t}\r\n\r\n\t\t\tthis.selectees.filter( \".ui-selected\" ).each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tselectee.startselected = true;\r\n\t\t\t\tif ( !event.metaKey && !event.ctrlKey ) {\r\n\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\tselectee.selected = false;\r\n\t\t\t\t\tthat._addClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\tselectee.unselecting = true;\r\n\r\n\t\t\t\t\t// selectable UNSELECTING callback\r\n\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\t$( event.target ).parents().addBack().each( function() {\r\n\t\t\t\tvar doSelect,\r\n\t\t\t\t\tselectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tif ( selectee ) {\r\n\t\t\t\t\tdoSelect = ( !event.metaKey && !event.ctrlKey ) ||\r\n\t\t\t\t\t\t!selectee.$element.hasClass( \"ui-selected\" );\r\n\t\t\t\t\tthat._removeClass( selectee.$element, doSelect ? \"ui-unselecting\" : \"ui-selected\" )\r\n\t\t\t\t\t\t._addClass( selectee.$element, doSelect ? \"ui-selecting\" : \"ui-unselecting\" );\r\n\t\t\t\t\tselectee.unselecting = !doSelect;\r\n\t\t\t\t\tselectee.selecting = doSelect;\r\n\t\t\t\t\tselectee.selected = doSelect;\r\n\r\n\t\t\t\t\t// selectable (UN)SELECTING callback\r\n\t\t\t\t\tif ( doSelect ) {\r\n\t\t\t\t\t\tthat._trigger( \"selecting\", event, {\r\n\t\t\t\t\t\t\tselecting: selectee.element\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event ) {\r\n\r\n\t\t\tthis.dragged = true;\r\n\r\n\t\t\tif ( this.options.disabled ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar tmp,\r\n\t\t\t\tthat = this,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tx1 = this.opos[ 0 ],\r\n\t\t\t\ty1 = this.opos[ 1 ],\r\n\t\t\t\tx2 = event.pageX,\r\n\t\t\t\ty2 = event.pageY;\r\n\r\n\t\t\tif ( x1 > x2 ) { tmp = x2; x2 = x1; x1 = tmp; }\r\n\t\t\tif ( y1 > y2 ) { tmp = y2; y2 = y1; y1 = tmp; }\r\n\t\t\tthis.helper.css( { left: x1, top: y1, width: x2 - x1, height: y2 - y1 } );\r\n\r\n\t\t\tthis.selectees.each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" ),\r\n\t\t\t\t\thit = false,\r\n\t\t\t\t\toffset = {};\r\n\r\n\t\t\t\t//prevent helper from being selected if appendTo: selectable\r\n\t\t\t\tif ( !selectee || selectee.element === that.element[ 0 ] ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toffset.left   = selectee.left   + that.elementPos.left;\r\n\t\t\t\toffset.right  = selectee.right  + that.elementPos.left;\r\n\t\t\t\toffset.top    = selectee.top    + that.elementPos.top;\r\n\t\t\t\toffset.bottom = selectee.bottom + that.elementPos.top;\r\n\r\n\t\t\t\tif ( options.tolerance === \"touch\" ) {\r\n\t\t\t\t\thit = ( !( offset.left > x2 || offset.right < x1 || offset.top > y2 ||\r\n\t                    offset.bottom < y1 ) );\r\n\t\t\t\t} else if ( options.tolerance === \"fit\" ) {\r\n\t\t\t\t\thit = ( offset.left > x1 && offset.right < x2 && offset.top > y1 &&\r\n\t                    offset.bottom < y2 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hit ) {\r\n\r\n\t\t\t\t\t// SELECT\r\n\t\t\t\t\tif ( selectee.selected ) {\r\n\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\t\tselectee.selected = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( selectee.unselecting ) {\r\n\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\t\tselectee.unselecting = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( !selectee.selecting ) {\r\n\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-selecting\" );\r\n\t\t\t\t\t\tselectee.selecting = true;\r\n\r\n\t\t\t\t\t\t// selectable SELECTING callback\r\n\t\t\t\t\t\tthat._trigger( \"selecting\", event, {\r\n\t\t\t\t\t\t\tselecting: selectee.element\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// UNSELECT\r\n\t\t\t\t\tif ( selectee.selecting ) {\r\n\t\t\t\t\t\tif ( ( event.metaKey || event.ctrlKey ) && selectee.startselected ) {\r\n\t\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selecting\" );\r\n\t\t\t\t\t\t\tselectee.selecting = false;\r\n\t\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\t\t\tselectee.selected = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selecting\" );\r\n\t\t\t\t\t\t\tselectee.selecting = false;\r\n\t\t\t\t\t\t\tif ( selectee.startselected ) {\r\n\t\t\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\t\t\t\tselectee.unselecting = true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// selectable UNSELECTING callback\r\n\t\t\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( selectee.selected ) {\r\n\t\t\t\t\t\tif ( !event.metaKey && !event.ctrlKey && !selectee.startselected ) {\r\n\t\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\t\t\tselectee.selected = false;\r\n\r\n\t\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\t\t\tselectee.unselecting = true;\r\n\r\n\t\t\t\t\t\t\t// selectable UNSELECTING callback\r\n\t\t\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.dragged = false;\r\n\r\n\t\t\t$( \".ui-unselecting\", this.element[ 0 ] ).each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tthat._removeClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\tselectee.unselecting = false;\r\n\t\t\t\tselectee.startselected = false;\r\n\t\t\t\tthat._trigger( \"unselected\", event, {\r\n\t\t\t\t\tunselected: selectee.element\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t\t$( \".ui-selecting\", this.element[ 0 ] ).each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tthat._removeClass( selectee.$element, \"ui-selecting\" )\r\n\t\t\t\t\t._addClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\tselectee.selecting = false;\r\n\t\t\t\tselectee.selected = true;\r\n\t\t\t\tselectee.startselected = true;\r\n\t\t\t\tthat._trigger( \"selected\", event, {\r\n\t\t\t\t\tselected: selectee.element\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t\tthis._trigger( \"stop\", event );\r\n\r\n\t\t\tthis.helper.remove();\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\r\n\tplugins.register(Selectable,\"selectable\");\r\n\r\n\treturn Selectable;\r\n\r\n});\r\n"]}