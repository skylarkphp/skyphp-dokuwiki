{"version":3,"sources":["Event.js"],"names":["define","objects","funcs","klass","events","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","compatible","event","source","isDefaultPrevented","each","name","predicate","sourceMethod","this","returnTrue","apply","arguments","returnFalse","Event","CustomEvent","[object Object]","type","props","super","safeMixin"],"mappings":";;;;;;;AAAAA,QACE,wBACA,sBACA,sBACA,uBACE,YACF,SAASC,EAAQC,EAAMC,EAAMC,GAC3B,IAAIC,GACAC,eAAgB,qBAChBC,yBAA0B,gCAC1BC,gBAAiB,wBAIrB,SAASC,EAAWC,EAAOC,GAevB,OAdIA,GAAWD,EAAME,qBACZD,IACDA,EAASD,GAGbT,EAAQY,KAAKR,EAAc,SAASS,EAAMC,GACtC,IAAIC,EAAeL,EAAOG,GAC1BJ,EAAMI,GAAQ,WAEV,OADAG,KAAKF,GAAab,EAAMgB,WACjBF,GAAgBA,EAAaG,MAAMR,EAAQS,YAEtDV,EAAMK,GAAab,EAAMmB,eAG1BX,QAcLY,UAAcC,YAChBC,YAAYC,EAAKC,GACbC,MAAMF,EAAKC,GACXzB,EAAQ2B,UAAUX,KAAMS,GACxBjB,EAAWQ,OAOnB,OAFAK,EAAMb,WAAaA,EAEZL,EAAOkB,MAAQA","file":"../Event.js","sourcesContent":["define([\r\n  \"skylark-langx-objects\",\r\n  \"skylark-langx-funcs\",\r\n  \"skylark-langx-klass\",\r\n  \"skylark-langx-hoster\",\r\n    \"./events\"\r\n],function(objects,funcs,klass,events){\r\n    var eventMethods = {\r\n        preventDefault: \"isDefaultPrevented\",\r\n        stopImmediatePropagation: \"isImmediatePropagationStopped\",\r\n        stopPropagation: \"isPropagationStopped\"\r\n     };\r\n        \r\n\r\n    function compatible(event, source) {\r\n        if (source || !event.isDefaultPrevented) {\r\n            if (!source) {\r\n                source = event;\r\n            }\r\n\r\n            objects.each(eventMethods, function(name, predicate) {\r\n                var sourceMethod = source[name];\r\n                event[name] = function() {\r\n                    this[predicate] = funcs.returnTrue;\r\n                    return sourceMethod && sourceMethod.apply(source, arguments);\r\n                }\r\n                event[predicate] = funcs.returnFalse;\r\n            });\r\n        }\r\n        return event;\r\n    }\r\n\r\n\r\n    /*\r\n    var Event = klass({\r\n        _construct : function(type,props) {\r\n            CustomEvent.call(this,type.props);\r\n            objects.safeMixin(this, props);\r\n            compatible(this);\r\n        }\r\n    },CustomEvent);\r\n    */\r\n\r\n    class Event extends CustomEvent {\r\n        constructor(type,props) {\r\n            super(type,props);\r\n            objects.safeMixin(this, props);\r\n            compatible(this);\r\n        } \r\n    }\r\n\r\n\r\n    Event.compatible = compatible;\r\n\r\n    return events.Event = Event;\r\n    \r\n});"]}