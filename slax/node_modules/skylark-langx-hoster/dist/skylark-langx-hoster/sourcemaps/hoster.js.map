{"version":3,"sources":["hoster.js"],"names":["define","skylark","hoster","isBrowser","isNode","global","this","browser","node","process","versions","v8","window","self","_document","Object","defineProperty","w","require","document","undefined","CustomEvent","type","props","matched","ua","toLowerCase","match","exec","indexOf","version","uaMatch","navigator","userAgent","chrome","webkit","safari","detects","attach"],"mappings":";;;;;;;AAAAA,QACI,oBACF,SAASC,GAEV,IAAIC,GACHC,WAAc,EACdC,OAAW,KACXC,OAAWC,KACXC,QAAY,KACZC,KAAS,MAGY,iBAAXC,SAAuBA,QAAQC,UAAYD,QAAQC,SAASF,MAAQC,QAAQC,SAASC,KAC/FT,EAAOE,QAAS,EAChBF,EAAOC,WAAY,GAGpBD,EAAOG,OAAS,WACf,MAAsB,oBAAXA,QAA4C,mBAAXA,OAIpCA,OACqB,oBAAXO,OAEVA,OAEiB,oBAATC,KAERA,KAEDP,KAdQ,GAiBhB,IAAIQ,EAAY,KAkBhB,GAhBAC,OAAOC,eAAed,EAAO,WAAW,WACvC,IAAKY,EAAW,CACf,IAAIG,EAAsB,oBAAXL,OAAyBM,QAAQ,gBAAkBN,OAClEE,EAAYG,EAAEE,SAGf,OAAOL,SAG0BM,IAA9BlB,EAAOG,OAAOgB,cACjBnB,EAAOG,OAAOgB,YAAc,SAASC,EAAKC,GACzCjB,KAAKgB,KAAOA,EACZhB,KAAKiB,MAAQA,IAIXrB,EAAOC,UAAW,CAuBlB,IAAIqB,EAtBJ,SAAkBC,GACjBA,EAAKA,EAAGC,cAQR,IAAIC,EAAQ,wBAAwBC,KAAMH,IACxC,wBAAwBG,KAAMH,IAC9B,qCAAqCG,KAAMH,IAC3C,kBAAkBG,KAAMH,IACxBA,EAAGI,QAAQ,cAAgB,GAAK,gCAAgCD,KAAMH,OAGxE,OACElB,QAASoB,EAAO,IAAO,GACvBG,QAASH,EAAO,IAAO,KAIZI,CAASC,UAAUC,WAE7B1B,EAAUL,EAAOK,WAEhBiB,EAAQjB,UACXA,EAASiB,EAAQjB,UAAY,EAC7BA,EAAQuB,QAAUN,EAAQM,SAIvBvB,EAAQ2B,OACX3B,EAAQ4B,QAAS,EACP5B,EAAQ4B,SAClB5B,EAAQ6B,QAAS,GAMvB,OAFAlC,EAAOmC,WAECpC,EAAQqC,OAAO,eAAepC","file":"../hoster.js","sourcesContent":["define([\r\n    \"skylark-langx-ns\"\r\n],function(skylark){\r\n\t// The javascript host environment, brower and nodejs are supported.\r\n\tvar hoster = {\r\n\t\t\"isBrowser\" : true, // default\r\n\t\t\"isNode\" : null,\r\n\t\t\"global\" : this,\r\n\t\t\"browser\" : null,\r\n\t\t\"node\" : null\r\n\t};\r\n\r\n\tif (typeof process == \"object\" && process.versions && process.versions.node && process.versions.v8) {\r\n\t\thoster.isNode = true;\r\n\t\thoster.isBrowser = false;\r\n\t}\r\n\r\n\thoster.global = (function(){\r\n\t\tif (typeof global !== 'undefined' && typeof global !== 'function') {\r\n\t\t\t// global spec defines a reference to the global object called 'global'\r\n\t\t\t// https://github.com/tc39/proposal-global\r\n\t\t\t// `global` is also defined in NodeJS\r\n\t\t\treturn global;\r\n\t\t} else if (typeof window !== 'undefined') {\r\n\t\t\t// window is defined in browsers\r\n\t\t\treturn window;\r\n\t\t}\r\n\t\telse if (typeof self !== 'undefined') {\r\n\t\t\t// self is defined in WebWorkers\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\treturn this;\r\n\t})();\r\n\r\n\tvar _document = null;\r\n\r\n\tObject.defineProperty(hoster,\"document\",function(){\r\n\t\tif (!_document) {\r\n\t\t\tvar w = typeof window === 'undefined' ? require('html-element') : window;\r\n\t\t\t_document = w.document;\r\n\t\t}\r\n\r\n\t\treturn _document;\r\n\t});\r\n\r\n\tif (hoster.global.CustomEvent === undefined) {\r\n\t\thoster.global.CustomEvent = function(type,props) {\r\n\t\t\tthis.type = type;\r\n\t\t\tthis.props = props;\r\n\t\t};\r\n\t}\r\n\r\n\tif (hoster.isBrowser) {\r\n\t    function uaMatch( ua ) {\r\n\t\t    ua = ua.toLowerCase();\r\n\r\n\t\t\t//IE11OrLess = !!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\\.|msie|iemobile)/i),\r\n\t\t\t//Edge = !!navigator.userAgent.match(/Edge/i),\r\n\t\t\t//FireFox = !!navigator.userAgent.match(/firefox/i),\r\n\t\t\t//Safari = !!(navigator.userAgent.match(/safari/i) && !navigator.userAgent.match(/chrome/i) && !navigator.userAgent.match(/android/i)),\r\n\t\t\t//IOS = !!(navigator.userAgent.match(/iP(ad|od|hone)/i)),\r\n\r\n\t\t    var match = /(chrome)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n\t\t      /(webkit)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n\t\t      /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n\t\t      /(msie) ([\\w.]+)/.exec( ua ) ||\r\n\t\t      ua.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec( ua ) ||\r\n\t\t      [];\r\n\r\n\t\t    return {\r\n\t\t      browser: match[ 1 ] || '',\r\n\t\t      version: match[ 2 ] || '0'\r\n\t\t    };\r\n\t  \t};\r\n\r\n\t    var matched = uaMatch( navigator.userAgent );\r\n\r\n\t    var browser = hoster.browser = {};\r\n\r\n\t    if ( matched.browser ) {\r\n\t      browser[ matched.browser ] = true;\r\n\t      browser.version = matched.version;\r\n\t    }\r\n\r\n\t    // Chrome is Webkit, but Webkit is also Safari.\r\n\t    if ( browser.chrome ) {\r\n\t      browser.webkit = true;\r\n\t    } else if ( browser.webkit ) {\r\n\t      browser.safari = true;\r\n\t    }\r\n\t}\r\n\r\n\thoster.detects = {};\r\n\r\n\treturn  skylark.attach(\"langx.hoster\",hoster);\r\n});"]}