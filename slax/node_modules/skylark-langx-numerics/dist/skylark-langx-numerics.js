/**
 * skylark-langx-numerics - The skylark JavaScript language extension library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,i){var s=i.define,require=i.require,n="function"==typeof s&&s.amd,r=!n&&"undefined"!=typeof exports;if(!n&&!s){var e={};s=i.define=function(t,i,s){"function"==typeof s?(e[t]={factory:s,deps:i.map(function(i){return function(t,i){if("."!==t[0])return t;var s=i.split("/"),n=t.split("/");s.pop();for(var r=0;r<n.length;r++)"."!=n[r]&&(".."==n[r]?s.pop():s.push(n[r]));return s.join("/")}(i,t)}),resolved:!1,exports:null},require(t)):e[t]={factory:null,resolved:!0,exports:s}},require=i.require=function(t){if(!e.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=e[t];if(!module.resolved){var s=[];module.deps.forEach(function(t){s.push(require(t))}),module.exports=module.factory.apply(i,s)||null,module.resolved=!0}return module.exports}}if(!s)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-langx-numerics/numerics",["skylark-langx-ns","skylark-langx-types"],function(t,i){return t.attach("langx.numerics",{toFinite:i.toFinite,toNumber:i.toNumber,toInteger:i.toInteger})}),t("skylark-langx-numerics/maths",["skylark-langx-ns","skylark-langx-types","./numerics"],function(t,i,s){for(var n=[],r=0;r<256;r++)n[r]=(r<16?"0":"")+r.toString(16);var e={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,clamp:function(t,i,s){return Math.max(i,Math.min(s,t))},euclideanModulo:function(t,i){return(t%i+i)%i},mapLinear:function(t,i,s,n,r){return n+(t-i)*(r-n)/(s-i)},lerp:function(t,i,s){return(1-s)*t+s*i},smoothstep:function(t,i,s){return t<=i?0:t>=s?1:(t=(t-i)/(s-i))*t*(3-2*t)},smootherstep:function(t,i,s){return t<=i?0:t>=s?1:(t=(t-i)/(s-i))*t*t*(t*(6*t-15)+10)},randInt:function(t,i){return t+Math.floor(Math.random()*(i-t+1))},randFloat:function(t,i){return t+Math.random()*(i-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*e.DEG2RAD},radToDeg:function(t){return t*e.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,i,s,n,r){var e=Math.cos,h=Math.sin,a=e(s/2),o=h(s/2),u=e((i+n)/2),c=h((i+n)/2),l=e((i-n)/2),m=h((i-n)/2),f=e((n-i)/2),y=h((n-i)/2);"XYX"===r?t.set(a*c,o*l,o*m,a*u):"YZY"===r?t.set(o*m,a*c,o*l,a*u):"ZXZ"===r?t.set(o*l,o*m,a*c,a*u):"XZX"===r?t.set(a*c,o*y,o*f,a*u):"YXY"===r?t.set(o*f,a*c,o*y,a*u):"ZYZ"===r?t.set(o*y,o*f,a*c,a*u):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};return s.maths=e}),t("skylark-langx-numerics/Quaternion",["skylark-langx-klass","./numerics","./maths"],function(t,i,s){var n=t({klassName:"Quaternion",x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},set:function(t,i,s,n){return this._x=t,this._y=i,this._z=s,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,i){if(!t||!t.isEuler)throw new Error("mathsQuaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var s=t._x,n=t._y,r=t._z,e=t.order,h=Math.cos,a=Math.sin,o=h(s/2),u=h(n/2),c=h(r/2),l=a(s/2),m=a(n/2),f=a(r/2);return"XYZ"===e?(this._x=l*u*c+o*m*f,this._y=o*m*c-l*u*f,this._z=o*u*f+l*m*c,this._w=o*u*c-l*m*f):"YXZ"===e?(this._x=l*u*c+o*m*f,this._y=o*m*c-l*u*f,this._z=o*u*f-l*m*c,this._w=o*u*c+l*m*f):"ZXY"===e?(this._x=l*u*c-o*m*f,this._y=o*m*c+l*u*f,this._z=o*u*f+l*m*c,this._w=o*u*c-l*m*f):"ZYX"===e?(this._x=l*u*c-o*m*f,this._y=o*m*c+l*u*f,this._z=o*u*f-l*m*c,this._w=o*u*c+l*m*f):"YZX"===e?(this._x=l*u*c+o*m*f,this._y=o*m*c+l*u*f,this._z=o*u*f-l*m*c,this._w=o*u*c-l*m*f):"XZY"===e&&(this._x=l*u*c-o*m*f,this._y=o*m*c-l*u*f,this._z=o*u*f+l*m*c,this._w=o*u*c+l*m*f),!1!==i&&this._onChangeCallback(),this},setFromAxisAngle:function(t,i){var s=i/2,n=Math.sin(s);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(s),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var i,s=t.elements,n=s[0],r=s[4],e=s[8],h=s[1],a=s[5],o=s[9],u=s[2],c=s[6],l=s[10],m=n+a+l;return m>0?(i=.5/Math.sqrt(m+1),this._w=.25/i,this._x=(c-o)*i,this._y=(e-u)*i,this._z=(h-r)*i):n>a&&n>l?(i=2*Math.sqrt(1+n-a-l),this._w=(c-o)/i,this._x=.25*i,this._y=(r+h)/i,this._z=(e+u)/i):a>l?(i=2*Math.sqrt(1+a-n-l),this._w=(e-u)/i,this._x=(r+h)/i,this._y=.25*i,this._z=(o+c)/i):(i=2*Math.sqrt(1+l-n-a),this._w=(h-r)/i,this._x=(e+u)/i,this._y=(o+c)/i,this._z=.25*i),this._onChangeCallback(),this},setFromUnitVectors:function(t,i){var s=t.dot(i)+1;return s<1e-6?(s=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=s):(this._x=0,this._y=-t.z,this._z=t.y,this._w=s)):(this._x=t.y*i.z-t.z*i.y,this._y=t.z*i.x-t.x*i.z,this._z=t.x*i.y-t.y*i.x,this._w=s),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(s.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,i){var s=this.angleTo(t);if(0===s)return this;var n=Math.min(1,i/s);return this.slerp(t,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(t,i){return void 0!==i?(console.warn("mathsQuaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,i)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,i){var s=t._x,n=t._y,r=t._z,e=t._w,h=i._x,a=i._y,o=i._z,u=i._w;return this._x=s*u+e*h+n*o-r*a,this._y=n*u+e*a+r*h-s*o,this._z=r*u+e*o+s*a-n*h,this._w=e*u-s*h-n*a-r*o,this._onChangeCallback(),this},slerp:function(t,i){if(0===i)return this;if(1===i)return this.copy(t);var s=this._x,n=this._y,r=this._z,e=this._w,h=e*t._w+s*t._x+n*t._y+r*t._z;if(h<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),h>=1)return this._w=e,this._x=s,this._y=n,this._z=r,this;var a=1-h*h;if(a<=Number.EPSILON){var o=1-i;return this._w=o*e+i*this._w,this._x=o*s+i*this._x,this._y=o*n+i*this._y,this._z=o*r+i*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(a),c=Math.atan2(u,h),l=Math.sin((1-i)*c)/u,m=Math.sin(i*c)/u;return this._w=e*l+this._w*m,this._x=s*l+this._x*m,this._y=n*l+this._y*m,this._z=r*l+this._z*m,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,i){return void 0===i&&(i=0),this._x=t[i],this._y=t[i+1],this._z=t[i+2],this._w=t[i+3],this._onChangeCallback(),this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._w,t},fromBufferAttribute:function(t,i){return this._x=t.getX(i),this._y=t.getY(i),this._z=t.getZ(i),this._w=t.getW(i),this},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){},_construct:function(t,i,s,n){this._x=t||0,this._y=i||0,this._z=s||0,this._w=void 0!==n?n:1}});return Object.assign(n,{slerp:function(t,i,s,n){return s.copy(t).slerp(i,n)},slerpFlat:function(t,i,s,n,r,e,h){var a=s[n+0],o=s[n+1],u=s[n+2],c=s[n+3],l=r[e+0],m=r[e+1],f=r[e+2],y=r[e+3];if(c!==y||a!==l||o!==m||u!==f){var x=1-h,d=a*l+o*m+u*f+c*y,_=d>=0?1:-1,M=1-d*d;if(M>Number.EPSILON){var p=Math.sqrt(M),w=Math.atan2(p,d*_);x=Math.sin(x*w)/p,h=Math.sin(h*w)/p}var z=h*_;if(a=a*x+l*z,o=o*x+m*z,u=u*x+f*z,c=c*x+y*z,x===1-h){var g=1/Math.sqrt(a*a+o*o+u*u+c*c);a*=g,o*=g,u*=g,c*=g}}t[i]=a,t[i+1]=o,t[i+2]=u,t[i+3]=c}}),Object.assign(n.prototype,{}),i.Quaternion=n}),t("skylark-langx-numerics/Vector3",["skylark-langx-klass","./numerics","./maths","./Quaternion"],function(t,i,s,n){var r=new n,e=t({klassName:"Vector3",set:function(t,i,s){return this.x=t,this.y=i,this.z=s,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,i){return void 0!==i?(console.warn("mathsVector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this},sub:function(t,i){return void 0!==i?(console.warn("mathsVector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this},multiply:function(t,i){return void 0!==i?(console.warn("mathsVector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,i)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this},applyEuler:function(t){return t&&t.isEuler||console.error("mathsVector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(r.setFromEuler(t))},applyAxisAngle:function(t,i){return this.applyQuaternion(r.setFromAxisAngle(t,i))},applyMatrix3:function(t){var i=this.x,s=this.y,n=this.z,r=t.elements;return this.x=r[0]*i+r[3]*s+r[6]*n,this.y=r[1]*i+r[4]*s+r[7]*n,this.z=r[2]*i+r[5]*s+r[8]*n,this},applyNormalMatrix:function(t){return this.applyMatrix3(t).normalize()},applyMatrix4:function(t){var i=this.x,s=this.y,n=this.z,r=t.elements,e=1/(r[3]*i+r[7]*s+r[11]*n+r[15]);return this.x=(r[0]*i+r[4]*s+r[8]*n+r[12])*e,this.y=(r[1]*i+r[5]*s+r[9]*n+r[13])*e,this.z=(r[2]*i+r[6]*s+r[10]*n+r[14])*e,this},applyQuaternion:function(t){var i=this.x,s=this.y,n=this.z,r=t.x,e=t.y,h=t.z,a=t.w,o=a*i+e*n-h*s,u=a*s+h*i-r*n,c=a*n+r*s-e*i,l=-r*i-e*s-h*n;return this.x=o*a+l*-r+u*-h-c*-e,this.y=u*a+l*-e+c*-r-o*-h,this.z=c*a+l*-h+o*-e-u*-r,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var i=this.x,s=this.y,n=this.z,r=t.elements;return this.x=r[0]*i+r[4]*s+r[8]*n,this.y=r[1]*i+r[5]*s+r[9]*n,this.z=r[2]*i+r[6]*s+r[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this},clampScalar:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this},clampLength:function(t,i){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this},lerpVectors:function(t,i,s){return this.subVectors(i,t).multiplyScalar(s).add(t)},cross:function(t,i){return void 0!==i?(console.warn("mathsVector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,i)):this.crossVectors(this,t)},crossVectors:function(t,i){var s=t.x,n=t.y,r=t.z,e=i.x,h=i.y,a=i.z;return this.x=n*a-r*h,this.y=r*e-s*a,this.z=s*h-n*e,this},projectOnVector:function(t){var i=t.lengthSq();if(0===i)return this.set(0,0,0);var s=t.dot(this)/i;return this.copy(t).multiplyScalar(s)},projectOnPlane:function(t){return h.copy(this).projectOnVector(t),this.sub(h)},reflect:function(t){return this.sub(h.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){var i=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===i)return Math.PI/2;var s=this.dot(t)/i;return Math.acos(MathUtils.clamp(s,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var i=this.x-t.x,s=this.y-t.y,n=this.z-t.z;return i*i+s*s+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,i,s){var n=Math.sin(i)*t;return this.x=n*Math.sin(s),this.y=Math.cos(i)*t,this.z=n*Math.cos(s),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,i,s){return this.x=t*Math.sin(i),this.y=s,this.z=t*Math.cos(i),this},setFromMatrixPosition:function(t){var i=t.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this},setFromMatrixScale:function(t){var i=this.setFromMatrixColumn(t,0).length(),s=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=s,this.z=n,this},setFromMatrixColumn:function(t,i){return this.fromArray(t.elements,4*i)},setFromMatrix3Column:function(t,i){return this.fromArray(t.elements,3*i)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,i){return void 0===i&&(i=0),this.x=t[i],this.y=t[i+1],this.z=t[i+2],this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t},fromBufferAttribute:function(t,i,s){return void 0!==s&&console.warn("mathsVector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this},_construct:function(t,i,s){this.x=t||0,this.y=i||0,this.z=s||0}}),h=new e;return i.Vector3=e}),t("skylark-langx-numerics/Matrix4",["skylark-langx-klass","./numerics","./Vector3"],function(t,i,s){var n=new s,r=new s(0,0,0),e=new s(1,1,1),h=new s,a=new s,o=new s,u=t({set:function(t,i,s,n,r,e,h,a,o,u,c,l,m,f,y,x){var d=this.elements;return d[0]=t,d[4]=i,d[8]=s,d[12]=n,d[1]=r,d[5]=e,d[9]=h,d[13]=a,d[2]=o,d[6]=u,d[10]=c,d[14]=l,d[3]=m,d[7]=f,d[11]=y,d[15]=x,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new u).fromArray(this.elements)},copy:function(t){var i=this.elements,s=t.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],this},copyPosition:function(t){var i=this.elements,s=t.elements;return i[12]=s[12],i[13]=s[13],i[14]=s[14],this},extractBasis:function(t,i,s){return t.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this},makeBasis:function(t,i,s){return this.set(t.x,i.x,s.x,0,t.y,i.y,s.y,0,t.z,i.z,s.z,0,0,0,0,1),this},extractRotation:function(t){var i=this.elements,s=t.elements,r=1/n.setFromMatrixColumn(t,0).length(),e=1/n.setFromMatrixColumn(t,1).length(),h=1/n.setFromMatrixColumn(t,2).length();return i[0]=s[0]*r,i[1]=s[1]*r,i[2]=s[2]*r,i[3]=0,i[4]=s[4]*e,i[5]=s[5]*e,i[6]=s[6]*e,i[7]=0,i[8]=s[8]*h,i[9]=s[9]*h,i[10]=s[10]*h,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("mathsMatrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=this.elements,s=t.x,n=t.y,r=t.z,e=Math.cos(s),h=Math.sin(s),a=Math.cos(n),o=Math.sin(n),u=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){var l=e*u,m=e*c,f=h*u,y=h*c;i[0]=a*u,i[4]=-a*c,i[8]=o,i[1]=m+f*o,i[5]=l-y*o,i[9]=-h*a,i[2]=y-l*o,i[6]=f+m*o,i[10]=e*a}else if("YXZ"===t.order){var x=a*u,d=a*c,_=o*u,M=o*c;i[0]=x+M*h,i[4]=_*h-d,i[8]=e*o,i[1]=e*c,i[5]=e*u,i[9]=-h,i[2]=d*h-_,i[6]=M+x*h,i[10]=e*a}else if("ZXY"===t.order){var x=a*u,d=a*c,_=o*u,M=o*c;i[0]=x-M*h,i[4]=-e*c,i[8]=_+d*h,i[1]=d+_*h,i[5]=e*u,i[9]=M-x*h,i[2]=-e*o,i[6]=h,i[10]=e*a}else if("ZYX"===t.order){var l=e*u,m=e*c,f=h*u,y=h*c;i[0]=a*u,i[4]=f*o-m,i[8]=l*o+y,i[1]=a*c,i[5]=y*o+l,i[9]=m*o-f,i[2]=-o,i[6]=h*a,i[10]=e*a}else if("YZX"===t.order){var p=e*a,w=e*o,z=h*a,g=h*o;i[0]=a*u,i[4]=g-p*c,i[8]=z*c+w,i[1]=c,i[5]=e*u,i[9]=-h*u,i[2]=-o*u,i[6]=w*c+z,i[10]=p-g*c}else if("XZY"===t.order){var p=e*a,w=e*o,z=h*a,g=h*o;i[0]=a*u,i[4]=-c,i[8]=o*u,i[1]=p*c+g,i[5]=e*u,i[9]=w*c-z,i[2]=z*c-w,i[6]=h*u,i[10]=g*c+p}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},makeRotationFromQuaternion:function(t){return this.compose(r,t,e)},lookAt:function(t,i,s){var n=this.elements;return o.subVectors(t,i),0===o.lengthSq()&&(o.z=1),o.normalize(),h.crossVectors(s,o),0===h.lengthSq()&&(1===Math.abs(s.z)?o.x+=1e-4:o.z+=1e-4,o.normalize(),h.crossVectors(s,o)),h.normalize(),a.crossVectors(o,h),n[0]=h.x,n[4]=a.x,n[8]=o.x,n[1]=h.y,n[5]=a.y,n[9]=o.y,n[2]=h.z,n[6]=a.z,n[10]=o.z,this},multiply:function(t,i){return void 0!==i?(console.warn("mathsMatrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,i)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,i){var s=t.elements,n=i.elements,r=this.elements,e=s[0],h=s[4],a=s[8],o=s[12],u=s[1],c=s[5],l=s[9],m=s[13],f=s[2],y=s[6],x=s[10],d=s[14],_=s[3],M=s[7],p=s[11],w=s[15],z=n[0],g=n[4],v=n[8],k=n[12],b=n[1],C=n[5],S=n[9],T=n[13],V=n[2],X=n[6],Y=n[10],P=n[14],A=n[3],F=n[7],q=n[11],Z=n[15];return r[0]=e*z+h*b+a*V+o*A,r[4]=e*g+h*C+a*X+o*F,r[8]=e*v+h*S+a*Y+o*q,r[12]=e*k+h*T+a*P+o*Z,r[1]=u*z+c*b+l*V+m*A,r[5]=u*g+c*C+l*X+m*F,r[9]=u*v+c*S+l*Y+m*q,r[13]=u*k+c*T+l*P+m*Z,r[2]=f*z+y*b+x*V+d*A,r[6]=f*g+y*C+x*X+d*F,r[10]=f*v+y*S+x*Y+d*q,r[14]=f*k+y*T+x*P+d*Z,r[3]=_*z+M*b+p*V+w*A,r[7]=_*g+M*C+p*X+w*F,r[11]=_*v+M*S+p*Y+w*q,r[15]=_*k+M*T+p*P+w*Z,this},multiplyScalar:function(t){var i=this.elements;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this},determinant:function(){var t=this.elements,i=t[0],s=t[4],n=t[8],r=t[12],e=t[1],h=t[5],a=t[9],o=t[13],u=t[2],c=t[6],l=t[10],m=t[14],f=t[3],y=t[7],x=t[11],d=t[15];return f*(+r*a*c-n*o*c-r*h*l+s*o*l+n*h*m-s*a*m)+y*(+i*a*m-i*o*l+r*e*l-n*e*m+n*o*u-r*a*u)+x*(+i*o*c-i*h*m-r*e*c+s*e*m+r*h*u-s*o*u)+d*(-n*h*u-i*a*c+i*h*l+n*e*c-s*e*l+s*a*u)},transpose:function(){var t,i=this.elements;return t=i[1],i[1]=i[4],i[4]=t,t=i[2],i[2]=i[8],i[8]=t,t=i[6],i[6]=i[9],i[9]=t,t=i[3],i[3]=i[12],i[12]=t,t=i[7],i[7]=i[13],i[13]=t,t=i[11],i[11]=i[14],i[14]=t,this},setPosition:function(t,i,s){var n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=i,n[14]=s),this},getInverse:function(t,i){void 0!==i&&console.warn("mathsMatrix4: .getInverse() can no longer be configured to throw on degenerate.");var s=this.elements,n=t.elements,r=n[0],e=n[1],h=n[2],a=n[3],o=n[4],u=n[5],c=n[6],l=n[7],m=n[8],f=n[9],y=n[10],x=n[11],d=n[12],_=n[13],M=n[14],p=n[15],w=f*M*l-_*y*l+_*c*x-u*M*x-f*c*p+u*y*p,z=d*y*l-m*M*l-d*c*x+o*M*x+m*c*p-o*y*p,g=m*_*l-d*f*l+d*u*x-o*_*x-m*u*p+o*f*p,v=d*f*c-m*_*c-d*u*y+o*_*y+m*u*M-o*f*M,k=r*w+e*z+h*g+a*v;if(0===k)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var b=1/k;return s[0]=w*b,s[1]=(_*y*a-f*M*a-_*h*x+e*M*x+f*h*p-e*y*p)*b,s[2]=(u*M*a-_*c*a+_*h*l-e*M*l-u*h*p+e*c*p)*b,s[3]=(f*c*a-u*y*a-f*h*l+e*y*l+u*h*x-e*c*x)*b,s[4]=z*b,s[5]=(m*M*a-d*y*a+d*h*x-r*M*x-m*h*p+r*y*p)*b,s[6]=(d*c*a-o*M*a-d*h*l+r*M*l+o*h*p-r*c*p)*b,s[7]=(o*y*a-m*c*a+m*h*l-r*y*l-o*h*x+r*c*x)*b,s[8]=g*b,s[9]=(d*f*a-m*_*a-d*e*x+r*_*x+m*e*p-r*f*p)*b,s[10]=(o*_*a-d*u*a+d*e*l-r*_*l-o*e*p+r*u*p)*b,s[11]=(m*u*a-o*f*a-m*e*l+r*f*l+o*e*x-r*u*x)*b,s[12]=v*b,s[13]=(m*_*h-d*f*h+d*e*y-r*_*y-m*e*M+r*f*M)*b,s[14]=(d*u*h-o*_*h-d*e*c+r*_*c+o*e*M-r*u*M)*b,s[15]=(o*f*h-m*u*h+m*e*c-r*f*c-o*e*y+r*u*y)*b,this},scale:function(t){var i=this.elements,s=t.x,n=t.y,r=t.z;return i[0]*=s,i[4]*=n,i[8]*=r,i[1]*=s,i[5]*=n,i[9]*=r,i[2]*=s,i[6]*=n,i[10]*=r,i[3]*=s,i[7]*=n,i[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(i,s,n))},makeTranslation:function(t,i,s){return this.set(1,0,0,t,0,1,0,i,0,0,1,s,0,0,0,1),this},makeRotationX:function(t){var i=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,i,-s,0,0,s,i,0,0,0,0,1),this},makeRotationY:function(t){var i=Math.cos(t),s=Math.sin(t);return this.set(i,0,s,0,0,1,0,0,-s,0,i,0,0,0,0,1),this},makeRotationZ:function(t){var i=Math.cos(t),s=Math.sin(t);return this.set(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,i){var s=Math.cos(i),n=Math.sin(i),r=1-s,e=t.x,h=t.y,a=t.z,o=r*e,u=r*h;return this.set(o*e+s,o*h-n*a,o*a+n*h,0,o*h+n*a,u*h+s,u*a-n*e,0,o*a-n*h,u*a+n*e,r*a*a+s,0,0,0,0,1),this},makeScale:function(t,i,s){return this.set(t,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1),this},makeShear:function(t,i,s){return this.set(1,i,s,0,t,1,s,0,t,i,1,0,0,0,0,1),this},compose:function(t,i,s){var n=this.elements,r=i._x,e=i._y,h=i._z,a=i._w,o=r+r,u=e+e,c=h+h,l=r*o,m=r*u,f=r*c,y=e*u,x=e*c,d=h*c,_=a*o,M=a*u,p=a*c,w=s.x,z=s.y,g=s.z;return n[0]=(1-(y+d))*w,n[1]=(m+p)*w,n[2]=(f-M)*w,n[3]=0,n[4]=(m-p)*z,n[5]=(1-(l+d))*z,n[6]=(x+_)*z,n[7]=0,n[8]=(f+M)*g,n[9]=(x-_)*g,n[10]=(1-(l+y))*g,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this},decompose:function(t,i,s){var r=this.elements,e=n.set(r[0],r[1],r[2]).length(),h=n.set(r[4],r[5],r[6]).length(),a=n.set(r[8],r[9],r[10]).length(),o=this.determinant();o<0&&(e=-e),t.x=r[12],t.y=r[13],t.z=r[14],c.copy(this);var u=1/e,l=1/h,m=1/a;return c.elements[0]*=u,c.elements[1]*=u,c.elements[2]*=u,c.elements[4]*=l,c.elements[5]*=l,c.elements[6]*=l,c.elements[8]*=m,c.elements[9]*=m,c.elements[10]*=m,i.setFromRotationMatrix(c),s.x=e,s.y=h,s.z=a,this},makePerspective:function(t,i,s,n,r,e){void 0===e&&console.warn("mathsMatrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var h=this.elements,a=2*r/(i-t),o=2*r/(s-n),u=(i+t)/(i-t),c=(s+n)/(s-n),l=-(e+r)/(e-r),m=-2*e*r/(e-r);return h[0]=a,h[4]=0,h[8]=u,h[12]=0,h[1]=0,h[5]=o,h[9]=c,h[13]=0,h[2]=0,h[6]=0,h[10]=l,h[14]=m,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this},makeOrthographic:function(t,i,s,n,r,e){var h=this.elements,a=1/(i-t),o=1/(s-n),u=1/(e-r),c=(i+t)*a,l=(s+n)*o,m=(e+r)*u;return h[0]=2*a,h[4]=0,h[8]=0,h[12]=-c,h[1]=0,h[5]=2*o,h[9]=0,h[13]=-l,h[2]=0,h[6]=0,h[10]=-2*u,h[14]=-m,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this},equals:function(t){for(var i=this.elements,s=t.elements,n=0;n<16;n++)if(i[n]!==s[n])return!1;return!0},fromArray:function(t,i){void 0===i&&(i=0);for(var s=0;s<16;s++)this.elements[s]=t[s+i];return this},toArray:function(t,i){void 0===t&&(t=[]),void 0===i&&(i=0);var s=this.elements;return t[i]=s[0],t[i+1]=s[1],t[i+2]=s[2],t[i+3]=s[3],t[i+4]=s[4],t[i+5]=s[5],t[i+6]=s[6],t[i+7]=s[7],t[i+8]=s[8],t[i+9]=s[9],t[i+10]=s[10],t[i+11]=s[11],t[i+12]=s[12],t[i+13]=s[13],t[i+14]=s[14],t[i+15]=s[15],t},_construct:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("mathsMatrix4: the constructor no longer reads arguments. use .set() instead.")}}),c=new u;return i.Matrix4=u}),t("skylark-langx-numerics/Euler",["skylark-langx-klass","./numerics","./maths","./Quaternion","./Vector3","./Matrix4"],function(t,i,s,n,r,e){var h=new e,a=new n,o=t({x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},isEuler:!0,set:function(t,i,s,n){return this._x=t,this._y=i,this._z=s,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,i,n){var r=s.clamp,e=t.elements,h=e[0],a=e[4],o=e[8],u=e[1],c=e[5],l=e[9],m=e[2],f=e[6],y=e[10];return"XYZ"===(i=i||this._order)?(this._y=Math.asin(r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,y),this._z=Math.atan2(-a,h)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===i?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,y),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-m,h),this._z=0)):"ZXY"===i?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-m,y),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,h))):"ZYX"===i?(this._y=Math.asin(-r(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(f,y),this._z=Math.atan2(u,h)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===i?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-m,h)):(this._x=0,this._y=Math.atan2(o,y))):"XZY"===i?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,h)):(this._x=Math.atan2(-l,y),this._y=0)):console.warn("skylark-nunustudio/editor/gui/element/RendererCanvasEuler: .setFromRotationMatrix() given unsupported order: "+i),this._order=i,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(t,i,s){return h.makeRotationFromQuaternion(t),this.setFromRotationMatrix(h,i,s)},setFromVector3:function(t,i){return this.set(t.x,t.y,t.z,i||this._order)},reorder:function(t){return a.setFromEuler(this),this.setFromQuaternion(a,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new r(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){},_construct:function(t,i,s,n){this._x=t||0,this._y=i||0,this._z=s||0,this._order=n||o.DefaultOrder}});return o.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],o.DefaultOrder="XYZ",i.Euler=o}),t("skylark-langx-numerics/Matrix3",["skylark-langx-klass","./numerics"],function(t,i){var s=t({klassName:"Matrix3",isMatrix3:!0,set:function(t,i,s,n,r,e,h,a,o){var u=this.elements;return u[0]=t,u[1]=n,u[2]=h,u[3]=i,u[4]=r,u[5]=a,u[6]=s,u[7]=e,u[8]=o,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var i=this.elements,s=t.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this},extractBasis:function(t,i,s){return t.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this},setFromMatrix4:function(t){var i=t.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,i){var s=t.elements,n=i.elements,r=this.elements,e=s[0],h=s[3],a=s[6],o=s[1],u=s[4],c=s[7],l=s[2],m=s[5],f=s[8],y=n[0],x=n[3],d=n[6],_=n[1],M=n[4],p=n[7],w=n[2],z=n[5],g=n[8];return r[0]=e*y+h*_+a*w,r[3]=e*x+h*M+a*z,r[6]=e*d+h*p+a*g,r[1]=o*y+u*_+c*w,r[4]=o*x+u*M+c*z,r[7]=o*d+u*p+c*g,r[2]=l*y+m*_+f*w,r[5]=l*x+m*M+f*z,r[8]=l*d+m*p+f*g,this},multiplyScalar:function(t){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=t,i[4]*=t,i[7]*=t,i[2]*=t,i[5]*=t,i[8]*=t,this},determinant:function(){var t=this.elements,i=t[0],s=t[1],n=t[2],r=t[3],e=t[4],h=t[5],a=t[6],o=t[7],u=t[8];return i*e*u-i*h*o-s*r*u+s*h*a+n*r*o-n*e*a},getInverse:function(t,i){void 0!==i&&console.warn("mathsMatrix3: .getInverse() can no longer be configured to throw on degenerate.");var s=t.elements,n=this.elements,r=s[0],e=s[1],h=s[2],a=s[3],o=s[4],u=s[5],c=s[6],l=s[7],m=s[8],f=m*o-u*l,y=u*c-m*a,x=l*a-o*c,d=r*f+e*y+h*x;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var _=1/d;return n[0]=f*_,n[1]=(h*l-m*e)*_,n[2]=(u*e-h*o)*_,n[3]=y*_,n[4]=(m*r-h*c)*_,n[5]=(h*a-u*r)*_,n[6]=x*_,n[7]=(e*c-l*r)*_,n[8]=(o*r-e*a)*_,this},transpose:function(){var t,i=this.elements;return t=i[1],i[1]=i[3],i[3]=t,t=i[2],i[2]=i[6],i[6]=t,t=i[5],i[5]=i[7],i[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var i=this.elements;return t[0]=i[0],t[1]=i[3],t[2]=i[6],t[3]=i[1],t[4]=i[4],t[5]=i[7],t[6]=i[2],t[7]=i[5],t[8]=i[8],this},setUvTransform:function(t,i,s,n,r,e,h){var a=Math.cos(r),o=Math.sin(r);this.set(s*a,s*o,-s*(a*e+o*h)+e+t,-n*o,n*a,-n*(-o*e+a*h)+h+i,0,0,1)},scale:function(t,i){var s=this.elements;return s[0]*=t,s[3]*=t,s[6]*=t,s[1]*=i,s[4]*=i,s[7]*=i,this},rotate:function(t){var i=Math.cos(t),s=Math.sin(t),n=this.elements,r=n[0],e=n[3],h=n[6],a=n[1],o=n[4],u=n[7];return n[0]=i*r+s*a,n[3]=i*e+s*o,n[6]=i*h+s*u,n[1]=-s*r+i*a,n[4]=-s*e+i*o,n[7]=-s*h+i*u,this},translate:function(t,i){var s=this.elements;return s[0]+=t*s[2],s[3]+=t*s[5],s[6]+=t*s[8],s[1]+=i*s[2],s[4]+=i*s[5],s[7]+=i*s[8],this},equals:function(t){for(var i=this.elements,s=t.elements,n=0;n<9;n++)if(i[n]!==s[n])return!1;return!0},fromArray:function(t,i){void 0===i&&(i=0);for(var s=0;s<9;s++)this.elements[s]=t[s+i];return this},toArray:function(t,i){void 0===t&&(t=[]),void 0===i&&(i=0);var s=this.elements;return t[i]=s[0],t[i+1]=s[1],t[i+2]=s[2],t[i+3]=s[3],t[i+4]=s[4],t[i+5]=s[5],t[i+6]=s[6],t[i+7]=s[7],t[i+8]=s[8],t},_construct:function(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("Matrix3: the constructor no longer reads arguments. use .set() instead.")}});return i.Matrix3=s}),t("skylark-langx-numerics/Transform",["skylark-langx-klass","./numerics"],function(t,i){var s=t({klassName:"Transform",value:{get:function(){return this._.value}}});return i.Transform=s}),t("skylark-langx-numerics/MatrixTransform",["./numerics","./Transform"],function(t,i){var s=i.inherit({klassName:"MatrixTransform",value:{get:function(){return this.matrix.clone()}},matrix:{get:function(){return this._.matrix}},clone:function(){},transform:function(t){},transformBounds:function(t){},_construct:function(t){var i=this._={};i.matrix=t}});return t.MatrixTransform=s}),t("skylark-langx-numerics/Plane",["skylark-langx-klass","./numerics","./Matrix3","./Vector3"],function(t,i,s,n){var r=new n,e=new n,h=new s,a=t({klassName:"Plane",set:function(t,i){return this.normal.copy(t),this.constant=i,this},setComponents:function(t,i,s,n){return this.normal.set(t,i,s),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,i){return this.normal.copy(t),this.constant=-i.dot(this.normal),this},setFromCoplanarPoints:function(t,i,s){var n=r.subVectors(s,i).cross(e.subVectors(t,i)).normalize();return this.setFromNormalAndCoplanarPoint(n,t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,i){return void 0===i&&(console.warn("mathsPlane: .projectPoint() target is now required"),i=new n),i.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(t,i){void 0===i&&(console.warn("mathsPlane: .intersectLine() target is now required"),i=new n);var s=t.delta(r),e=this.normal.dot(s);if(0===e)return 0===this.distanceToPoint(t.start)?i.copy(t.start):void 0;var h=-(t.start.dot(this.normal)+this.constant)/e;return h<0||h>1?void 0:i.copy(s).multiplyScalar(h).add(t.start)},intersectsLine:function(t){var i=this.distanceToPoint(t.start),s=this.distanceToPoint(t.end);return i<0&&s>0||s<0&&i>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("mathsPlane: .coplanarPoint() target is now required"),t=new n),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(t,i){var s=i||h.getNormalMatrix(t),n=this.coplanarPoint(r).applyMatrix4(t),e=this.normal.applyMatrix3(s).normalize();return this.constant=-n.dot(e),this},translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant},_construct:function(t,i){this.normal=void 0!==t?t:new n(1,0,0),this.constant=void 0!==i?i:0}});return i.Plane=a}),t("skylark-langx-numerics/RotateTransform",["./numerics","./Transform","./MatrixTransform"],function(t,i,s){var n=t.RotateTransform=i.inherit({klassName:"RotateTransform",value:{get:function(){return s.rotateAt(this.angle,this.centerX,this.centerY)}},angle:{get:function(){return this._.angle}},centerX:{get:function(){return this._.centerX}},centerY:{get:function(){return this._.centerY}},clone:function(){},transform:function(t){},transformBounds:function(t){},init:function(t,i,s){var n=this._={};n.angle=t||0,n.centerX=i||0,n.centerY=s||0}});return n}),t("skylark-langx-numerics/ScaleTransform",["./numerics","./Transform","./MatrixTransform"],function(t,i,s){var n=i.inherit({klassName:"ScaleTransform",value:{get:function(){return s.scaleAt(this.scaleX,this.scaleY,this.centerX,this.centerY)}},scaleX:{get:function(){return this._.scaleX}},scaleY:{get:function(){return this._.scaleY}},centerX:{get:function(){return this._.centerX}},centerY:{get:function(){return this._.centerY}},clone:function(){},transform:function(t){},transformBounds:function(t){},_construct:function(t,i,s,n){var r=this._={};r.scaleX=t||1,r.scaleY=i||1,r.centerX=s||0,r.centerY=n||0}});return t.ScaleTransform=n}),t("skylark-langx-numerics/SkewTransform",["./numerics","./Transform","./MatrixTransform"],function(t,i,s){var n=i.inherit({klassName:"SkewTransform",value:{get:function(){return s.scaleAt(this.skewX,this.skewY)}},skewX:{get:function(){return this._.skewX}},skewY:{get:function(){return this._.skewY}},clone:function(){},transform:function(t){},transformBounds:function(t){},_construct:function(t,i){var s=this._={};s.skewX=t||0,s.skewY=i||0}});return t.SkewTransform=n}),t("skylark-langx-numerics/Vector2",["skylark-langx-klass","./numerics"],function(t,i){var s=t({klassName:"Vector2",set:function(t,i){return this.x=t,this.y=i,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,i){return void 0!==i?(console.warn("Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this},sub:function(t,i){return void 0!==i?(console.warn("Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var i=this.x,s=this.y,n=t.elements;return this.x=n[0]*i+n[3]*s+n[6],this.y=n[1]*i+n[4]*s+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this},clampScalar:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this},clampLength:function(t,i){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var i=this.x-t.x,s=this.y-t.y;return i*i+s*s},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this},lerpVectors:function(t,i,s){return this.subVectors(i,t).multiplyScalar(s).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,i){return void 0===i&&(i=0),this.x=t[i],this.y=t[i+1],this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this.x,t[i+1]=this.y,t},rotateAround:function(t,i){var s=Math.cos(i),n=Math.sin(i),r=this.x-t.x,e=this.y-t.y;return this.x=r*s-e*n+t.x,this.y=r*n+e*s+t.y,this},_construct:function(t,i){this.x=t||0,this.y=i||0}});return i.Vector2=s}),t("skylark-langx-numerics/TransformMatrix",["skylark-langx-klass","./numerics","./Vector2"],function(t,i,s){var n=Math.PI/180,r={},e=function(t){return r[t]||(r[t]=Math.PI*t/180)},h=t({klassName:"TransformMatrix",_multiplyPoint:function(t){var i=this._,n=t.x*i.m11+t.y*i.m21+i.dx,r=t.x*i.m12+t.y*i.m22+i.dy;return new s(n,r)},m11:{get:function(){return this._.m11}},m12:{get:function(){return this._.m12}},m21:{get:function(){return this._.m21}},m22:{get:function(){return this._.m22}},dx:{get:function(){return this._.dx}},dy:{get:function(){return this._.dy}},alpha:{get:function(){return this._.alpha}},shadow:{get:function(){return this._.shadow}},compositeOperation:{get:function(){return this._.compositeOperation}},multiplyPoint:function(t){return this._multiplyPoint(t)},multiplyRectangle:function(t){if(this.isIdentity())return t.clone();var i=this.multiplyPoint(t.leftTop),s=this.multiplyPoint(t.leftBottom),n=this.multiplyPoint(t.right),r=this.multiplyPoint(t.rightBottom),e=Math.min(i.x,s.x,n.x,r.x),h=Math.min(i.y,s.y,n.y,r.y),a=Math.max(i.x,s.x,n.x,r.x),o=Math.max(i.y,s.y,n.y,r.y);return new Rect(e,h,a-e,o-h)},prepend:function(t,i,s,n,r,e){var h=this.dx;if(1!=t||0!=i||0!=s||1!=n){var a=this.m11,o=this.m21;this.m11=a*t+this.m12*s,this.m12=a*i+this.m12*n,this.m21=o*t+this.m22*s,this.m22=o*i+this.m22*n}return this.dx=h*t+this.dy*s+r,this.dy=h*i+this.dy*n+e,this},append:function(t,i,s,n,r,e){var h=this.m11,a=this.m12,o=this.m21,u=this.m22;return this.m11=t*h+i*o,this.m12=t*a+i*u,this.m21=s*h+n*o,this.m22=s*a+n*u,this.dx=r*h+e*o+this.dx,this.dy=r*a+e*u+this.dy,this},prependMatrix:function(t){return this.prepend(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),this.prependProperties(t.alpha,t.shadow,t.compositeOperation),this},appendMatrix:function(t){return this.append(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),this.appendProperties(t.alpha,t.shadow,t.compositeOperation),this},prependTransform:function(t,i,s,r,e,h,a,o,u){if(e%360)var c=e*n,l=Math.cos(c),m=Math.sin(c);else l=1,m=0;return(o||u)&&(this.dx-=o,this.dy-=u),h||a?(h*=n,a*=n,this.prepend(l*s,m*s,-m*r,l*r,0,0),this.prepend(Math.cos(a),Math.sin(a),-Math.sin(h),Math.cos(h),t,i)):this.prepend(l*s,m*s,-m*r,l*r,t,i),this},appendTransform:function(t,i,s,r,e,h,a,o,u){if(e%360)var c=e*n,l=Math.cos(c),m=Math.sin(c);else l=1,m=0;return h||a?(h*=n,a*=n,this.append(Math.cos(a),Math.sin(a),-Math.sin(h),Math.cos(h),t,i),this.append(l*s,m*s,-m*r,l*r,0,0)):this.append(l*s,m*s,-m*r,l*r,t,i),(o||u)&&(this.dx-=o*this.m11+u*this.m21,this.dy-=o*this.m12+u*this.m22),this},rotate:function(t){var i=Math.cos(t),s=Math.sin(t),n=this.m11,r=this.m21,e=this.dx;return this.m11=n*i-this.m12*s,this.m12=n*s+this.m12*i,this.m21=r*i-this.m22*s,this.m22=r*s+this.m22*i,this.dx=e*i-this.dy*s,this.dy=e*s+this.dy*i,this},skew:function(t,i){return t*=n,i*=n,this.append(Math.cos(i),Math.sin(i),-Math.sin(t),Math.cos(t),0,0),this},scale:function(t,i){return this.m11*=t,this.m22*=i,this.dx*=t,this.dy*=i,this},translate:function(t,i){return this.dx+=t,this.dy+=i,this},identity:function(){return this.alpha=this.m11=this.m22=1,this.m12=this.m21=this.dx=this.dy=0,this.shadow=this.compositeOperation=null,this},invert:function(){var t=this.m11,i=this.m12,s=this.m21,n=this.m22,r=this.dx,e=t*n-i*s;return this.m11=n/e,this.m12=-i/e,this.m21=-s/e,this.m22=t/e,this.dx=(s*this.dy-n*r)/e,this.dy=-(t*this.dy-i*r)/e,this},isIdentity:function(){return 0==this.dx&&0==this.dy&&1==this.m11&&0==this.m12&&0==this.m21&&1==this.m22},decompose:function(t){null==t&&(t={}),t.x=this.dx,t.y=this.dy,t.scaleX=Math.sqrt(this.m11*this.m11+this.m12*this.m12),t.scaleY=Math.sqrt(this.m21*this.m21+this.m22*this.m22);var i=Math.atan2(-this.m21,this.m22),s=Math.atan2(this.m12,this.m11);return i==s?(t.rotation=s/n,this.m11<0&&this.m22>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=i/n,t.skewY=s/n),t},reinitialize:function(t,i,s,n,r,e,h,a,o){return this._initialize(t,i,s,n,r,e),this.alpha=h||1,this.shadow=a,this.compositeOperation=o,this},appendProperties:function(t,i,s){return this.alpha*=t,this.shadow=i||this.shadow,this.compositeOperation=s||this.compositeOperation,this},prependProperties:function(t,i,s){return this.alpha*=t,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||s,this},multiply:function(t){var i=this.m11,s=this.m12,n=this.m21,r=this.m22,e=this.dx,h=this.dy,a=t;return this.m11=i*a.m11+n*a.m12,this.m12=s*a.m11+r*a.m12,this.m21=i*a.m21+n*a.m22,this.m22=s*a.m21+r*a.m22,this.dx=i*a.dx+n*a.dy+e,this.dy=s*a.dx+r*a.dy+h,this},clone:function(){var t=this._,i=new h(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy);return i.shadow=this.shadow,i.alpha=this.alpha,i.compositeOperation=this.compositeOperation,i},toString:function(){var t=this._;return"[TransformMatrix (m11="+t.m11+" m12="+t.m12+" m21="+t.m21+" m22="+t.m22+" dx="+t.dx+" dy="+t.dy+")]"},_construct:function(t,i,s,n,r,e){var h=this._={};h.m11=t||1,h.m12=i||0,h.m21=s||0,h.m22=n||1,h.dx=r||0,h.dy=e||0}});return Object.assign(h,{translate:function(t,i){return new h(1,0,0,1,t,i)},scale:function(t,i){return new h(t,0,0,i||t,0,0)},rotate:function(t){var i=Math.cos(t),s=Math.sin(t);return new h(i,s,-s,i,0,0)},rotateg:function(t){return this.rotate(e(t))},skewX:function(t){var i=Math.tan(t);return new h(1,0,i,1)},skewXg:function(t){return this.skewX(e(t))},skewY:function(t){var i=Math.tan(t);return new h(1,i,0,1)},skewYg:function(t){return this.skewY(e(t))},reflect:function(t,i){1==arguments.length&&(i=t.y,t=t.x);var s=t*t,n=i*i,r=s+n,e=2*s/r-1,a=2*t*i/r,o=a,u=2*n/r-1;return new h(e,o,a,u)},project:function(t,i){var s=t*t,n=i*i,r=s+n,e=s/r,a=t*i/r;return yx=a,yy=n/r,new h(e,yx,a,yy)},_sandwich:function(t,i,s){return this.translate(i,s).multiply(t).multiply(this.translate(-i,-s))},scaleAt:function(t,i,s,n){switch(arguments.length){case 4:return this._sandwich(this.scale(t,i),s,n);case 3:return"number"==typeof s?this._sandwich(this.scale(t),i,s):this._sandwich(this.scale(t,i),s.x,s.y)}return this._sandwich(this.scale(t),i.x,i.y)},rotateAt:function(t,i,s){return arguments.length>2?this._sandwich(this.rotate(t),i,s):this._sandwich(this.rotate(t),i.x,i.y)},rotategAt:function(t,i,s){return arguments.length>2?this._sandwich(this.rotateg(t),i,s):this._sandwich(this.rotateg(t),i.x,i.y)},skewXAt:function(t,i,s){return arguments.length>2?this._sandwich(this.skewX(t),i,s):this._sandwich(this.skewX(t),i.x,i.y)},skewXgAt:function(t,i,s){return arguments.length>2?this._sandwich(this.skewXg(t),i,s):this._sandwich(this.skewXg(t),i.x,i.y)},skewYAt:function(t,i,s){return arguments.length>2?this._sandwich(this.skewY(t),i,s):this._sandwich(this.skewY(t),i.x,i.y)},skewYgAt:function(t,i,s){return arguments.length>2?this._sandwich(this.skewYg(t),i,s):this._sandwich(this.skewYg(t),i.x,i.y)}}),i.TransformMatrix=h}),t("skylark-langx-numerics/TranslateTransform",["./numerics","./Transform","./MatrixTransform"],function(t,i,s,n,r){var e=i.inherit({klassName:"TranslateTransform",value:{get:function(){return s.scaleAt(this.x,this.y)}},x:{get:function(){return this._.x}},y:{get:function(){return this._.y}},clone:function(){},transform:function(t){},transformBounds:function(t){},init:function(t,i){var s=this._;s.x=t||0,s.y=i||0}});return t.TranslateTransform=e}),t("skylark-langx-numerics/Vector4",["skylark-langx-klass","./numerics"],function(t,i){var s=t({klassName:"Vector4",set:function(t,i,s,n){return this.x=t,this.y=i,this.z=s,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,i){return void 0!==i?(console.warn("Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this.w=t.w+i.w,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this.w+=t.w*i,this},sub:function(t,i){return void 0!==i?(console.warn("Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this.w=t.w-i.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var i=this.x,s=this.y,n=this.z,r=this.w,e=t.elements;return this.x=e[0]*i+e[4]*s+e[8]*n+e[12]*r,this.y=e[1]*i+e[5]*s+e[9]*n+e[13]*r,this.z=e[2]*i+e[6]*s+e[10]*n+e[14]*r,this.w=e[3]*i+e[7]*s+e[11]*n+e[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var i=Math.sqrt(1-t.w*t.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/i,this.y=t.y/i,this.z=t.z/i),this},setAxisAngleFromRotationMatrix:function(t){var i,s,n,r,e=t.elements,h=e[0],a=e[4],o=e[8],u=e[1],c=e[5],l=e[9],m=e[2],f=e[6],y=e[10];if(Math.abs(a-u)<.01&&Math.abs(o-m)<.01&&Math.abs(l-f)<.01){if(Math.abs(a+u)<.1&&Math.abs(o+m)<.1&&Math.abs(l+f)<.1&&Math.abs(h+c+y-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;var x=(h+1)/2,d=(c+1)/2,_=(y+1)/2,M=(a+u)/4,p=(o+m)/4,w=(l+f)/4;return x>d&&x>_?x<.01?(s=0,n=.707106781,r=.707106781):(s=Math.sqrt(x),n=M/s,r=p/s):d>_?d<.01?(s=.707106781,n=0,r=.707106781):(n=Math.sqrt(d),s=M/n,r=w/n):_<.01?(s=.707106781,n=.707106781,r=0):(r=Math.sqrt(_),s=p/r,n=w/r),this.set(s,n,r,i),this}var z=Math.sqrt((f-l)*(f-l)+(o-m)*(o-m)+(u-a)*(u-a));return Math.abs(z)<.001&&(z=1),this.x=(f-l)/z,this.y=(o-m)/z,this.z=(u-a)/z,this.w=Math.acos((h+c+y-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this.w=Math.max(t.w,Math.min(i.w,this.w)),this},clampScalar:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this.w=Math.max(t,Math.min(i,this.w)),this},clampLength:function(t,i){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this.w+=(t.w-this.w)*i,this},lerpVectors:function(t,i,s){return this.subVectors(i,t).multiplyScalar(s).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,i){return void 0===i&&(i=0),this.x=t[i],this.y=t[i+1],this.z=t[i+2],this.w=t[i+3],this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t[i+3]=this.w,t},fromBufferAttribute:function(t,i,s){return void 0!==s&&console.warn("Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this.w=t.getW(i),this},_construct:function(t,i,s,n){this.x=t||0,this.y=i||0,this.z=s||0,this.w=void 0!==n?n:1}});return i.Vector4=s}),t("skylark-langx-numerics/main",["./numerics","./Euler","./maths","./Matrix3","./Matrix4","./MatrixTransform","./Plane","./Quaternion","./RotateTransform","./ScaleTransform","./SkewTransform","./Transform","./TransformMatrix","./TranslateTransform","./Vector2","./Vector3","./Vector4"],function(t){return t}),t("skylark-langx-numerics",["skylark-langx-numerics/main"],function(t){return t})}(s),!n){var h=require("skylark-langx-ns");r?module.exports=h:i.skylarkjs=h}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-langx-numerics.js.map
