{"version":3,"sources":["skylark-langx-numerics.js"],"names":["define","skylark","types","attach","toFinite","toNumber","toInteger","numerics","_lut","i","toString","maths","DEG2RAD","Math","PI","RAD2DEG","clamp","value","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","lerp","y","t","smoothstep","smootherstep","randInt","low","high","floor","random","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","klass","Quaternion","klassName","get","this","_x","_onChangeCallback","_y","z","_z","w","_w","clone","constructor","copy","quaternion","setFromEuler","euler","update","isEuler","Error","c1","c3","s1","s3","setFromAxisAngle","axis","angle","halfAngle","s","setFromRotationMatrix","te","elements","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","sqrt","setFromUnitVectors","vFrom","vTo","r","dot","abs","normalize","angleTo","acos","rotateTowards","step","slerp","inverse","conjugate","v","lengthSq","length","l","multiply","p","undefined","multiplyQuaternions","premultiply","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","Number","EPSILON","sinHalfTheta","halfTheta","atan2","ratioA","ratioB","equals","fromArray","array","offset","toArray","fromBufferAttribute","attribute","index","getX","getY","getZ","getW","_onChange","callback","_construct","Object","assign","qa","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","f","prototype","_quaternion","Vector3","setScalar","scalar","setX","setY","setZ","setComponent","getComponent","add","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiplyVectors","multiplyScalar","applyEuler","error","applyQuaternion","applyAxisAngle","applyMatrix3","e","applyNormalMatrix","applyMatrix4","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","divide","divideScalar","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","manhattanLength","setLength","alpha","lerpVectors","v1","v2","cross","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","_vector","reflect","normal","theta","MathUtils","distanceTo","distanceToSquared","dx","dy","dz","manhattanDistanceTo","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","sx","setFromMatrixColumn","sy","sz","setFromMatrix3Column","_v1","_zero","_one","Matrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","identity","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","d","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","lookAt","eye","target","up","multiplyMatrices","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","determinant","transpose","tmp","setPosition","isVector3","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","detInv","scale","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","tx","ty","makeScale","makeShear","position","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","decompose","_m1","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","h","matrix","arguments","_matrix","Euler","_order","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","DefaultOrder","RotationOrders","Matrix3","isMatrix3","setFromMatrix4","g","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","rotation","cx","cy","rotate","translate","Transform","_","MatrixTransform","inherit","transform","point","transformBounds","rect","_vector1","_vector2","_normalMatrix","Plane","constant","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","plane","inverseNormalLength","distanceToPoint","distanceToSphere","sphere","center","projectPoint","intersectLine","line","direction","delta","start","intersectsLine","startSign","endSign","end","intersectsBox","box","intersectsPlane","intersectsSphere","coplanarPoint","optionalNormalMatrix","normalMatrix","referencePoint","Matrix","RotateTransform","rotateAt","centerX","centerY","init","ScaleTransform","scaleAt","SkewTransform","skewX","skewY","Vector2","rotateAround","DEG_TO_RAD","_degToRadCache","degree","TransformMatrix","_multiplyPoint","shadow","compositeOperation","multiplyPoint","multiplyRectangle","isIdentity","p0","leftTop","p1","leftBottom","p2","p3","rightBottom","minx","miny","maxx","maxy","Rect","prepend","tx1","append","d1","prependMatrix","prependProperties","appendMatrix","appendProperties","prependTransform","regX","regY","appendTransform","skew","invert","reinitialize","_initialize","mtx","rotateg","tan","skewXg","skewYg","n2","yx","_sandwich","rotategAt","skewXAt","skewXgAt","skewYAt","skewYgAt","Point","TranslateTransform","Vector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","main"],"mappings":"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","file":"../skylark-langx-numerics.js","sourcesContent":["define('skylark-langx-numerics/numerics',[\r\n    \"skylark-langx-ns\",\r\n    \"skylark-langx-types\"\r\n],function(skylark,types){\r\n\r\n\treturn  skylark.attach(\"langx.numerics\",{\r\n\t\ttoFinite : types.toFinite,\r\n\t\ttoNumber : types.toNumber,\r\n\t\ttoInteger : types.toInteger\r\n\t});\r\n});\ndefine('skylark-langx-numerics/maths',[\r\n    \"skylark-langx-ns\",\r\n    \"skylark-langx-types\",\r\n    \"./numerics\"\r\n],function(skylark,types,numerics){\r\n\r\n\r\n\tvar _lut = [];\r\n\r\n\tfor ( var i = 0; i < 256; i ++ ) {\r\n\r\n\t\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\r\n\r\n\t}\r\n\r\n\tvar maths = {\r\n\r\n\t\tDEG2RAD: Math.PI / 180,\r\n\t\tRAD2DEG: 180 / Math.PI,\r\n\r\n\r\n\r\n\t\tclamp: function ( value, min, max ) {\r\n\r\n\t\t\treturn Math.max( min, Math.min( max, value ) );\r\n\r\n\t\t},\r\n\r\n\t\t// compute euclidian modulo of m % n\r\n\t\t// https://en.wikipedia.org/wiki/Modulo_operation\r\n\r\n\t\teuclideanModulo: function ( n, m ) {\r\n\r\n\t\t\treturn ( ( n % m ) + m ) % m;\r\n\r\n\t\t},\r\n\r\n\t\t// Linear mapping from range <a1, a2> to range <b1, b2>\r\n\r\n\t\tmapLinear: function ( x, a1, a2, b1, b2 ) {\r\n\r\n\t\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\r\n\r\n\t\t},\r\n\r\n\t\t// https://en.wikipedia.org/wiki/Linear_interpolation\r\n\r\n\t\tlerp: function ( x, y, t ) {\r\n\r\n\t\t\treturn ( 1 - t ) * x + t * y;\r\n\r\n\t\t},\r\n\r\n\t\t// http://en.wikipedia.org/wiki/Smoothstep\r\n\r\n\t\tsmoothstep: function ( x, min, max ) {\r\n\r\n\t\t\tif ( x <= min ) return 0;\r\n\t\t\tif ( x >= max ) return 1;\r\n\r\n\t\t\tx = ( x - min ) / ( max - min );\r\n\r\n\t\t\treturn x * x * ( 3 - 2 * x );\r\n\r\n\t\t},\r\n\r\n\t\tsmootherstep: function ( x, min, max ) {\r\n\r\n\t\t\tif ( x <= min ) return 0;\r\n\t\t\tif ( x >= max ) return 1;\r\n\r\n\t\t\tx = ( x - min ) / ( max - min );\r\n\r\n\t\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\r\n\r\n\t\t},\r\n\r\n\t\t// Random integer from <low, high> interval\r\n\r\n\t\trandInt: function ( low, high ) {\r\n\r\n\t\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\r\n\r\n\t\t},\r\n\r\n\t\t// Random float from <low, high> interval\r\n\r\n\t\trandFloat: function ( low, high ) {\r\n\r\n\t\t\treturn low + Math.random() * ( high - low );\r\n\r\n\t\t},\r\n\r\n\t\t// Random float from <-range/2, range/2> interval\r\n\r\n\t\trandFloatSpread: function ( range ) {\r\n\r\n\t\t\treturn range * ( 0.5 - Math.random() );\r\n\r\n\t\t},\r\n\r\n\t\tdegToRad: function ( degrees ) {\r\n\r\n\t\t\treturn degrees * maths.DEG2RAD;\r\n\r\n\t\t},\r\n\r\n\t\tradToDeg: function ( radians ) {\r\n\r\n\t\t\treturn radians * maths.RAD2DEG;\r\n\r\n\t\t},\r\n\r\n\t\tisPowerOfTwo: function ( value ) {\r\n\r\n\t\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\r\n\r\n\t\t},\r\n\r\n\t\tceilPowerOfTwo: function ( value ) {\r\n\r\n\t\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\r\n\r\n\t\t},\r\n\r\n\t\tfloorPowerOfTwo: function ( value ) {\r\n\r\n\t\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\r\n\r\n\t\t},\r\n\r\n\t\tsetQuaternionFromProperEuler: function ( q, a, b, c, order ) {\r\n\r\n\t\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\r\n\r\n\t\t\t// rotations are applied to the axes in the order specified by 'order'\r\n\t\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\r\n\t\t\t// angles are in radians\r\n\r\n\t\t\tvar cos = Math.cos;\r\n\t\t\tvar sin = Math.sin;\r\n\r\n\t\t\tvar c2 = cos( b / 2 );\r\n\t\t\tvar s2 = sin( b / 2 );\r\n\r\n\t\t\tvar c13 = cos( ( a + c ) / 2 );\r\n\t\t\tvar s13 = sin( ( a + c ) / 2 );\r\n\r\n\t\t\tvar c1_3 = cos( ( a - c ) / 2 );\r\n\t\t\tvar s1_3 = sin( ( a - c ) / 2 );\r\n\r\n\t\t\tvar c3_1 = cos( ( c - a ) / 2 );\r\n\t\t\tvar s3_1 = sin( ( c - a ) / 2 );\r\n\r\n\t\t\tif ( order === 'XYX' ) {\r\n\r\n\t\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\r\n\r\n\t\t\t} else if ( order === 'YZY' ) {\r\n\r\n\t\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\r\n\r\n\t\t\t} else if ( order === 'ZXZ' ) {\r\n\r\n\t\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\r\n\r\n\t\t\t} else if ( order === 'XZX' ) {\r\n\r\n\t\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\r\n\r\n\t\t\t} else if ( order === 'YXY' ) {\r\n\r\n\t\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\r\n\r\n\t\t\t} else if ( order === 'ZYZ' ) {\r\n\r\n\t\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\r\n\treturn  numerics.maths = maths;\r\n});\ndefine('skylark-langx-numerics/Quaternion',[\r\n\t\"skylark-langx-klass\",\r\n\t\"./numerics\",\r\n\t\"./maths\"\r\n] ,function(klass,numerics,maths) {\r\n\r\n\tvar Quaternion = klass({\r\n\t\t\"klassName\" : \"Quaternion\",\r\n\r\n\t\tx: {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this._x;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis._x = value;\r\n\t\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\ty: {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this._y;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis._y = value;\r\n\t\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tz: {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this._z;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis._z = value;\r\n\t\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tw: {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this._w;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis._w = value;\r\n\t\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( x, y, z, w ) {\r\n\r\n\t\t\tthis._x = x;\r\n\t\t\tthis._y = y;\r\n\t\t\tthis._z = z;\r\n\t\t\tthis._w = w;\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( quaternion ) {\r\n\r\n\t\t\tthis._x = quaternion.x;\r\n\t\t\tthis._y = quaternion.y;\r\n\t\t\tthis._z = quaternion.z;\r\n\t\t\tthis._w = quaternion.w;\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromEuler: function ( euler, update ) {\r\n\r\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\r\n\r\n\t\t\t\tthrow new Error( 'mathsQuaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\r\n\r\n\t\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\r\n\t\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\r\n\t\t\t//\tcontent/SpinCalc.m\r\n\r\n\t\t\tvar cos = Math.cos;\r\n\t\t\tvar sin = Math.sin;\r\n\r\n\t\t\tvar c1 = cos( x / 2 );\r\n\t\t\tvar c2 = cos( y / 2 );\r\n\t\t\tvar c3 = cos( z / 2 );\r\n\r\n\t\t\tvar s1 = sin( x / 2 );\r\n\t\t\tvar s2 = sin( y / 2 );\r\n\t\t\tvar s3 = sin( z / 2 );\r\n\r\n\t\t\tif ( order === 'XYZ' ) {\r\n\r\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n\t\t\t} else if ( order === 'YXZ' ) {\r\n\r\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n\t\t\t} else if ( order === 'ZXY' ) {\r\n\r\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n\t\t\t} else if ( order === 'ZYX' ) {\r\n\r\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n\t\t\t} else if ( order === 'YZX' ) {\r\n\r\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n\t\t\t} else if ( order === 'XZY' ) {\r\n\r\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( update !== false ) this._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromAxisAngle: function ( axis, angle ) {\r\n\r\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\r\n\r\n\t\t\t// assumes axis is normalized\r\n\r\n\t\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\r\n\r\n\t\t\tthis._x = axis.x * s;\r\n\t\t\tthis._y = axis.y * s;\r\n\t\t\tthis._z = axis.z * s;\r\n\t\t\tthis._w = Math.cos( halfAngle );\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromRotationMatrix: function ( m ) {\r\n\r\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\r\n\r\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\t\tvar te = m.elements,\r\n\r\n\t\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\r\n\t\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\r\n\t\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\r\n\r\n\t\t\t\ttrace = m11 + m22 + m33,\r\n\t\t\t\ts;\r\n\r\n\t\t\tif ( trace > 0 ) {\r\n\r\n\t\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\r\n\r\n\t\t\t\tthis._w = 0.25 / s;\r\n\t\t\t\tthis._x = ( m32 - m23 ) * s;\r\n\t\t\t\tthis._y = ( m13 - m31 ) * s;\r\n\t\t\t\tthis._z = ( m21 - m12 ) * s;\r\n\r\n\t\t\t} else if ( m11 > m22 && m11 > m33 ) {\r\n\r\n\t\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\r\n\r\n\t\t\t\tthis._w = ( m32 - m23 ) / s;\r\n\t\t\t\tthis._x = 0.25 * s;\r\n\t\t\t\tthis._y = ( m12 + m21 ) / s;\r\n\t\t\t\tthis._z = ( m13 + m31 ) / s;\r\n\r\n\t\t\t} else if ( m22 > m33 ) {\r\n\r\n\t\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\r\n\r\n\t\t\t\tthis._w = ( m13 - m31 ) / s;\r\n\t\t\t\tthis._x = ( m12 + m21 ) / s;\r\n\t\t\t\tthis._y = 0.25 * s;\r\n\t\t\t\tthis._z = ( m23 + m32 ) / s;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\r\n\r\n\t\t\t\tthis._w = ( m21 - m12 ) / s;\r\n\t\t\t\tthis._x = ( m13 + m31 ) / s;\r\n\t\t\t\tthis._y = ( m23 + m32 ) / s;\r\n\t\t\t\tthis._z = 0.25 * s;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromUnitVectors: function ( vFrom, vTo ) {\r\n\r\n\t\t\t// assumes direction vectors vFrom and vTo are normalized\r\n\r\n\t\t\tvar EPS = 0.000001;\r\n\r\n\t\t\tvar r = vFrom.dot( vTo ) + 1;\r\n\r\n\t\t\tif ( r < EPS ) {\r\n\r\n\t\t\t\tr = 0;\r\n\r\n\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\r\n\r\n\t\t\t\t\tthis._x = - vFrom.y;\r\n\t\t\t\t\tthis._y = vFrom.x;\r\n\t\t\t\t\tthis._z = 0;\r\n\t\t\t\t\tthis._w = r;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._x = 0;\r\n\t\t\t\t\tthis._y = - vFrom.z;\r\n\t\t\t\t\tthis._z = vFrom.y;\r\n\t\t\t\t\tthis._w = r;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\r\n\r\n\t\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\r\n\t\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\r\n\t\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\r\n\t\t\t\tthis._w = r;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.normalize();\r\n\r\n\t\t},\r\n\r\n\t\tangleTo: function ( q ) {\r\n\r\n\t\t\treturn 2 * Math.acos( Math.abs( maths.clamp( this.dot( q ), - 1, 1 ) ) );\r\n\r\n\t\t},\r\n\r\n\t\trotateTowards: function ( q, step ) {\r\n\r\n\t\t\tvar angle = this.angleTo( q );\r\n\r\n\t\t\tif ( angle === 0 ) return this;\r\n\r\n\t\t\tvar t = Math.min( 1, step / angle );\r\n\r\n\t\t\tthis.slerp( q, t );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tinverse: function () {\r\n\r\n\t\t\t// quaternion is assumed to have unit length\r\n\r\n\t\t\treturn this.conjugate();\r\n\r\n\t\t},\r\n\r\n\t\tconjugate: function () {\r\n\r\n\t\t\tthis._x *= - 1;\r\n\t\t\tthis._y *= - 1;\r\n\t\t\tthis._z *= - 1;\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdot: function ( v ) {\r\n\r\n\t\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\r\n\r\n\t\t},\r\n\r\n\t\tlengthSq: function () {\r\n\r\n\t\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\r\n\r\n\t\t},\r\n\r\n\t\tlength: function () {\r\n\r\n\t\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\r\n\r\n\t\t},\r\n\r\n\t\tnormalize: function () {\r\n\r\n\t\t\tvar l = this.length();\r\n\r\n\t\t\tif ( l === 0 ) {\r\n\r\n\t\t\t\tthis._x = 0;\r\n\t\t\t\tthis._y = 0;\r\n\t\t\t\tthis._z = 0;\r\n\t\t\t\tthis._w = 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tl = 1 / l;\r\n\r\n\t\t\t\tthis._x = this._x * l;\r\n\t\t\t\tthis._y = this._y * l;\r\n\t\t\t\tthis._z = this._z * l;\r\n\t\t\t\tthis._w = this._w * l;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiply: function ( q, p ) {\r\n\r\n\t\t\tif ( p !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsQuaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\r\n\t\t\t\treturn this.multiplyQuaternions( q, p );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.multiplyQuaternions( this, q );\r\n\r\n\t\t},\r\n\r\n\t\tpremultiply: function ( q ) {\r\n\r\n\t\t\treturn this.multiplyQuaternions( q, this );\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyQuaternions: function ( a, b ) {\r\n\r\n\t\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\r\n\r\n\t\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\r\n\t\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\r\n\r\n\t\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\r\n\t\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\r\n\t\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\r\n\t\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tslerp: function ( qb, t ) {\r\n\r\n\t\t\tif ( t === 0 ) return this;\r\n\t\t\tif ( t === 1 ) return this.copy( qb );\r\n\r\n\t\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\r\n\r\n\t\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\r\n\r\n\t\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\r\n\r\n\t\t\tif ( cosHalfTheta < 0 ) {\r\n\r\n\t\t\t\tthis._w = - qb._w;\r\n\t\t\t\tthis._x = - qb._x;\r\n\t\t\t\tthis._y = - qb._y;\r\n\t\t\t\tthis._z = - qb._z;\r\n\r\n\t\t\t\tcosHalfTheta = - cosHalfTheta;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.copy( qb );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( cosHalfTheta >= 1.0 ) {\r\n\r\n\t\t\t\tthis._w = w;\r\n\t\t\t\tthis._x = x;\r\n\t\t\t\tthis._y = y;\r\n\t\t\t\tthis._z = z;\r\n\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\r\n\r\n\t\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\r\n\r\n\t\t\t\tvar s = 1 - t;\r\n\t\t\t\tthis._w = s * w + t * this._w;\r\n\t\t\t\tthis._x = s * x + t * this._x;\r\n\t\t\t\tthis._y = s * y + t * this._y;\r\n\t\t\t\tthis._z = s * z + t * this._z;\r\n\r\n\t\t\t\tthis.normalize();\r\n\t\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\r\n\t\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\r\n\t\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\r\n\t\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\r\n\r\n\t\t\tthis._w = ( w * ratioA + this._w * ratioB );\r\n\t\t\tthis._x = ( x * ratioA + this._x * ratioB );\r\n\t\t\tthis._y = ( y * ratioA + this._y * ratioB );\r\n\t\t\tthis._z = ( z * ratioA + this._z * ratioB );\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( quaternion ) {\r\n\r\n\t\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\r\n\r\n\t\t},\r\n\r\n\t\tfromArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tthis._x = array[ offset ];\r\n\t\t\tthis._y = array[ offset + 1 ];\r\n\t\t\tthis._z = array[ offset + 2 ];\r\n\t\t\tthis._w = array[ offset + 3 ];\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( array === undefined ) array = [];\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tarray[ offset ] = this._x;\r\n\t\t\tarray[ offset + 1 ] = this._y;\r\n\t\t\tarray[ offset + 2 ] = this._z;\r\n\t\t\tarray[ offset + 3 ] = this._w;\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t},\r\n\r\n\t\tfromBufferAttribute: function ( attribute, index ) {\r\n\r\n\t\t\tthis._x = attribute.getX( index );\r\n\t\t\tthis._y = attribute.getY( index );\r\n\t\t\tthis._z = attribute.getZ( index );\r\n\t\t\tthis._w = attribute.getW( index );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\t_onChange: function ( callback ) {\r\n\r\n\t\t\tthis._onChangeCallback = callback;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\t_onChangeCallback: function () {},\r\n\r\n\r\n\t\t\"_construct\" : function ( x, y, z, w ) {\r\n\r\n\t\t\tthis._x = x || 0;\r\n\t\t\tthis._y = y || 0;\r\n\t\t\tthis._z = z || 0;\r\n\t\t\tthis._w = ( w !== undefined ) ? w : 1;\r\n\r\n\t\t}\r\n\r\n\r\n\t})\r\n\r\n\r\n\tObject.assign( Quaternion, {\r\n\r\n\t\tslerp: function ( qa, qb, qm, t ) {\r\n\r\n\t\t\treturn qm.copy( qa ).slerp( qb, t );\r\n\r\n\t\t},\r\n\r\n\t\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\r\n\r\n\t\t\t// fuzz-free, array-based Quaternion SLERP operation\r\n\r\n\t\t\tvar x0 = src0[ srcOffset0 + 0 ],\r\n\t\t\t\ty0 = src0[ srcOffset0 + 1 ],\r\n\t\t\t\tz0 = src0[ srcOffset0 + 2 ],\r\n\t\t\t\tw0 = src0[ srcOffset0 + 3 ],\r\n\r\n\t\t\t\tx1 = src1[ srcOffset1 + 0 ],\r\n\t\t\t\ty1 = src1[ srcOffset1 + 1 ],\r\n\t\t\t\tz1 = src1[ srcOffset1 + 2 ],\r\n\t\t\t\tw1 = src1[ srcOffset1 + 3 ];\r\n\r\n\t\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\r\n\r\n\t\t\t\tvar s = 1 - t,\r\n\r\n\t\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\r\n\r\n\t\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\r\n\t\t\t\t\tsqrSin = 1 - cos * cos;\r\n\r\n\t\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\r\n\t\t\t\tif ( sqrSin > Number.EPSILON ) {\r\n\r\n\t\t\t\t\tvar sin = Math.sqrt( sqrSin ),\r\n\t\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\r\n\r\n\t\t\t\t\ts = Math.sin( s * len ) / sin;\r\n\t\t\t\t\tt = Math.sin( t * len ) / sin;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar tDir = t * dir;\r\n\r\n\t\t\t\tx0 = x0 * s + x1 * tDir;\r\n\t\t\t\ty0 = y0 * s + y1 * tDir;\r\n\t\t\t\tz0 = z0 * s + z1 * tDir;\r\n\t\t\t\tw0 = w0 * s + w1 * tDir;\r\n\r\n\t\t\t\t// Normalize in case we just did a lerp:\r\n\t\t\t\tif ( s === 1 - t ) {\r\n\r\n\t\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\r\n\r\n\t\t\t\t\tx0 *= f;\r\n\t\t\t\t\ty0 *= f;\r\n\t\t\t\t\tz0 *= f;\r\n\t\t\t\t\tw0 *= f;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdst[ dstOffset ] = x0;\r\n\t\t\tdst[ dstOffset + 1 ] = y0;\r\n\t\t\tdst[ dstOffset + 2 ] = z0;\r\n\t\t\tdst[ dstOffset + 3 ] = w0;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tObject.assign( Quaternion.prototype, {\r\n\r\n\r\n\t} );\r\n\r\n\r\n\treturn numerics.Quaternion = Quaternion;\r\n\r\n\r\n});\ndefine('skylark-langx-numerics/Vector3',[\r\n\t\"skylark-langx-klass\",\r\n\t\"./numerics\",\r\n\t\"./maths\",\r\n\t\"./Quaternion\"\r\n] ,function(\r\n\tklass,\r\n\tnumerics,\r\n\tmaths,\r\n\tQuaternion\r\n) {\r\n\r\n\tvar _quaternion = new Quaternion();\r\n\r\n\tvar Vector3 = klass({\r\n\t\t\"klassName\" : \"Vector3\",\r\n\r\n\t\tset: function ( x, y, z ) {\r\n\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t\tthis.z = z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetScalar: function ( scalar ) {\r\n\r\n\t\t\tthis.x = scalar;\r\n\t\t\tthis.y = scalar;\r\n\t\t\tthis.z = scalar;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetX: function ( x ) {\r\n\r\n\t\t\tthis.x = x;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetY: function ( y ) {\r\n\r\n\t\t\tthis.y = y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetZ: function ( z ) {\r\n\r\n\t\t\tthis.z = z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetComponent: function ( index, value ) {\r\n\r\n\t\t\tswitch ( index ) {\r\n\r\n\t\t\t\tcase 0: this.x = value; break;\r\n\t\t\t\tcase 1: this.y = value; break;\r\n\t\t\t\tcase 2: this.z = value; break;\r\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tgetComponent: function ( index ) {\r\n\r\n\t\t\tswitch ( index ) {\r\n\r\n\t\t\t\tcase 0: return this.x;\r\n\t\t\t\tcase 1: return this.y;\r\n\t\t\t\tcase 2: return this.z;\r\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new this.constructor( this.x, this.y, this.z );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( v ) {\r\n\r\n\t\t\tthis.x = v.x;\r\n\t\t\tthis.y = v.y;\r\n\t\t\tthis.z = v.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tadd: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsVector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x += v.x;\r\n\t\t\tthis.y += v.y;\r\n\t\t\tthis.z += v.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddScalar: function ( s ) {\r\n\r\n\t\t\tthis.x += s;\r\n\t\t\tthis.y += s;\r\n\t\t\tthis.z += s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddVectors: function ( a, b ) {\r\n\r\n\t\t\tthis.x = a.x + b.x;\r\n\t\t\tthis.y = a.y + b.y;\r\n\t\t\tthis.z = a.z + b.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddScaledVector: function ( v, s ) {\r\n\r\n\t\t\tthis.x += v.x * s;\r\n\t\t\tthis.y += v.y * s;\r\n\t\t\tthis.z += v.z * s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsub: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsVector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x -= v.x;\r\n\t\t\tthis.y -= v.y;\r\n\t\t\tthis.z -= v.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsubScalar: function ( s ) {\r\n\r\n\t\t\tthis.x -= s;\r\n\t\t\tthis.y -= s;\r\n\t\t\tthis.z -= s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsubVectors: function ( a, b ) {\r\n\r\n\t\t\tthis.x = a.x - b.x;\r\n\t\t\tthis.y = a.y - b.y;\r\n\t\t\tthis.z = a.z - b.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiply: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsVector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.multiplyVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x *= v.x;\r\n\t\t\tthis.y *= v.y;\r\n\t\t\tthis.z *= v.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\t\tthis.x *= scalar;\r\n\t\t\tthis.y *= scalar;\r\n\t\t\tthis.z *= scalar;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyVectors: function ( a, b ) {\r\n\r\n\t\t\tthis.x = a.x * b.x;\r\n\t\t\tthis.y = a.y * b.y;\r\n\t\t\tthis.z = a.z * b.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tapplyEuler: function ( euler ) {\r\n\r\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\r\n\r\n\t\t\t\tconsole.error( 'mathsVector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\r\n\r\n\t\t},\r\n\r\n\t\tapplyAxisAngle: function ( axis, angle ) {\r\n\r\n\t\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\r\n\r\n\t\t},\r\n\r\n\t\tapplyMatrix3: function ( m ) {\r\n\r\n\t\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\t\tvar e = m.elements;\r\n\r\n\t\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\r\n\t\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\r\n\t\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tapplyNormalMatrix: function ( m ) {\r\n\r\n\t\t\treturn this.applyMatrix3( m ).normalize();\r\n\r\n\t\t},\r\n\r\n\t\tapplyMatrix4: function ( m ) {\r\n\r\n\t\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\t\tvar e = m.elements;\r\n\r\n\t\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\r\n\r\n\t\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\r\n\t\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\r\n\t\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tapplyQuaternion: function ( q ) {\r\n\r\n\t\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\r\n\r\n\t\t\t// calculate quat * vector\r\n\r\n\t\t\tvar ix = qw * x + qy * z - qz * y;\r\n\t\t\tvar iy = qw * y + qz * x - qx * z;\r\n\t\t\tvar iz = qw * z + qx * y - qy * x;\r\n\t\t\tvar iw = - qx * x - qy * y - qz * z;\r\n\r\n\t\t\t// calculate result * inverse quat\r\n\r\n\t\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\r\n\t\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\r\n\t\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tproject: function ( camera ) {\r\n\r\n\t\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\r\n\r\n\t\t},\r\n\r\n\t\tunproject: function ( camera ) {\r\n\r\n\t\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\r\n\r\n\t\t},\r\n\r\n\t\ttransformDirection: function ( m ) {\r\n\r\n\t\t\t// input: mathsMatrix4 affine matrix\r\n\t\t\t// vector interpreted as a direction\r\n\r\n\t\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\t\tvar e = m.elements;\r\n\r\n\t\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\r\n\t\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\r\n\t\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\r\n\r\n\t\t\treturn this.normalize();\r\n\r\n\t\t},\r\n\r\n\t\tdivide: function ( v ) {\r\n\r\n\t\t\tthis.x /= v.x;\r\n\t\t\tthis.y /= v.y;\r\n\t\t\tthis.z /= v.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdivideScalar: function ( scalar ) {\r\n\r\n\t\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t\t},\r\n\r\n\t\tmin: function ( v ) {\r\n\r\n\t\t\tthis.x = Math.min( this.x, v.x );\r\n\t\t\tthis.y = Math.min( this.y, v.y );\r\n\t\t\tthis.z = Math.min( this.z, v.z );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmax: function ( v ) {\r\n\r\n\t\t\tthis.x = Math.max( this.x, v.x );\r\n\t\t\tthis.y = Math.max( this.y, v.y );\r\n\t\t\tthis.z = Math.max( this.z, v.z );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclamp: function ( min, max ) {\r\n\r\n\t\t\t// assumes min < max, componentwise\r\n\r\n\t\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\t\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclampScalar: function ( minVal, maxVal ) {\r\n\r\n\t\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\t\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclampLength: function ( min, max ) {\r\n\r\n\t\t\tvar length = this.length();\r\n\r\n\t\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t\t},\r\n\r\n\t\tfloor: function () {\r\n\r\n\t\t\tthis.x = Math.floor( this.x );\r\n\t\t\tthis.y = Math.floor( this.y );\r\n\t\t\tthis.z = Math.floor( this.z );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tceil: function () {\r\n\r\n\t\t\tthis.x = Math.ceil( this.x );\r\n\t\t\tthis.y = Math.ceil( this.y );\r\n\t\t\tthis.z = Math.ceil( this.z );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tround: function () {\r\n\r\n\t\t\tthis.x = Math.round( this.x );\r\n\t\t\tthis.y = Math.round( this.y );\r\n\t\t\tthis.z = Math.round( this.z );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\troundToZero: function () {\r\n\r\n\t\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\t\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tnegate: function () {\r\n\r\n\t\t\tthis.x = - this.x;\r\n\t\t\tthis.y = - this.y;\r\n\t\t\tthis.z = - this.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdot: function ( v ) {\r\n\r\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\r\n\r\n\t\t},\r\n\r\n\t\t// TODO lengthSquared?\r\n\r\n\t\tlengthSq: function () {\r\n\r\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\r\n\r\n\t\t},\r\n\r\n\t\tlength: function () {\r\n\r\n\t\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\r\n\r\n\t\t},\r\n\r\n\t\tmanhattanLength: function () {\r\n\r\n\t\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\r\n\r\n\t\t},\r\n\r\n\t\tnormalize: function () {\r\n\r\n\t\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t\t},\r\n\r\n\t\tsetLength: function ( length ) {\r\n\r\n\t\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t\t},\r\n\r\n\t\tlerp: function ( v, alpha ) {\r\n\r\n\t\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\t\t\tthis.z += ( v.z - this.z ) * alpha;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t\t},\r\n\r\n\t\tcross: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsVector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.crossVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.crossVectors( this, v );\r\n\r\n\t\t},\r\n\r\n\t\tcrossVectors: function ( a, b ) {\r\n\r\n\t\t\tvar ax = a.x, ay = a.y, az = a.z;\r\n\t\t\tvar bx = b.x, by = b.y, bz = b.z;\r\n\r\n\t\t\tthis.x = ay * bz - az * by;\r\n\t\t\tthis.y = az * bx - ax * bz;\r\n\t\t\tthis.z = ax * by - ay * bx;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tprojectOnVector: function ( v ) {\r\n\r\n\t\t\tvar denominator = v.lengthSq();\r\n\r\n\t\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\r\n\r\n\t\t\tvar scalar = v.dot( this ) / denominator;\r\n\r\n\t\t\treturn this.copy( v ).multiplyScalar( scalar );\r\n\r\n\t\t},\r\n\r\n\t\tprojectOnPlane: function ( planeNormal ) {\r\n\r\n\t\t\t_vector.copy( this ).projectOnVector( planeNormal );\r\n\r\n\t\t\treturn this.sub( _vector );\r\n\r\n\t\t},\r\n\r\n\t\treflect: function ( normal ) {\r\n\r\n\t\t\t// reflect incident vector off plane orthogonal to normal\r\n\t\t\t// normal is assumed to have unit length\r\n\r\n\t\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\r\n\r\n\t\t},\r\n\r\n\t\tangleTo: function ( v ) {\r\n\r\n\t\t\tvar denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\r\n\r\n\t\t\tif ( denominator === 0 ) return Math.PI / 2;\r\n\r\n\t\t\tvar theta = this.dot( v ) / denominator;\r\n\r\n\t\t\t// clamp, to handle numerical problems\r\n\r\n\t\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\r\n\r\n\t\t},\r\n\r\n\t\tdistanceTo: function ( v ) {\r\n\r\n\t\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t\t},\r\n\r\n\t\tdistanceToSquared: function ( v ) {\r\n\r\n\t\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\r\n\r\n\t\t\treturn dx * dx + dy * dy + dz * dz;\r\n\r\n\t\t},\r\n\r\n\t\tmanhattanDistanceTo: function ( v ) {\r\n\r\n\t\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\r\n\r\n\t\t},\r\n\r\n\t\tsetFromSpherical: function ( s ) {\r\n\r\n\t\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\r\n\r\n\t\t},\r\n\r\n\t\tsetFromSphericalCoords: function ( radius, phi, theta ) {\r\n\r\n\t\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\r\n\r\n\t\t\tthis.x = sinPhiRadius * Math.sin( theta );\r\n\t\t\tthis.y = Math.cos( phi ) * radius;\r\n\t\t\tthis.z = sinPhiRadius * Math.cos( theta );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromCylindrical: function ( c ) {\r\n\r\n\t\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\r\n\r\n\t\t},\r\n\r\n\t\tsetFromCylindricalCoords: function ( radius, theta, y ) {\r\n\r\n\t\t\tthis.x = radius * Math.sin( theta );\r\n\t\t\tthis.y = y;\r\n\t\t\tthis.z = radius * Math.cos( theta );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromMatrixPosition: function ( m ) {\r\n\r\n\t\t\tvar e = m.elements;\r\n\r\n\t\t\tthis.x = e[ 12 ];\r\n\t\t\tthis.y = e[ 13 ];\r\n\t\t\tthis.z = e[ 14 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromMatrixScale: function ( m ) {\r\n\r\n\t\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\r\n\t\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\r\n\t\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\r\n\r\n\t\t\tthis.x = sx;\r\n\t\t\tthis.y = sy;\r\n\t\t\tthis.z = sz;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromMatrixColumn: function ( m, index ) {\r\n\r\n\t\t\treturn this.fromArray( m.elements, index * 4 );\r\n\r\n\t\t},\r\n\r\n\t\tsetFromMatrix3Column: function ( m, index ) {\r\n\r\n\t\t\treturn this.fromArray( m.elements, index * 3 );\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( v ) {\r\n\r\n\t\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\r\n\r\n\t\t},\r\n\r\n\t\tfromArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tthis.x = array[ offset ];\r\n\t\t\tthis.y = array[ offset + 1 ];\r\n\t\t\tthis.z = array[ offset + 2 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( array === undefined ) array = [];\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tarray[ offset ] = this.x;\r\n\t\t\tarray[ offset + 1 ] = this.y;\r\n\t\t\tarray[ offset + 2 ] = this.z;\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t},\r\n\r\n\t\tfromBufferAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsVector3: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x = attribute.getX( index );\r\n\t\t\tthis.y = attribute.getY( index );\r\n\t\t\tthis.z = attribute.getZ( index );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\r\n\t\t\"_construct\" : function ( x, y, z ) {\r\n\r\n\t\t\tthis.x = x || 0;\r\n\t\t\tthis.y = y || 0;\r\n\t\t\tthis.z = z || 0;\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tvar _vector = new Vector3();\r\n\r\n\r\n\treturn numerics.Vector3 = Vector3;\r\n});\ndefine('skylark-langx-numerics/Matrix4',[\r\n\t\"skylark-langx-klass\",\r\n\t\"./numerics\",\r\n\t\"./Vector3\"\r\n] ,function(\r\n\tklass,\r\n\tnumerics,\r\n\tVector3\r\n) {\r\n\r\n\tvar _v1 = new Vector3();\r\n\tvar _zero = new Vector3( 0, 0, 0 );\r\n\tvar _one = new Vector3( 1, 1, 1 );\r\n\tvar _x = new Vector3();\r\n\tvar _y = new Vector3();\r\n\tvar _z = new Vector3();\r\n\r\n\tvar Matrix4 = klass({\r\n\t\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\r\n\t\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\r\n\t\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\r\n\t\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tidentity: function () {\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\t1, 0, 0, 0,\r\n\t\t\t\t0, 1, 0, 0,\r\n\t\t\t\t0, 0, 1, 0,\r\n\t\t\t\t0, 0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new Matrix4().fromArray( this.elements );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( m ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar me = m.elements;\r\n\r\n\t\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\r\n\t\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\r\n\t\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\r\n\t\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tcopyPosition: function ( m ) {\r\n\r\n\t\t\tvar te = this.elements, me = m.elements;\r\n\r\n\t\t\tte[ 12 ] = me[ 12 ];\r\n\t\t\tte[ 13 ] = me[ 13 ];\r\n\t\t\tte[ 14 ] = me[ 14 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\textractBasis: function ( xAxis, yAxis, zAxis ) {\r\n\r\n\t\t\txAxis.setFromMatrixColumn( this, 0 );\r\n\t\t\tyAxis.setFromMatrixColumn( this, 1 );\r\n\t\t\tzAxis.setFromMatrixColumn( this, 2 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\r\n\r\n\t\t\tthis.set(\r\n\t\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\r\n\t\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\r\n\t\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\r\n\t\t\t\t0, 0, 0, 1\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\textractRotation: function ( m ) {\r\n\r\n\t\t\t// this method does not support reflection matrices\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar me = m.elements;\r\n\r\n\t\t\tvar scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\r\n\t\t\tvar scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\r\n\t\t\tvar scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\r\n\r\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\r\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\r\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\r\n\t\t\tte[ 3 ] = 0;\r\n\r\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\r\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\r\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\r\n\t\t\tte[ 7 ] = 0;\r\n\r\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\r\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\r\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\r\n\t\t\tte[ 11 ] = 0;\r\n\r\n\t\t\tte[ 12 ] = 0;\r\n\t\t\tte[ 13 ] = 0;\r\n\t\t\tte[ 14 ] = 0;\r\n\t\t\tte[ 15 ] = 1;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeRotationFromEuler: function ( euler ) {\r\n\r\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\r\n\r\n\t\t\t\tconsole.error( 'mathsMatrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar x = euler.x, y = euler.y, z = euler.z;\r\n\t\t\tvar a = Math.cos( x ), b = Math.sin( x );\r\n\t\t\tvar c = Math.cos( y ), d = Math.sin( y );\r\n\t\t\tvar e = Math.cos( z ), f = Math.sin( z );\r\n\r\n\t\t\tif ( euler.order === 'XYZ' ) {\r\n\r\n\t\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\r\n\r\n\t\t\t\tte[ 0 ] = c * e;\r\n\t\t\t\tte[ 4 ] = - c * f;\r\n\t\t\t\tte[ 8 ] = d;\r\n\r\n\t\t\t\tte[ 1 ] = af + be * d;\r\n\t\t\t\tte[ 5 ] = ae - bf * d;\r\n\t\t\t\tte[ 9 ] = - b * c;\r\n\r\n\t\t\t\tte[ 2 ] = bf - ae * d;\r\n\t\t\t\tte[ 6 ] = be + af * d;\r\n\t\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t\t} else if ( euler.order === 'YXZ' ) {\r\n\r\n\t\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\r\n\r\n\t\t\t\tte[ 0 ] = ce + df * b;\r\n\t\t\t\tte[ 4 ] = de * b - cf;\r\n\t\t\t\tte[ 8 ] = a * d;\r\n\r\n\t\t\t\tte[ 1 ] = a * f;\r\n\t\t\t\tte[ 5 ] = a * e;\r\n\t\t\t\tte[ 9 ] = - b;\r\n\r\n\t\t\t\tte[ 2 ] = cf * b - de;\r\n\t\t\t\tte[ 6 ] = df + ce * b;\r\n\t\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t\t} else if ( euler.order === 'ZXY' ) {\r\n\r\n\t\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\r\n\r\n\t\t\t\tte[ 0 ] = ce - df * b;\r\n\t\t\t\tte[ 4 ] = - a * f;\r\n\t\t\t\tte[ 8 ] = de + cf * b;\r\n\r\n\t\t\t\tte[ 1 ] = cf + de * b;\r\n\t\t\t\tte[ 5 ] = a * e;\r\n\t\t\t\tte[ 9 ] = df - ce * b;\r\n\r\n\t\t\t\tte[ 2 ] = - a * d;\r\n\t\t\t\tte[ 6 ] = b;\r\n\t\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t\t} else if ( euler.order === 'ZYX' ) {\r\n\r\n\t\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\r\n\r\n\t\t\t\tte[ 0 ] = c * e;\r\n\t\t\t\tte[ 4 ] = be * d - af;\r\n\t\t\t\tte[ 8 ] = ae * d + bf;\r\n\r\n\t\t\t\tte[ 1 ] = c * f;\r\n\t\t\t\tte[ 5 ] = bf * d + ae;\r\n\t\t\t\tte[ 9 ] = af * d - be;\r\n\r\n\t\t\t\tte[ 2 ] = - d;\r\n\t\t\t\tte[ 6 ] = b * c;\r\n\t\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t\t} else if ( euler.order === 'YZX' ) {\r\n\r\n\t\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\r\n\r\n\t\t\t\tte[ 0 ] = c * e;\r\n\t\t\t\tte[ 4 ] = bd - ac * f;\r\n\t\t\t\tte[ 8 ] = bc * f + ad;\r\n\r\n\t\t\t\tte[ 1 ] = f;\r\n\t\t\t\tte[ 5 ] = a * e;\r\n\t\t\t\tte[ 9 ] = - b * e;\r\n\r\n\t\t\t\tte[ 2 ] = - d * e;\r\n\t\t\t\tte[ 6 ] = ad * f + bc;\r\n\t\t\t\tte[ 10 ] = ac - bd * f;\r\n\r\n\t\t\t} else if ( euler.order === 'XZY' ) {\r\n\r\n\t\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\r\n\r\n\t\t\t\tte[ 0 ] = c * e;\r\n\t\t\t\tte[ 4 ] = - f;\r\n\t\t\t\tte[ 8 ] = d * e;\r\n\r\n\t\t\t\tte[ 1 ] = ac * f + bd;\r\n\t\t\t\tte[ 5 ] = a * e;\r\n\t\t\t\tte[ 9 ] = ad * f - bc;\r\n\r\n\t\t\t\tte[ 2 ] = bc * f - ad;\r\n\t\t\t\tte[ 6 ] = b * e;\r\n\t\t\t\tte[ 10 ] = bd * f + ac;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// bottom row\r\n\t\t\tte[ 3 ] = 0;\r\n\t\t\tte[ 7 ] = 0;\r\n\t\t\tte[ 11 ] = 0;\r\n\r\n\t\t\t// last column\r\n\t\t\tte[ 12 ] = 0;\r\n\t\t\tte[ 13 ] = 0;\r\n\t\t\tte[ 14 ] = 0;\r\n\t\t\tte[ 15 ] = 1;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeRotationFromQuaternion: function ( q ) {\r\n\r\n\t\t\treturn this.compose( _zero, q, _one );\r\n\r\n\t\t},\r\n\r\n\t\tlookAt: function ( eye, target, up ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\t_z.subVectors( eye, target );\r\n\r\n\t\t\tif ( _z.lengthSq() === 0 ) {\r\n\r\n\t\t\t\t// eye and target are in the same position\r\n\r\n\t\t\t\t_z.z = 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_z.normalize();\r\n\t\t\t_x.crossVectors( up, _z );\r\n\r\n\t\t\tif ( _x.lengthSq() === 0 ) {\r\n\r\n\t\t\t\t// up and z are parallel\r\n\r\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\r\n\r\n\t\t\t\t\t_z.x += 0.0001;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_z.z += 0.0001;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_z.normalize();\r\n\t\t\t\t_x.crossVectors( up, _z );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_x.normalize();\r\n\t\t\t_y.crossVectors( _z, _x );\r\n\r\n\t\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\r\n\t\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\r\n\t\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiply: function ( m, n ) {\r\n\r\n\t\t\tif ( n !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsMatrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\r\n\t\t\t\treturn this.multiplyMatrices( m, n );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.multiplyMatrices( this, m );\r\n\r\n\t\t},\r\n\r\n\t\tpremultiply: function ( m ) {\r\n\r\n\t\t\treturn this.multiplyMatrices( m, this );\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyMatrices: function ( a, b ) {\r\n\r\n\t\t\tvar ae = a.elements;\r\n\t\t\tvar be = b.elements;\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\r\n\t\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\r\n\t\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\r\n\t\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\r\n\r\n\t\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\r\n\t\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\r\n\t\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\r\n\t\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\r\n\r\n\t\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\r\n\t\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\r\n\t\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\r\n\t\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\r\n\r\n\t\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\r\n\t\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\r\n\t\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\r\n\t\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\r\n\r\n\t\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\r\n\t\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\r\n\t\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\r\n\t\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\r\n\r\n\t\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\r\n\t\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\r\n\t\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\r\n\t\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyScalar: function ( s ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\r\n\t\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\r\n\t\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\r\n\t\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdeterminant: function () {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\r\n\t\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\r\n\t\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\r\n\t\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\r\n\r\n\t\t\t//TODO: make this more efficient\r\n\t\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\r\n\r\n\t\t\treturn (\r\n\t\t\t\tn41 * (\r\n\t\t\t\t\t+ n14 * n23 * n32\r\n\t\t\t\t\t - n13 * n24 * n32\r\n\t\t\t\t\t - n14 * n22 * n33\r\n\t\t\t\t\t + n12 * n24 * n33\r\n\t\t\t\t\t + n13 * n22 * n34\r\n\t\t\t\t\t - n12 * n23 * n34\r\n\t\t\t\t) +\r\n\t\t\t\tn42 * (\r\n\t\t\t\t\t+ n11 * n23 * n34\r\n\t\t\t\t\t - n11 * n24 * n33\r\n\t\t\t\t\t + n14 * n21 * n33\r\n\t\t\t\t\t - n13 * n21 * n34\r\n\t\t\t\t\t + n13 * n24 * n31\r\n\t\t\t\t\t - n14 * n23 * n31\r\n\t\t\t\t) +\r\n\t\t\t\tn43 * (\r\n\t\t\t\t\t+ n11 * n24 * n32\r\n\t\t\t\t\t - n11 * n22 * n34\r\n\t\t\t\t\t - n14 * n21 * n32\r\n\t\t\t\t\t + n12 * n21 * n34\r\n\t\t\t\t\t + n14 * n22 * n31\r\n\t\t\t\t\t - n12 * n24 * n31\r\n\t\t\t\t) +\r\n\t\t\t\tn44 * (\r\n\t\t\t\t\t- n13 * n22 * n31\r\n\t\t\t\t\t - n11 * n23 * n32\r\n\t\t\t\t\t + n11 * n22 * n33\r\n\t\t\t\t\t + n13 * n21 * n32\r\n\t\t\t\t\t - n12 * n21 * n33\r\n\t\t\t\t\t + n12 * n23 * n31\r\n\t\t\t\t)\r\n\r\n\t\t\t);\r\n\r\n\t\t},\r\n\r\n\t\ttranspose: function () {\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar tmp;\r\n\r\n\t\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\r\n\t\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\r\n\t\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\r\n\r\n\t\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\r\n\t\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\r\n\t\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetPosition: function ( x, y, z ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\t\tte[ 12 ] = x.x;\r\n\t\t\t\tte[ 13 ] = x.y;\r\n\t\t\t\tte[ 14 ] = x.z;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tte[ 12 ] = x;\r\n\t\t\t\tte[ 13 ] = y;\r\n\t\t\t\tte[ 14 ] = z;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tgetInverse: function ( m, throwOnDegenerate ) {\r\n\r\n\t\t\tif ( throwOnDegenerate !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( \"mathsMatrix4: .getInverse() can no longer be configured to throw on degenerate.\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\r\n\t\t\tvar te = this.elements,\r\n\t\t\t\tme = m.elements,\r\n\r\n\t\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\r\n\t\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\r\n\t\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\r\n\t\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\r\n\r\n\t\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\r\n\t\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\r\n\t\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\r\n\t\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\r\n\r\n\t\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\r\n\r\n\t\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\r\n\r\n\t\t\tvar detInv = 1 / det;\r\n\r\n\t\t\tte[ 0 ] = t11 * detInv;\r\n\t\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\r\n\t\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\r\n\t\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\r\n\r\n\t\t\tte[ 4 ] = t12 * detInv;\r\n\t\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\r\n\t\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\r\n\t\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\r\n\r\n\t\t\tte[ 8 ] = t13 * detInv;\r\n\t\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\r\n\t\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\r\n\t\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\r\n\r\n\t\t\tte[ 12 ] = t14 * detInv;\r\n\t\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\r\n\t\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\r\n\t\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tscale: function ( v ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar x = v.x, y = v.y, z = v.z;\r\n\r\n\t\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\r\n\t\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\r\n\t\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\r\n\t\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tgetMaxScaleOnAxis: function () {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\r\n\t\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\r\n\t\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\r\n\r\n\t\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\r\n\r\n\t\t},\r\n\r\n\t\tmakeTranslation: function ( x, y, z ) {\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\t1, 0, 0, x,\r\n\t\t\t\t0, 1, 0, y,\r\n\t\t\t\t0, 0, 1, z,\r\n\t\t\t\t0, 0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeRotationX: function ( theta ) {\r\n\r\n\t\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\t1, 0, 0, 0,\r\n\t\t\t\t0, c, - s, 0,\r\n\t\t\t\t0, s, c, 0,\r\n\t\t\t\t0, 0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeRotationY: function ( theta ) {\r\n\r\n\t\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\t c, 0, s, 0,\r\n\t\t\t\t 0, 1, 0, 0,\r\n\t\t\t\t- s, 0, c, 0,\r\n\t\t\t\t 0, 0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeRotationZ: function ( theta ) {\r\n\r\n\t\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\tc, - s, 0, 0,\r\n\t\t\t\ts, c, 0, 0,\r\n\t\t\t\t0, 0, 1, 0,\r\n\t\t\t\t0, 0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeRotationAxis: function ( axis, angle ) {\r\n\r\n\t\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\r\n\r\n\t\t\tvar c = Math.cos( angle );\r\n\t\t\tvar s = Math.sin( angle );\r\n\t\t\tvar t = 1 - c;\r\n\t\t\tvar x = axis.x, y = axis.y, z = axis.z;\r\n\t\t\tvar tx = t * x, ty = t * y;\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\r\n\t\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\r\n\t\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\r\n\t\t\t\t0, 0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\t return this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeScale: function ( x, y, z ) {\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\tx, 0, 0, 0,\r\n\t\t\t\t0, y, 0, 0,\r\n\t\t\t\t0, 0, z, 0,\r\n\t\t\t\t0, 0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeShear: function ( x, y, z ) {\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\t1, y, z, 0,\r\n\t\t\t\tx, 1, z, 0,\r\n\t\t\t\tx, y, 1, 0,\r\n\t\t\t\t0, 0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tcompose: function ( position, quaternion, scale ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\r\n\t\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\r\n\t\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\r\n\t\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\r\n\t\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\r\n\r\n\t\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\r\n\r\n\t\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\r\n\t\t\tte[ 1 ] = ( xy + wz ) * sx;\r\n\t\t\tte[ 2 ] = ( xz - wy ) * sx;\r\n\t\t\tte[ 3 ] = 0;\r\n\r\n\t\t\tte[ 4 ] = ( xy - wz ) * sy;\r\n\t\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\r\n\t\t\tte[ 6 ] = ( yz + wx ) * sy;\r\n\t\t\tte[ 7 ] = 0;\r\n\r\n\t\t\tte[ 8 ] = ( xz + wy ) * sz;\r\n\t\t\tte[ 9 ] = ( yz - wx ) * sz;\r\n\t\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\r\n\t\t\tte[ 11 ] = 0;\r\n\r\n\t\t\tte[ 12 ] = position.x;\r\n\t\t\tte[ 13 ] = position.y;\r\n\t\t\tte[ 14 ] = position.z;\r\n\t\t\tte[ 15 ] = 1;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdecompose: function ( position, quaternion, scale ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\r\n\t\t\tvar sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\r\n\t\t\tvar sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\r\n\r\n\t\t\t// if determine is negative, we need to invert one scale\r\n\t\t\tvar det = this.determinant();\r\n\t\t\tif ( det < 0 ) sx = - sx;\r\n\r\n\t\t\tposition.x = te[ 12 ];\r\n\t\t\tposition.y = te[ 13 ];\r\n\t\t\tposition.z = te[ 14 ];\r\n\r\n\t\t\t// scale the rotation part\r\n\t\t\t_m1.copy( this );\r\n\r\n\t\t\tvar invSX = 1 / sx;\r\n\t\t\tvar invSY = 1 / sy;\r\n\t\t\tvar invSZ = 1 / sz;\r\n\r\n\t\t\t_m1.elements[ 0 ] *= invSX;\r\n\t\t\t_m1.elements[ 1 ] *= invSX;\r\n\t\t\t_m1.elements[ 2 ] *= invSX;\r\n\r\n\t\t\t_m1.elements[ 4 ] *= invSY;\r\n\t\t\t_m1.elements[ 5 ] *= invSY;\r\n\t\t\t_m1.elements[ 6 ] *= invSY;\r\n\r\n\t\t\t_m1.elements[ 8 ] *= invSZ;\r\n\t\t\t_m1.elements[ 9 ] *= invSZ;\r\n\t\t\t_m1.elements[ 10 ] *= invSZ;\r\n\r\n\t\t\tquaternion.setFromRotationMatrix( _m1 );\r\n\r\n\t\t\tscale.x = sx;\r\n\t\t\tscale.y = sy;\r\n\t\t\tscale.z = sz;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakePerspective: function ( left, right, top, bottom, near, far ) {\r\n\r\n\t\t\tif ( far === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsMatrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar x = 2 * near / ( right - left );\r\n\t\t\tvar y = 2 * near / ( top - bottom );\r\n\r\n\t\t\tvar a = ( right + left ) / ( right - left );\r\n\t\t\tvar b = ( top + bottom ) / ( top - bottom );\r\n\t\t\tvar c = - ( far + near ) / ( far - near );\r\n\t\t\tvar d = - 2 * far * near / ( far - near );\r\n\r\n\t\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\r\n\t\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\r\n\t\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\r\n\t\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar w = 1.0 / ( right - left );\r\n\t\t\tvar h = 1.0 / ( top - bottom );\r\n\t\t\tvar p = 1.0 / ( far - near );\r\n\r\n\t\t\tvar x = ( right + left ) * w;\r\n\t\t\tvar y = ( top + bottom ) * h;\r\n\t\t\tvar z = ( far + near ) * p;\r\n\r\n\t\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\r\n\t\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\r\n\t\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\r\n\t\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( matrix ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar me = matrix.elements;\r\n\r\n\t\t\tfor ( var i = 0; i < 16; i ++ ) {\r\n\r\n\t\t\t\tif ( te[ i ] !== me[ i ] ) return false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\tfromArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < 16; i ++ ) {\r\n\r\n\t\t\t\tthis.elements[ i ] = array[ i + offset ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( array === undefined ) array = [];\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tarray[ offset ] = te[ 0 ];\r\n\t\t\tarray[ offset + 1 ] = te[ 1 ];\r\n\t\t\tarray[ offset + 2 ] = te[ 2 ];\r\n\t\t\tarray[ offset + 3 ] = te[ 3 ];\r\n\r\n\t\t\tarray[ offset + 4 ] = te[ 4 ];\r\n\t\t\tarray[ offset + 5 ] = te[ 5 ];\r\n\t\t\tarray[ offset + 6 ] = te[ 6 ];\r\n\t\t\tarray[ offset + 7 ] = te[ 7 ];\r\n\r\n\t\t\tarray[ offset + 8 ] = te[ 8 ];\r\n\t\t\tarray[ offset + 9 ] = te[ 9 ];\r\n\t\t\tarray[ offset + 10 ] = te[ 10 ];\r\n\t\t\tarray[ offset + 11 ] = te[ 11 ];\r\n\r\n\t\t\tarray[ offset + 12 ] = te[ 12 ];\r\n\t\t\tarray[ offset + 13 ] = te[ 13 ];\r\n\t\t\tarray[ offset + 14 ] = te[ 14 ];\r\n\t\t\tarray[ offset + 15 ] = te[ 15 ];\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t},\r\n\r\n\t\t\"_construct\" : function() {\r\n\r\n\t\t\tthis.elements = [\r\n\r\n\t\t\t\t1, 0, 0, 0,\r\n\t\t\t\t0, 1, 0, 0,\r\n\t\t\t\t0, 0, 1, 0,\r\n\t\t\t\t0, 0, 0, 1\r\n\r\n\t\t\t];\r\n\r\n\t\t\tif ( arguments.length > 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'mathsMatrix4: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tvar _m1 = new Matrix4();\r\n\r\n\treturn numerics.Matrix4 =  Matrix4 ;\r\n\r\n});\ndefine('skylark-langx-numerics/Euler',[\r\n\t\"skylark-langx-klass\",\r\n\t\"./numerics\",\r\n\t\"./maths\",\r\n\t\"./Quaternion\",\r\n\t\"./Vector3\",\r\n\t\"./Matrix4\"\r\n] ,function(\r\n\tklass,\r\n\tnumerics,\r\n\tmaths,\r\n\tQuaternion,\r\n\tVector3,\r\n\tMatrix4\r\n) {\r\n\r\n\tvar _matrix = new Matrix4();\r\n\tvar _quaternion = new Quaternion();\r\n\r\n\tvar Euler = klass({\r\n\t\tx: {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this._x;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis._x = value;\r\n\t\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\ty: {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this._y;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis._y = value;\r\n\t\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tz: {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this._z;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis._z = value;\r\n\t\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\torder: {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this._order;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis._order = value;\r\n\t\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tisEuler: true,\r\n\r\n\t\tset: function ( x, y, z, order ) {\r\n\r\n\t\t\tthis._x = x;\r\n\t\t\tthis._y = y;\r\n\t\t\tthis._z = z;\r\n\t\t\tthis._order = order || this._order;\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( euler ) {\r\n\r\n\t\t\tthis._x = euler._x;\r\n\t\t\tthis._y = euler._y;\r\n\t\t\tthis._z = euler._z;\r\n\t\t\tthis._order = euler._order;\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromRotationMatrix: function ( m, order, update ) {\r\n\r\n\t\t\tvar clamp = maths.clamp;\r\n\r\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\t\tvar te = m.elements;\r\n\t\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\r\n\t\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\r\n\t\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\r\n\r\n\t\t\torder = order || this._order;\r\n\r\n\t\t\tif ( order === 'XYZ' ) {\r\n\r\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\r\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\r\n\t\t\t\t\tthis._z = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( order === 'YXZ' ) {\r\n\r\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\r\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\r\n\t\t\t\t\tthis._z = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( order === 'ZXY' ) {\r\n\r\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\r\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._y = 0;\r\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( order === 'ZYX' ) {\r\n\r\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\r\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._x = 0;\r\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( order === 'YZX' ) {\r\n\r\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\r\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._x = 0;\r\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( order === 'XZY' ) {\r\n\r\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\r\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\r\n\t\t\t\t\tthis._y = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'skylark-nunustudio/editor/gui/element/RendererCanvasEuler: .setFromRotationMatrix() given unsupported order: ' + order );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._order = order;\r\n\r\n\t\t\tif ( update !== false ) this._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromQuaternion: function ( q, order, update ) {\r\n\r\n\t\t\t_matrix.makeRotationFromQuaternion( q );\r\n\r\n\t\t\treturn this.setFromRotationMatrix( _matrix, order, update );\r\n\r\n\t\t},\r\n\r\n\t\tsetFromVector3: function ( v, order ) {\r\n\r\n\t\t\treturn this.set( v.x, v.y, v.z, order || this._order );\r\n\r\n\t\t},\r\n\r\n\t\treorder: function ( newOrder ) {\r\n\r\n\t\t\t// WARNING: this discards revolution information -bhouston\r\n\r\n\t\t\t_quaternion.setFromEuler( this );\r\n\r\n\t\t\treturn this.setFromQuaternion( _quaternion, newOrder );\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( euler ) {\r\n\r\n\t\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\r\n\r\n\t\t},\r\n\r\n\t\tfromArray: function ( array ) {\r\n\r\n\t\t\tthis._x = array[ 0 ];\r\n\t\t\tthis._y = array[ 1 ];\r\n\t\t\tthis._z = array[ 2 ];\r\n\t\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\r\n\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( array === undefined ) array = [];\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tarray[ offset ] = this._x;\r\n\t\t\tarray[ offset + 1 ] = this._y;\r\n\t\t\tarray[ offset + 2 ] = this._z;\r\n\t\t\tarray[ offset + 3 ] = this._order;\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t},\r\n\r\n\t\ttoVector3: function ( optionalResult ) {\r\n\r\n\t\t\tif ( optionalResult ) {\r\n\r\n\t\t\t\treturn optionalResult.set( this._x, this._y, this._z );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn new Vector3( this._x, this._y, this._z );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_onChange: function ( callback ) {\r\n\r\n\t\t\tthis._onChangeCallback = callback;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\t_onChangeCallback: function () {},\r\n\r\n\r\n\t\t\"_construct\" : function ( x, y, z, order ) {\r\n\r\n\t\t\tthis._x = x || 0;\r\n\t\t\tthis._y = y || 0;\r\n\t\t\tthis._z = z || 0;\r\n\t\t\tthis._order = order || Euler.DefaultOrder;\r\n\r\n\t\t}\r\n\r\n\r\n\t});\r\n\r\n\r\n\tEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\r\n\r\n\tEuler.DefaultOrder = 'XYZ';\r\n\r\n\r\n\treturn numerics.Euler = Euler ;\r\n});\r\n\ndefine('skylark-langx-numerics/Matrix3',[\r\n\t\"skylark-langx-klass\",\r\n\t\"./numerics\"\r\n] ,function(klass,numerics) {\r\n\r\n\tvar Matrix3 = klass({\r\n\t\t\"klassName\" : \"Matrix3\",\r\n\r\n\t\tisMatrix3: true,\r\n\r\n\t\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\r\n\t\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\r\n\t\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tidentity: function () {\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\t1, 0, 0,\r\n\t\t\t\t0, 1, 0,\r\n\t\t\t\t0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new this.constructor().fromArray( this.elements );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( m ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar me = m.elements;\r\n\r\n\t\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\r\n\t\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\r\n\t\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\textractBasis: function ( xAxis, yAxis, zAxis ) {\r\n\r\n\t\t\txAxis.setFromMatrix3Column( this, 0 );\r\n\t\t\tyAxis.setFromMatrix3Column( this, 1 );\r\n\t\t\tzAxis.setFromMatrix3Column( this, 2 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromMatrix4: function ( m ) {\r\n\r\n\t\t\tvar me = m.elements;\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\r\n\t\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\r\n\t\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiply: function ( m ) {\r\n\r\n\t\t\treturn this.multiplyMatrices( this, m );\r\n\r\n\t\t},\r\n\r\n\t\tpremultiply: function ( m ) {\r\n\r\n\t\t\treturn this.multiplyMatrices( m, this );\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyMatrices: function ( a, b ) {\r\n\r\n\t\t\tvar ae = a.elements;\r\n\t\t\tvar be = b.elements;\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\r\n\t\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\r\n\t\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\r\n\r\n\t\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\r\n\t\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\r\n\t\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\r\n\r\n\t\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\r\n\t\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\r\n\t\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\r\n\r\n\t\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\r\n\t\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\r\n\t\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\r\n\r\n\t\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\r\n\t\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\r\n\t\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyScalar: function ( s ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\r\n\t\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\r\n\t\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdeterminant: function () {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\r\n\t\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\r\n\t\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\r\n\r\n\t\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\r\n\r\n\t\t},\r\n\r\n\t\tgetInverse: function ( matrix, throwOnDegenerate ) {\r\n\r\n\t\t\tif ( throwOnDegenerate !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( \"mathsMatrix3: .getInverse() can no longer be configured to throw on degenerate.\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar me = matrix.elements,\r\n\t\t\t\tte = this.elements,\r\n\r\n\t\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\r\n\t\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\r\n\t\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\r\n\r\n\t\t\t\tt11 = n33 * n22 - n32 * n23,\r\n\t\t\t\tt12 = n32 * n13 - n33 * n12,\r\n\t\t\t\tt13 = n23 * n12 - n22 * n13,\r\n\r\n\t\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\r\n\r\n\t\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\r\n\r\n\t\t\tvar detInv = 1 / det;\r\n\r\n\t\t\tte[ 0 ] = t11 * detInv;\r\n\t\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\r\n\t\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\r\n\r\n\t\t\tte[ 3 ] = t12 * detInv;\r\n\t\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\r\n\t\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\r\n\r\n\t\t\tte[ 6 ] = t13 * detInv;\r\n\t\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\r\n\t\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttranspose: function () {\r\n\r\n\t\t\tvar tmp, m = this.elements;\r\n\r\n\t\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\r\n\t\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\r\n\t\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tgetNormalMatrix: function ( matrix4 ) {\r\n\r\n\t\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\r\n\r\n\t\t},\r\n\r\n\t\ttransposeIntoArray: function ( r ) {\r\n\r\n\t\t\tvar m = this.elements;\r\n\r\n\t\t\tr[ 0 ] = m[ 0 ];\r\n\t\t\tr[ 1 ] = m[ 3 ];\r\n\t\t\tr[ 2 ] = m[ 6 ];\r\n\t\t\tr[ 3 ] = m[ 1 ];\r\n\t\t\tr[ 4 ] = m[ 4 ];\r\n\t\t\tr[ 5 ] = m[ 7 ];\r\n\t\t\tr[ 6 ] = m[ 2 ];\r\n\t\t\tr[ 7 ] = m[ 5 ];\r\n\t\t\tr[ 8 ] = m[ 8 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\r\n\r\n\t\t\tvar c = Math.cos( rotation );\r\n\t\t\tvar s = Math.sin( rotation );\r\n\r\n\t\t\tthis.set(\r\n\t\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\r\n\t\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\r\n\t\t\t\t0, 0, 1\r\n\t\t\t);\r\n\r\n\t\t},\r\n\r\n\t\tscale: function ( sx, sy ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\r\n\t\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\trotate: function ( theta ) {\r\n\r\n\t\t\tvar c = Math.cos( theta );\r\n\t\t\tvar s = Math.sin( theta );\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\r\n\t\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\r\n\r\n\t\t\tte[ 0 ] = c * a11 + s * a21;\r\n\t\t\tte[ 3 ] = c * a12 + s * a22;\r\n\t\t\tte[ 6 ] = c * a13 + s * a23;\r\n\r\n\t\t\tte[ 1 ] = - s * a11 + c * a21;\r\n\t\t\tte[ 4 ] = - s * a12 + c * a22;\r\n\t\t\tte[ 7 ] = - s * a13 + c * a23;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttranslate: function ( tx, ty ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\r\n\t\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( matrix ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar me = matrix.elements;\r\n\r\n\t\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\t\tif ( te[ i ] !== me[ i ] ) return false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\tfromArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\t\tthis.elements[ i ] = array[ i + offset ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( array === undefined ) array = [];\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tarray[ offset ] = te[ 0 ];\r\n\t\t\tarray[ offset + 1 ] = te[ 1 ];\r\n\t\t\tarray[ offset + 2 ] = te[ 2 ];\r\n\r\n\t\t\tarray[ offset + 3 ] = te[ 3 ];\r\n\t\t\tarray[ offset + 4 ] = te[ 4 ];\r\n\t\t\tarray[ offset + 5 ] = te[ 5 ];\r\n\r\n\t\t\tarray[ offset + 6 ] = te[ 6 ];\r\n\t\t\tarray[ offset + 7 ] = te[ 7 ];\r\n\t\t\tarray[ offset + 8 ] = te[ 8 ];\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t},\r\n\r\n\r\n\t\t\"_construct\" : function () {\r\n\r\n\t\t\tthis.elements = [\r\n\r\n\t\t\t\t1, 0, 0,\r\n\t\t\t\t0, 1, 0,\r\n\t\t\t\t0, 0, 1\r\n\r\n\t\t\t];\r\n\r\n\t\t\tif ( arguments.length > 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'Matrix3: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\treturn numerics.Matrix3 = Matrix3;\r\n});\ndefine('skylark-langx-numerics/Transform',[\r\n\t\"skylark-langx-klass\",\t\r\n    \"./numerics\",\r\n], function(klass,numerics) {\r\n\r\n    var Transform =  klass({\r\n        \"klassName\": \"Transform\",\r\n\t\t\"value\": {\r\n\t\t\tget : function(){\r\n\t\t\t\treturn this._.value;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn numerics.Transform =Transform;\r\n});\r\n\ndefine('skylark-langx-numerics/MatrixTransform',[\r\n    \"./numerics\",\r\n\t\"./Transform\"\r\n],function(numerics,Transform) {\r\n\r\n    var MatrixTransform =  Transform.inherit({\r\n        \"klassName\": \"MatrixTransform\",\r\n\r\n\t\t\"value\"\t:\t{\r\n\t\t\tget : function(){\r\n\t\t\t\treturn this.matrix.clone();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t\"matrix\" : {\r\n\t\t\tget : function(){\r\n\t\t\t\treturn this._.matrix;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclone : /*ScaleTransform*/function() {\r\n\t\t},\r\n\t\t\r\n\t\ttransform : /*Point*/function(/*Point*/point) {\r\n\t\t},\r\n\t\t\r\n\t\t//wE{bNXAi[sE{bNXB\r\n\t\ttransformBounds : /*Rect*/function(/*Rect*/rect) {\r\n\t\t},\t\t\r\n\t\t\"_construct\" : function(/*Martix*/matrix) {\r\n            var _ = this._ = {};\r\n\t\t\t\r\n\t\t\t_.matrix = matrix;\r\n\t\t}\r\n\t\t\t\t\r\n\t});\r\n\r\n\treturn numerics.MatrixTransform = MatrixTransform;\r\n\t\r\n});\t\r\n\ndefine('skylark-langx-numerics/Plane',[\r\n\t\"skylark-langx-klass\",\r\n\t\"./numerics\",\r\n\t\"./Matrix3\",\r\n\t\"./Vector3\"\r\n] ,function(\r\n\tklass,\r\n\tnumerics,\r\n\tMatrix3,\r\n\tVector3\r\n) {\r\n\r\n\r\n\tvar _vector1 = new Vector3();\r\n\tvar _vector2 = new Vector3();\r\n\tvar _normalMatrix = new Matrix3();\r\n\r\n\tvar Plane = klass({\r\n\t\t\"klassName\" : \"Plane\",\r\n\r\n\t\tset: function ( normal, constant ) {\r\n\r\n\t\t\tthis.normal.copy( normal );\r\n\t\t\tthis.constant = constant;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetComponents: function ( x, y, z, w ) {\r\n\r\n\t\t\tthis.normal.set( x, y, z );\r\n\t\t\tthis.constant = w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\r\n\r\n\t\t\tthis.normal.copy( normal );\r\n\t\t\tthis.constant = - point.dot( this.normal );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromCoplanarPoints: function ( a, b, c ) {\r\n\r\n\t\t\tvar normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\r\n\r\n\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\r\n\r\n\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new this.constructor().copy( this );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( plane ) {\r\n\r\n\t\t\tthis.normal.copy( plane.normal );\r\n\t\t\tthis.constant = plane.constant;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tnormalize: function () {\r\n\r\n\t\t\t// Note: will lead to a divide by zero if the plane is invalid.\r\n\r\n\t\t\tvar inverseNormalLength = 1.0 / this.normal.length();\r\n\t\t\tthis.normal.multiplyScalar( inverseNormalLength );\r\n\t\t\tthis.constant *= inverseNormalLength;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tnegate: function () {\r\n\r\n\t\t\tthis.constant *= - 1;\r\n\t\t\tthis.normal.negate();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdistanceToPoint: function ( point ) {\r\n\r\n\t\t\treturn this.normal.dot( point ) + this.constant;\r\n\r\n\t\t},\r\n\r\n\t\tdistanceToSphere: function ( sphere ) {\r\n\r\n\t\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\r\n\r\n\t\t},\r\n\r\n\t\tprojectPoint: function ( point, target ) {\r\n\r\n\t\t\tif ( target === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsPlane: .projectPoint() target is now required' );\r\n\t\t\t\ttarget = new Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\r\n\r\n\t\t},\r\n\r\n\t\tintersectLine: function ( line, target ) {\r\n\r\n\t\t\tif ( target === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsPlane: .intersectLine() target is now required' );\r\n\t\t\t\ttarget = new Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar direction = line.delta( _vector1 );\r\n\r\n\t\t\tvar denominator = this.normal.dot( direction );\r\n\r\n\t\t\tif ( denominator === 0 ) {\r\n\r\n\t\t\t\t// line is coplanar, return origin\r\n\t\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\r\n\r\n\t\t\t\t\treturn target.copy( line.start );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Unsure if this is the correct method to handle this case.\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\r\n\r\n\t\t\tif ( t < 0 || t > 1 ) {\r\n\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\r\n\r\n\t\t},\r\n\r\n\t\tintersectsLine: function ( line ) {\r\n\r\n\t\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\r\n\r\n\t\t\tvar startSign = this.distanceToPoint( line.start );\r\n\t\t\tvar endSign = this.distanceToPoint( line.end );\r\n\r\n\t\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\r\n\r\n\t\t},\r\n\r\n\t\tintersectsBox: function ( box ) {\r\n\r\n\t\t\treturn box.intersectsPlane( this );\r\n\r\n\t\t},\r\n\r\n\t\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\t\treturn sphere.intersectsPlane( this );\r\n\r\n\t\t},\r\n\r\n\t\tcoplanarPoint: function ( target ) {\r\n\r\n\t\t\tif ( target === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'mathsPlane: .coplanarPoint() target is now required' );\r\n\t\t\t\ttarget = new Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\r\n\r\n\t\t},\r\n\r\n\t\tapplyMatrix4: function ( matrix, optionalNormalMatrix ) {\r\n\r\n\t\t\tvar normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\r\n\r\n\t\t\tvar referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\r\n\r\n\t\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\tthis.constant = - referencePoint.dot( normal );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttranslate: function ( offset ) {\r\n\r\n\t\t\tthis.constant -= offset.dot( this.normal );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( plane ) {\r\n\r\n\t\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\r\n\r\n\t\t},\r\n\r\n\r\n\t\t\"_construct\" : function( normal, constant ) {\r\n\r\n\t\t\t// normal is assumed to be normalized\r\n\r\n\t\t\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\r\n\t\t\tthis.constant = ( constant !== undefined ) ? constant : 0;\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\treturn numerics.Plane = Plane;\r\n});\ndefine('skylark-langx-numerics/RotateTransform',[\r\n    \"./numerics\",\r\n\t\"./Transform\",\r\n\t\"./MatrixTransform\"\r\n],function(numerics,Transform,Matrix) {\r\n\r\n\r\n    var RotateTransform = numerics.RotateTransform = Transform.inherit({\r\n        \"klassName\": \"RotateTransform\",\r\n\r\n        \"value\": {\r\n            get: function() {\r\n                return Matrix.rotateAt(this.angle, this.centerX, this.centerY);\r\n            }\r\n        },\r\n\r\n        \"angle\": {\r\n            get : function() {\r\n                return this._.angle;\r\n            }\r\n        },\r\n        // cy: Number\r\n        //\t\tThe Y coordinate of the center of the circle, default value 0.\r\n        \"centerX\": {\r\n            get : function() {\r\n                return this._.centerX;\r\n            }\r\n        },\r\n        // r: Number\r\n        //\t\tThe radius, default value 100.\r\n        \"centerY\": {\r\n            get : function() {\r\n                return this._.centerY;\r\n            }\r\n        },\r\n\r\n\t\tclone : /*ScaleTransform*/function() {\r\n\t\t},\r\n\t\t\r\n\t\ttransform : /*Point*/function(/*Point*/point) {\r\n\t\t},\r\n\t\t\r\n\t\ttransformBounds : /*Rect*/function(/*Rect*/rect) {\r\n\t\t},\r\n\t\t\r\n\t\t\"init\" : function(/*Number*/angle,/*Number*/centerX,/*Number*/centerY) {\r\n\t\t\tvar _ = this._ = {};\r\n\t\t\t_.angle = angle ? angle :0;\r\n\t\t\t_.centerX = centerX ? centerX :0;\r\n\t\t\t_.centerY = centerY ? centerY :0;\r\n\t\t}\r\n\t});\r\n\r\n\treturn RotateTransform;\r\n\t\r\n});\t\r\n\ndefine('skylark-langx-numerics/ScaleTransform',[\r\n    \"./numerics\",\r\n    \"./Transform\",\r\n    \"./MatrixTransform\"\r\n], function(numerics, Transform, Matrix) {\r\n\r\n   var ScaleTransform =  Transform.inherit({\r\n        \"klassName\": \"ScaleTransform\",\r\n\r\n        \"value\": {\r\n            get: function() {\r\n                    return Matrix.scaleAt(this.scaleX, this.scaleY, this.centerX, this.centerY);\r\n            }\r\n        },\r\n\r\n        \"scaleX\": {\r\n            get : function() {\r\n                return this._.scaleX;\r\n            }\r\n        },\r\n\r\n        \"scaleY\": {\r\n            get : function() {\r\n                return this._.scaleY;\r\n            }\r\n        },\r\n\r\n        // cy: Number\r\n        //      The Y coordinate of the center of the circle, default value 0.\r\n        \"centerX\": {\r\n            get : function() {\r\n                return this._.centerX;\r\n            }\r\n        },\r\n        // r: Number\r\n        //      The radius, default value 100.\r\n        \"centerY\": {\r\n            get : function() {\r\n                return this._.centerY;\r\n            }\r\n        },\r\n\r\n        clone: /*ScaleTransform*/ function() {},\r\n\r\n        transform: /*Point*/ function( /*Point*/ point) {},\r\n\r\n        transformBounds: /*Rect*/ function( /*Rect*/ rect) {},\r\n\r\n        \"_construct\": function( /*Number*/ scaleX, /*Number*/ scaleY, /*Number*/ centerX, /*Number*/ centerY) {\r\n            var _ = this._ = {};\r\n\r\n            _.scaleX = scaleX ? scaleX : 1;\r\n            _.scaleY = scaleY ? scaleY : 1;\r\n            _.centerX = centerX ? centerX : 0;\r\n            _.centerY = centerY ? centerY : 0;\r\n        }\r\n    });\r\n\r\n    return numerics.ScaleTransform = ScaleTransform;\r\n\r\n});\r\n\ndefine('skylark-langx-numerics/SkewTransform',[\r\n    \"./numerics\",\r\n    \"./Transform\",\r\n    \"./MatrixTransform\"\r\n], function(numerics, Transform, Matrix) {\r\n\r\n   var SkewTransform = Transform.inherit({\r\n        \"klassName\": \"SkewTransform\",\r\n\r\n        \"value\": {\r\n            get: function() {\r\n                    return Matrix.scaleAt(this.skewX, this.skewY);\r\n            }\r\n        },\r\n\r\n        \"skewX\": {\r\n            get : function() {\r\n                return this._.skewX;\r\n            }\r\n        },\r\n\r\n        \"skewY\": {\r\n            get : function() {\r\n                return this._.skewY;\r\n            }\r\n        },\r\n\r\n        clone: /*SkewTransform*/ function() {},\r\n\r\n        transform: /*Point*/ function( /*Point*/ point) {},\r\n\r\n        transformBounds: /*Rect*/ function( /*Rect*/ rect) {},\r\n\r\n        \"_construct\": function( /*Number*/ skewX, /*Number*/ skewY) {\r\n            var _ = this._ = {};\r\n\r\n            _.skewX = skewX ? skewX : 0;\r\n            _.skewY = skewY ? skewY : 0;\r\n        }\r\n    });\r\n\r\n    return numerics.SkewTransform = SkewTransform;\r\n\r\n});\r\n\ndefine('skylark-langx-numerics/Vector2',[\r\n\t\"skylark-langx-klass\",\r\n\t\"./numerics\"\r\n] ,function(klass,numerics) {\r\n\r\n\tvar Vector2 = klass({\r\n\t\t\"klassName\" : \"Vector2\",\r\n\r\n\t\tset: function ( x, y ) {\r\n\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetScalar: function ( scalar ) {\r\n\r\n\t\t\tthis.x = scalar;\r\n\t\t\tthis.y = scalar;\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tsetX: function ( x ) {\r\n\r\n\t\t\tthis.x = x;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetY: function ( y ) {\r\n\r\n\t\t\tthis.y = y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new this.constructor( this.x, this.y );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( v ) {\r\n\r\n\t\t\tthis.x = v.x;\r\n\t\t\tthis.y = v.y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tadd: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x += v.x;\r\n\t\t\tthis.y += v.y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddScalar: function ( s ) {\r\n\r\n\t\t\tthis.x += s;\r\n\t\t\tthis.y += s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddVectors: function ( a, b ) {\r\n\r\n\t\t\tthis.x = a.x + b.x;\r\n\t\t\tthis.y = a.y + b.y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddScaledVector: function ( v, s ) {\r\n\r\n\t\t\tthis.x += v.x * s;\r\n\t\t\tthis.y += v.y * s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsub: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x -= v.x;\r\n\t\t\tthis.y -= v.y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsubScalar: function ( s ) {\r\n\r\n\t\t\tthis.x -= s;\r\n\t\t\tthis.y -= s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsubVectors: function ( a, b ) {\r\n\r\n\t\t\tthis.x = a.x - b.x;\r\n\t\t\tthis.y = a.y - b.y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiply: function ( v ) {\r\n\r\n\t\t\tthis.x *= v.x;\r\n\t\t\tthis.y *= v.y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\t\tthis.x *= scalar;\r\n\t\t\tthis.y *= scalar;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdivide: function ( v ) {\r\n\r\n\t\t\tthis.x /= v.x;\r\n\t\t\tthis.y /= v.y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdivideScalar: function ( scalar ) {\r\n\r\n\t\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t\t},\r\n\r\n\t\tapplyMatrix3: function ( m ) {\r\n\r\n\t\t\tvar x = this.x, y = this.y;\r\n\t\t\tvar e = m.elements;\r\n\r\n\t\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\r\n\t\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmin: function ( v ) {\r\n\r\n\t\t\tthis.x = Math.min( this.x, v.x );\r\n\t\t\tthis.y = Math.min( this.y, v.y );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmax: function ( v ) {\r\n\r\n\t\t\tthis.x = Math.max( this.x, v.x );\r\n\t\t\tthis.y = Math.max( this.y, v.y );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclamp: function ( min, max ) {\r\n\r\n\t\t\t// assumes min < max, componentwise\r\n\r\n\t\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclampScalar: function ( minVal, maxVal ) {\r\n\r\n\t\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclampLength: function ( min, max ) {\r\n\r\n\t\t\tvar length = this.length();\r\n\r\n\t\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t\t},\r\n\r\n\t\tfloor: function () {\r\n\r\n\t\t\tthis.x = Math.floor( this.x );\r\n\t\t\tthis.y = Math.floor( this.y );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tceil: function () {\r\n\r\n\t\t\tthis.x = Math.ceil( this.x );\r\n\t\t\tthis.y = Math.ceil( this.y );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tround: function () {\r\n\r\n\t\t\tthis.x = Math.round( this.x );\r\n\t\t\tthis.y = Math.round( this.y );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\troundToZero: function () {\r\n\r\n\t\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tnegate: function () {\r\n\r\n\t\t\tthis.x = - this.x;\r\n\t\t\tthis.y = - this.y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdot: function ( v ) {\r\n\r\n\t\t\treturn this.x * v.x + this.y * v.y;\r\n\r\n\t\t},\r\n\r\n\t\tcross: function ( v ) {\r\n\r\n\t\t\treturn this.x * v.y - this.y * v.x;\r\n\r\n\t\t},\r\n\r\n\t\tlengthSq: function () {\r\n\r\n\t\t\treturn this.x * this.x + this.y * this.y;\r\n\r\n\t\t},\r\n\r\n\t\tlength: function () {\r\n\r\n\t\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\r\n\r\n\t\t},\r\n\r\n\t\tmanhattanLength: function () {\r\n\r\n\t\t\treturn Math.abs( this.x ) + Math.abs( this.y );\r\n\r\n\t\t},\r\n\r\n\t\tnormalize: function () {\r\n\r\n\t\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t\t},\r\n\r\n\t\tangle: function () {\r\n\r\n\t\t\t// computes the angle in radians with respect to the positive x-axis\r\n\r\n\t\t\tvar angle = Math.atan2( - this.y, - this.x ) + Math.PI;\r\n\r\n\t\t\treturn angle;\r\n\r\n\t\t},\r\n\r\n\t\tdistanceTo: function ( v ) {\r\n\r\n\t\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t\t},\r\n\r\n\t\tdistanceToSquared: function ( v ) {\r\n\r\n\t\t\tvar dx = this.x - v.x, dy = this.y - v.y;\r\n\t\t\treturn dx * dx + dy * dy;\r\n\r\n\t\t},\r\n\r\n\t\tmanhattanDistanceTo: function ( v ) {\r\n\r\n\t\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\r\n\r\n\t\t},\r\n\r\n\t\tsetLength: function ( length ) {\r\n\r\n\t\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t\t},\r\n\r\n\t\tlerp: function ( v, alpha ) {\r\n\r\n\t\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( v ) {\r\n\r\n\t\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\r\n\r\n\t\t},\r\n\r\n\t\tfromArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tthis.x = array[ offset ];\r\n\t\t\tthis.y = array[ offset + 1 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( array === undefined ) array = [];\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tarray[ offset ] = this.x;\r\n\t\t\tarray[ offset + 1 ] = this.y;\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t},\r\n\r\n\r\n\t\trotateAround: function ( center, angle ) {\r\n\r\n\t\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\r\n\r\n\t\t\tvar x = this.x - center.x;\r\n\t\t\tvar y = this.y - center.y;\r\n\r\n\t\t\tthis.x = x * c - y * s + center.x;\r\n\t\t\tthis.y = x * s + y * c + center.y;\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t\"_construct\" : function ( x, y ) {\r\n\r\n\t\t\tthis.x = x || 0;\r\n\t\t\tthis.y = y || 0;\r\n\r\n\t\t}\r\n\r\n\r\n\t});\r\n\r\n\r\n\t/*\r\n\tObject.defineProperties( Vector2.prototype, {\r\n\r\n\t\t\"width\": {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this.x;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis.x = value;\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t\"height\": {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this.y;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis.y = value;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\t*/\r\n\r\n\r\n\r\n\r\n\treturn numerics.Vector2 = Vector2 ;\r\n});\r\n\ndefine( 'skylark-langx-numerics/TransformMatrix',[\r\n    \"skylark-langx-klass\",\r\n    \"./numerics\",\r\n    \"./Vector2\"\r\n], function(klass,numerics,Vector2){\r\n\t// reference easeljs/numerics/Matrix2D  and dojox/gfx/matrix\r\n\t\r\n\tvar DEG_TO_RAD = Math.PI/180;\r\n\tvar _degToRadCache = {};\r\n\tvar degToRad = function(degree){\r\n\t\treturn _degToRadCache[degree] || (_degToRadCache[degree] = (Math.PI * degree / 180));\r\n\t};\r\n\tvar radToDeg = function(radian){ return radian / Math.PI * 180; };\r\n\t\r\n\r\n\t//Represents a 3 x 3 affine transformation matrix used for transformation in 2-D space.\r\n\t//|----------|\r\n\t//|m11|m21|dx| \r\n\t//|----------|\r\n\t//|m12|m22|dy|\r\n\t//|----------|\r\n\t//|  0|  0| 1|\r\n\t//|----------|\r\n\t\r\n    var TransformMatrix =  klass({\r\n        \"klassName\": \"TransformMatrix\",\r\n\r\n\t\t\"_multiplyPoint\"\t: \tfunction(p){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tapplies the matrix to a point\r\n\t\t\t// p: Point\r\n\t\t\t//\t\ta point\r\n\t\t\t// returns: Point\r\n\t\t\tvar _ = this._,\r\n\t\t\t\tx = p.x * _.m11 + p.y * _.m21  + _.dx,\r\n\t\t\t    y = p.x * _.m12 +  p.y * _.m22 + _.dy;\r\n\r\n\t\t\treturn new Vector2(x,y); // Point\r\n\t\t},\r\n\r\n       \"m11\": {\r\n       \t\t//Position (0, 0) in a 3x3 affine transformation matrix.\r\n            get : function() {\r\n                return this._.m11;\r\n            }\r\n        },\r\n\r\n       \"m12\": {\r\n       \t\t//Position (0, 1) in a 3x3 affine transformation matrix.\r\n            get : function() {\r\n                return this._.m12;\r\n            }\r\n        },\r\n\r\n       \"m21\": {\r\n       \t\t//Position (1, 0) in a 3x3 affine transformation matrix.\r\n            get : function() {\r\n                return this._.m21;\r\n            }\r\n        },\r\n\r\n       \"m22\": {\r\n       \t\t//Position (1, 1) in a 3x3 affine transformation matrix.\r\n            get : function() {\r\n                return this._.m22;\r\n            }\r\n        },\r\n\r\n       \"dx\": {\r\n       \t\t// Position (2, 1) in a 3x3 affine transformation matrix.\r\n            get : function() {\r\n                return this._.dx;\r\n            }\r\n        },\r\n\r\n       \"dy\": {\r\n       \t\t// Position (2, 1) in a 3x3 affine transformation matrix.\r\n            get : function() {\r\n                return this._.dy;\r\n            }\r\n        },\r\n\r\n       \"alpha\": {\r\n       \t\t// Property representing the alpha that will be applied to a display object. This is not part of matrix\r\n       \t\t// operations, but is used for operations like getConcatenatedMatrix to provide concatenated alpha values.\r\n            get : function() {\r\n                return this._.alpha;\r\n            }\r\n        },\r\n\r\n       \"shadow\": {\r\n       \t\t// Property representing the shadow that will be applied to a display object. This is not part of matrix\r\n       \t\t// operations, but is used for operations like getConcatenatedMatrix to provide concatenated shadow values..\r\n            get : function() {\r\n                return this._.shadow;\r\n            }\r\n        },\r\n\r\n       \"compositeOperation\": {\r\n\t\t\t/**\r\n\t\t\t * Property representing the compositeOperation that will be applied to a display object. This is not part of\r\n\t\t\t * matrix operations, but is used for operations like getConcatenatedMatrix to provide concatenated\r\n\t\t\t * compositeOperation values. You can find a list of valid composite operations at:\r\n\t\t\t * <a href=\"https://developer.mozilla.org/en/Canvas_tutorial/Compositing\">https://developer.mozilla.org/en/Canvas_tutorial/Compositing</a>\r\n\t\t\t * @property compositeOperation\r\n\t\t\t * @type String\r\n\t\t\t **/\r\n            get : function() {\r\n                return this._.compositeOperation;\r\n            }\r\n        },\r\n\r\n        //Converts the specified point with TransformMatrix and returns the result.\r\n\t\tmultiplyPoint: /*Vector2*/function(/*Vector2 */ p){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tapplies the matrix to a point\r\n\t\t\treturn this._multiplyPoint(p); // Vector2\r\n\t\t},\r\n\t\t\t\t/**\r\n\t\t\t\t *  TransformMatrix \r\n\t\t\t\t */\r\n\t\tmultiplyRectangle: /*Rect*/function(/*Rect*/ rect){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tApplies the matrix to a rectangle.\r\n\t\t\t// returns: Rect\r\n\t\t\tif(this.isIdentity())\r\n\t\t\t\treturn rect.clone(); // Rect\r\n\t\t\tvar p0 = this.multiplyPoint(rect.leftTop),\r\n\t\t\t\tp1 = this.multiplyPoint(rect.leftBottom),\r\n\t\t\t\tp2 = this.multiplyPoint(rect.right),\r\n\t\t\t\tp3 = this.multiplyPoint(rect.rightBottom),\r\n\t\t\t\tminx = Math.min(p0.x, p1.x, p2.x, p3.x),\r\n\t\t\t\tminy = Math.min(p0.y, p1.y, p2.y, p3.y),\r\n\t\t\t\tmaxx = Math.max(p0.x, p1.x, p2.x, p3.x),\r\n\t\t\t\tmaxy = Math.max(p0.y, p1.y, p2.y, p3.y);\r\n\t\t\treturn new Rect(minx,miny,maxx-minx,maxy-miny);  // Rect\r\n\t\t},\r\n\t\t/**\r\n\t\t * Concatenates the specified matrix properties with this matrix. All parameters are required.\r\n\t\t * @method prepend\r\n\t\t * @param {Number} m11\r\n\t\t * @param {Number} m12\r\n\t\t * @param {Number} m21\r\n\t\t * @param {Number} m22\r\n\t\t * @param {Number} dx\r\n\t\t * @param {Number} dy\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\tprepend : function(m11, m12, m21, m22, dx, dy) {\r\n\t\t\tvar tx1 = this.dx;\r\n\t\t\tif (m11 != 1 || m12 != 0 || m21 != 0 || m22 != 1) {\r\n\t\t\t\tvar a1 = this.m11;\r\n\t\t\t\tvar c1 = this.m21;\r\n\t\t\t\tthis.m11  = a1*m11+this.m12*m21;\r\n\t\t\t\tthis.m12  = a1*m12+this.m12*m22;\r\n\t\t\t\tthis.m21  = c1*m11+this.m22*m21;\r\n\t\t\t\tthis.m22  = c1*m12+this.m22*m22;\r\n\t\t\t}\r\n\t\t\tthis.dx = tx1*m11+this.dy*m21+dx;\r\n\t\t\tthis.dy = tx1*m12+this.dy*m22+dy;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Appends the specified matrix properties with this matrix. All parameters are required.\r\n\t\t *  Matrix Matrix\r\n\t\t * @method append\r\n\t\t * @param {Number} m11\r\n\t\t * @param {Number} m12\r\n\t\t * @param {Number} m21\r\n\t\t * @param {Number} m22\r\n\t\t * @param {Number} dx\r\n\t\t * @param {Number} dy\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\tappend : function(m11, m12, m21, m22, dx, dy) {\r\n\t\t\tvar a1 = this.m11;\r\n\t\t\tvar b1 = this.m12;\r\n\t\t\tvar c1 = this.m21;\r\n\t\t\tvar d1 = this.m22;\r\n\r\n\t\t\tthis.m11  = m11*a1+m12*c1;\r\n\t\t\tthis.m12  = m11*b1+m12*d1;\r\n\t\t\tthis.m21  = m21*a1+m22*c1;\r\n\t\t\tthis.m22  = m21*b1+m22*d1;\r\n\t\t\tthis.dx = dx*a1+dy*c1+this.dx;\r\n\t\t\tthis.dy = dx*b1+dy*d1+this.dy;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Prepends the specified matrix with this matrix.\r\n\t\t * @method prependMatrix\r\n\t\t * @param {TransformMatrix} matrix\r\n\t\t **/\r\n\t\tprependMatrix : function(matrix) {\r\n\t\t\tthis.prepend(matrix.m11, matrix.m12, matrix.m21, matrix.m22, matrix.dx, matrix.dy);\r\n\t\t\tthis.prependProperties(matrix.alpha, matrix.shadow,  matrix.compositeOperation);\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Appends the specified matrix with this matrix.\r\n\t\t *  Matrix Matrix\r\n\t\t * @method appendMatrix\r\n\t\t * @param {TransformMatrix} matrix\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\tappendMatrix : function(matrix) {\r\n\t\t\tthis.append(matrix.m11, matrix.m12, matrix.m21, matrix.m22, matrix.dx, matrix.dy);\r\n\t\t\tthis.appendProperties(matrix.alpha, matrix.shadow,  matrix.compositeOperation);\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Generates matrix properties from the specified display object transform properties, and prepends them with this matrix.\r\n\t\t * For example, you can use this to generate a matrix from a display object: var mtx = new TransformMatrix();\r\n\t\t * mtx.prependTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation);\r\n\t\t * @method prependTransform\r\n\t\t * @param {Number} x\r\n\t\t * @param {Number} y\r\n\t\t * @param {Number} scaleX\r\n\t\t * @param {Number} scaleY\r\n\t\t * @param {Number} rotation\r\n\t\t * @param {Number} skewX\r\n\t\t * @param {Number} skewY\r\n\t\t * @param {Number} regX Optional.\r\n\t\t * @param {Number} regY Optional.\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\tprependTransform : function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\r\n\t\t\tif (rotation%360) {\r\n\t\t\t\tvar r = rotation*DEG_TO_RAD;\r\n\t\t\t\tvar cos = Math.cos(r);\r\n\t\t\t\tvar sin = Math.sin(r);\r\n\t\t\t} else {\r\n\t\t\t\tcos = 1;\r\n\t\t\t\tsin = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (regX || regY) {\r\n\t\t\t\t// append the registration offset:\r\n\t\t\t\tthis.dx -= regX; this.dy -= regY;\r\n\t\t\t}\r\n\t\t\tif (skewX || skewY) {\r\n\t\t\t\t// TODO: can this be combined into a single prepend operation?\r\n\t\t\t\tskewX *= DEG_TO_RAD;\r\n\t\t\t\tskewY *= DEG_TO_RAD;\r\n\t\t\t\tthis.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\r\n\t\t\t\tthis.prepend(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\r\n\t\t\t} else {\r\n\t\t\t\tthis.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Generates matrix properties from the specified display object transform properties, and appends them with this matrix.\r\n\t\t * For example, you can use this to generate a matrix from a display object: var mtx = new TransformMatrix();\r\n\t\t * mtx.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation);\r\n\t\t * @method appendTransform\r\n\t\t * @param {Number} x\r\n\t\t * @param {Number} y\r\n\t\t * @param {Number} scaleX\r\n\t\t * @param {Number} scaleY\r\n\t\t * @param {Number} rotation\r\n\t\t * @param {Number} skewX\r\n\t\t * @param {Number} skewY\r\n\t\t * @param {Number} regX Optional.\r\n\t\t * @param {Number} regY Optional.\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\tappendTransform : function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\r\n\t\t\tif (rotation%360) {\r\n\t\t\t\tvar r = rotation*DEG_TO_RAD;\r\n\t\t\t\tvar cos = Math.cos(r);\r\n\t\t\t\tvar sin = Math.sin(r);\r\n\t\t\t} else {\r\n\t\t\t\tcos = 1;\r\n\t\t\t\tsin = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (skewX || skewY) {\r\n\t\t\t\t// TODO: can this be combined into a single append?\r\n\t\t\t\tskewX *= DEG_TO_RAD;\r\n\t\t\t\tskewY *= DEG_TO_RAD;\r\n\t\t\t\tthis.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\r\n\t\t\t\tthis.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\r\n\t\t\t} else {\r\n\t\t\t\tthis.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\r\n\t\t\t}\r\n\r\n\t\t\tif (regX || regY) {\r\n\t\t\t\t// prepend the registration offset:\r\n\t\t\t\tthis.dx -= regX*this.m11+regY*this.m21; \r\n\t\t\t\tthis.dy -= regX*this.m12+regY*this.m22;\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Applies a rotation transformation to the matrix.\r\n\t\t * @method rotate\r\n\t\t * @param {Number} angle The angle in degrees.\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\trotate : function(angle) {\r\n\t\t\tvar cos = Math.cos(angle);\r\n\t\t\tvar sin = Math.sin(angle);\r\n\r\n\t\t\tvar a1 = this.m11;\r\n\t\t\tvar c1 = this.m21;\r\n\t\t\tvar tx1 = this.dx;\r\n\r\n\t\t\tthis.m11 = a1*cos-this.m12*sin;\r\n\t\t\tthis.m12 = a1*sin+this.m12*cos;\r\n\t\t\tthis.m21 = c1*cos-this.m22*sin;\r\n\t\t\tthis.m22 = c1*sin+this.m22*cos;\r\n\t\t\tthis.dx = tx1*cos-this.dy*sin;\r\n\t\t\tthis.dy = tx1*sin+this.dy*cos;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Applies a skew transformation to the matrix.\r\n\t\t * @method skew\r\n\t\t * @param {Number} skewX The amount to skew horizontally in degrees.\r\n\t\t * @param {Number} skewY The amount to skew vertically in degrees.\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t*/\r\n\t\tskew : function(skewX, skewY) {\r\n\t\t\tskewX = skewX*DEG_TO_RAD;\r\n\t\t\tskewY = skewY*DEG_TO_RAD;\r\n\t\t\tthis.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), 0, 0);\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Applies a scale transformation to the matrix.\r\n\t\t * @method scale\r\n\t\t * @param {Number} x\r\n\t\t * @param {Number} y\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\tscale : function(x, y) {\r\n\t\t\tthis.m11 *= x;\r\n\t\t\tthis.m22 *= y;\r\n\t\t\tthis.dx *= x;\r\n\t\t\tthis.dy *= y;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Translates the matrix on the x and y axes.\r\n\t\t * @method translate\r\n\t\t * @param {Number} x\r\n\t\t * @param {Number} y\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\ttranslate : function(x, y) {\r\n\t\t\tthis.dx += x;\r\n\t\t\tthis.dy += y;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sets the properties of the matrix to those of an identity matrix (one that applies a null transformation).\r\n\t\t * @method identity\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\tidentity : function() {\r\n\t\t\tthis.alpha = this.m11 = this.m22 = 1;\r\n\t\t\tthis.m12 = this.m21 = this.dx = this.dy = 0;\r\n\t\t\tthis.shadow = this.compositeOperation = null;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Inverts the matrix, causing it to perform the opposite transformation.\r\n\t\t * @method invert\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t **/\r\n\t\tinvert : function() {\r\n\t\t\tvar a1 = this.m11;\r\n\t\t\tvar b1 = this.m12;\r\n\t\t\tvar c1 = this.m21;\r\n\t\t\tvar d1 = this.m22;\r\n\t\t\tvar tx1 = this.dx;\r\n\t\t\tvar n = a1*d1-b1*c1;\r\n\r\n\t\t\tthis.m11 = d1/n;\r\n\t\t\tthis.m12 = -b1/n;\r\n\t\t\tthis.m21 = -c1/n;\r\n\t\t\tthis.m22 = a1/n;\r\n\t\t\tthis.dx = (c1*this.dy-d1*tx1)/n;\r\n\t\t\tthis.dy = -(a1*this.dy-b1*tx1)/n;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns true if the matrix is an identity matrix.\r\n\t\t * @method isIdentity\r\n\t\t * @return {Boolean}\r\n\t\t **/\r\n\t\tisIdentity : function() {\r\n\t\t\treturn this.dx == 0 && this.dy == 0 && this.m11 == 1 && this.m12 == 0 && this.m21 == 0 && this.m22 == 1;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Decomposes the matrix into transform properties (x, y, scaleX, scaleY, and rotation). Note that this these values\r\n\t\t * may not match the transform properties you used to generate the matrix, though they will produce the same visual\r\n\t\t * results.\r\n\t\t * @method decompose\r\n\t\t * @param {Object} target The object to apply the transform properties to. If null, then a new object will be returned.\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t*/\r\n\t\tdecompose : function(target) {\r\n\t\t\t// TODO: it would be nice to be able to solve for whether the matrix can be decomposed into only scale/rotation\r\n\t\t\t// even when scale is negative\r\n\t\t\tif (target == null) { target = {}; }\r\n\t\t\ttarget.x = this.dx;\r\n\t\t\ttarget.y = this.dy;\r\n\t\t\ttarget.scaleX = Math.sqrt(this.m11 * this.m11 + this.m12 * this.m12);\r\n\t\t\ttarget.scaleY = Math.sqrt(this.m21 * this.m21 + this.m22 * this.m22);\r\n\r\n\t\t\tvar skewX = Math.atan2(-this.m21, this.m22);\r\n\t\t\tvar skewY = Math.atan2(this.m12, this.m11);\r\n\r\n\t\t\tif (skewX == skewY) {\r\n\t\t\t\ttarget.rotation = skewY/DEG_TO_RAD;\r\n\t\t\t\tif (this.m11 < 0 && this.m22 >= 0) {\r\n\t\t\t\t\ttarget.rotation += (target.rotation <= 0) ? 180 : -180;\r\n\t\t\t\t}\r\n\t\t\t\ttarget.skewX = target.skewY = 0;\r\n\t\t\t} else {\r\n\t\t\t\ttarget.skewX = skewX/DEG_TO_RAD;\r\n\t\t\t\ttarget.skewY = skewY/DEG_TO_RAD;\r\n\t\t\t}\r\n\t\t\treturn target;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Reinitializes all matrix properties to those specified.\r\n\t\t * @method appendProperties\r\n\t\t * @param {Number} m11\r\n\t\t * @param {Number} m12\r\n\t\t * @param {Number} m21\r\n\t\t * @param {Number} m22\r\n\t\t * @param {Number} dx\r\n\t\t * @param {Number} dy\r\n\t\t * @param {Number} alpha desired alpha value\r\n\t\t * @param {Shadow} shadow desired shadow value\r\n\t\t * @param {String} compositeOperation desired composite operation value\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t*/\r\n\t\treinitialize : function(m11,m12,m21,m22,dx,dy,alpha,shadow,compositeOperation) {\r\n\t\t\tthis._initialize(m11,m12,m21,m22,dx,dy);\r\n\t\t\tthis.alpha = alpha || 1;\r\n\t\t\tthis.shadow = shadow;\r\n\t\t\tthis.compositeOperation = compositeOperation;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Appends the specified visual properties to the current matrix.\r\n\t\t * @method appendProperties\r\n\t\t * @param {Number} alpha desired alpha value\r\n\t\t * @param {Shadow} shadow desired shadow value\r\n\t\t * @param {String} compositeOperation desired composite operation value\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t*/\r\n\t\tappendProperties : function(alpha, shadow, compositeOperation) {\r\n\t\t\tthis.alpha *= alpha;\r\n\t\t\tthis.shadow = shadow || this.shadow;\r\n\t\t\tthis.compositeOperation = compositeOperation || this.compositeOperation;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Prepends the specified visual properties to the current matrix.\r\n\t\t * @method prependProperties\r\n\t\t * @param {Number} alpha desired alpha value\r\n\t\t * @param {Shadow} shadow desired shadow value\r\n\t\t * @param {String} compositeOperation desired composite operation value\r\n\t\t * @return {TransformMatrix} This matrix. Useful for chaining method calls.\r\n\t\t*/\r\n\t\tprependProperties : function(alpha, shadow, compositeOperation) {\r\n\t\t\tthis.alpha *= alpha;\r\n\t\t\tthis.shadow = this.shadow || shadow;\r\n\t\t\tthis.compositeOperation = this.compositeOperation || compositeOperation;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t *Multiply TransformMatrix by another TransformMatrix.\r\n\t\t */\r\n\t\tmultiply: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcombines matrices by multiplying them sequentially in the given order\r\n\t\t\t// matrix: TransformMatrix\r\n\t\t\t//\t\ta 2D matrix-like object,\r\n\t\t\t//\t\tall subsequent arguments are matrix-like objects too\r\n\r\n\t\t\t// combine matrices\r\n\t\t\tvar m11 = this.m11,m12 = this.m12,m21 = this.m21,m22=this.m22,dx=this.dx,dy=this.dy;\r\n\t\t\tvar r = matrix;\r\n\t\t\tthis.m11 = m11 * r.m11 + m21 * r.m12;\r\n\t\t\tthis.m12 = m12 * r.m11 + m22 * r.m12;\r\n\t\t\tthis.m21 = m11 * r.m21 + m21 * r.m22;\r\n\t\t\tthis.m22 = m12 * r.m21 + m22 * r.m22;\r\n\t\t\tthis.dx =  m11 * r.dx + m21 * r.dy + dx;\r\n\t\t\tthis.dy =  m12 * r.dx + m22 * r.dy + dy;\r\n\t\t\treturn this // TransformMatrix\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns a clone of the TransformMatrix instance.\r\n\t\t * @method clone\r\n\t\t * @return {TransformMatrix} a clone of the TransformMatrix instance.\r\n\t\t **/\r\n\t\tclone : function() {\r\n\r\n\t\t\tvar _ = this._,\r\n\t\t\t\tmtx = new TransformMatrix(_.m11, _.m12, _.m21, _.m22, _.dx, _.dy);\r\n\t\t\tmtx.shadow = this.shadow;\r\n\t\t\tmtx.alpha = this.alpha;\r\n\t\t\tmtx.compositeOperation = this.compositeOperation;\r\n\t\t\treturn mtx;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns a string representation of this object.\r\n\t\t * @method toString\r\n\t\t * @return {String} a string representation of the instance.\r\n\t\t **/\r\n\t\ttoString : function() {\r\n\t\t\tvar _ = this._;\r\n\t\t\treturn \"[TransformMatrix (m11=\"+_.m11+\" m12=\"+_.m12+\" m21=\"+_.m21+\" m22=\"+_.m22+\" dx=\"+_.dx+\" dy=\"+_.dy+\")]\";\r\n\t\t},\r\n\t\t\r\n\t\t\"_construct\" : function(m11, m12, m21, m22, dx, dy) {\r\n\t\t\tvar _ = this._ = {};\r\n\t\t\t_.m11 = m11 || 1;\r\n\t\t\t_.m12 = m12 || 0;\r\n\t\t\t_.m21 = m21 || 0;\r\n\t\t\t_.m22 = m22 || 1;\r\n\t\t\t_.dx = dx || 0;\r\n\t\t\t_.dy = dy || 0;\r\n\t\t}\r\n\r\n\t});\r\n\t\r\n\tObject.assign(TransformMatrix,{\r\n\t\ttranslate: function(a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a translation matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to translate (move) points by specified offsets.\r\n\t\t\t// a: Number\r\n\t\t\t//\t\tan x coordinate value\r\n\t\t\t// b: Number\r\n\t\t\t//\t\ta y coordinate value\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m11|m21|dx| |  1|   0| a|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m12|m22|dy| |  0|   1| b|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|  0|  0| 1| |  0|   0| 1|\r\n\t\t\t//|----------| |-----------|\r\n\r\n\t\t\treturn new TransformMatrix(1,0,0,1,a,b); // TransformMatrix\r\n\t\t},\r\n\t\tscale: function(a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a scaling matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to scale (magnify) points by specified offsets.\r\n\t\t\t// a: Number\r\n\t\t\t//\t\ta scaling factor used for the x coordinate\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta scaling factor used for the y coordinate\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m11|m21|dx| |  a|   0| 0|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m12|m22|dy| |  0|   b| 0|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|  0|  0| 1| |  0|   0| 1|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\treturn new TransformMatrix(a,0,0,b?b:a,0,0); // TransformMatrix\r\n\t\t},\r\n\t\trotate: function(angle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a rotating matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to rotate points\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified angle.\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\tan angle of rotation in radians (>0 for CW)\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m11|m21|dx| |cos|-sin| 0|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m12|m22|dy| |sin| cos| 0|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|  0|  0| 1| |  0|   0| 1|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\tvar cos = Math.cos(angle);\r\n\t\t\tvar sin = Math.sin(angle);\r\n\t\t\treturn new TransformMatrix(cos,sin,-sin,cos,0,0); // TransformMatrix\r\n\t\t},\r\n\t\trotateg: function(degree){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a rotating matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to rotate points\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified degree.\r\n\t\t\t//\t\tSeerotate() for comparison.\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\tan angle of rotation in degrees (>0 for CW)\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\treturn this.rotate(degToRad(degree)); // TransformMatrix\r\n\t\t},\r\n\t\tskewX: function(angle) {\r\n\t\t\t//TODO : will be modified\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms an x skewing matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to skew points in the x dimension\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified angle.\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\ta skewing angle in radians\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m11|m21|dx| |  1| tan| 0|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m12|m22|dy| |  0|   1| 0|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|  0|  0| 1| |  0|   0| 1|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\tvar tan = Math.tan(angle);\r\n\t\t\treturn new TransformMatrix(1,0,tan,1); // TransformMatrix\r\n\t\t},\r\n\t\tskewXg: function(degree){\r\n\t\t\t//TODO : will be modified\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms an x skewing matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to skew points in the x dimension\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified degree.\r\n\t\t\t//\t\tSee dojox/gfx/matrix.skewX() for comparison.\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\ta skewing angle in degrees\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\treturn this.skewX(degToRad(degree)); // dojox/gfx/matrix.TransformMatrix\r\n\t\t},\r\n\t\tskewY: function(angle){\r\n\t\t\t//TODO : will be modified\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a y skewing matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to skew points in the y dimension\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified angle.\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\ta skewing angle in radians\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m11|m21|dx| |  1|   0| 0|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|m12|m22|dy| |tan|   1| 0|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\t//|  0|  0| 1| |  0|   0| 1|\r\n\t\t\t//|----------| |-----------|\r\n\t\t\tvar tan = Math.tan(angle);\r\n\r\n\t\t\treturn new TransformMatrix(1,tan,0,1); // TransformMatrix\r\n\t\t},\r\n\t\tskewYg: function(degree){\r\n\t\t\t//TODO : will be modified\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a y skewing matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to skew points in the y dimension\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified degree.\r\n\t\t\t//\t\tSee skewY() for comparison.\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\ta skewing angle in degrees\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\treturn this.skewY(degToRad(degree)); // TransformMatrix\r\n\t\t},\r\n\t\treflect: function(a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a reflection matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to reflect points around a vector,\r\n\t\t\t//\t\twhich goes through the origin.\r\n\t\t\t// a: dojox/gfx.Point|Number\r\n\t\t\t//\t\ta point-like object, which specifies a vector of reflection, or an X value\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta Y value\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\tif(arguments.length == 1){\r\n\t\t\t\tb = a.y;\r\n\t\t\t\ta = a.x;\r\n\t\t\t}\r\n\t\t\t// make a unit vector\r\n\t\t\tvar a2 = a * a, b2 = b * b, n2 = a2 + b2, \r\n\t\t\t\txx=2 * a2 / n2 - 1, \r\n\t\t\t\txy = 2 * a * b / n2,\r\n\t\t\t\tyx = xy,\r\n\t\t\t\tyy = 2 * b2 / n2 - 1;\r\n\t\t\treturn new TransformMatrix(xx,yx,xy, yy); // TransformMatrix\r\n\t\t},\r\n\t\tproject: function(a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms an orthogonal projection matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to project points orthogonally on a vector,\r\n\t\t\t//\t\twhich goes through the origin.\r\n\t\t\t// a:   Number\r\n\t\t\t//\t\tan x coordinate value\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y coordinate value\r\n\t\t\t// returns: TransformMatrix\r\n\r\n\t\t\t// make a unit vector\r\n\t\t\tvar a2 = a * a, b2 = b * b, n2 = a2 + b2, \r\n\t\t\t\txx = a2 / n2,\r\n\t\t\t\txy = a * b / n2\r\n\t\t\t\tyx = xy,\r\n\t\t\t\tyy = b2 / n2;\r\n\t\t\treturn new TransformMatrix(xx,yx,xy,yy); // TransformMatrix\r\n\t\t},\r\n\r\n\t\t// common operations\r\n\r\n\t\t// high level operations\r\n\r\n\t\t_sandwich: function(matrix, x, y){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tapplies a matrix at a central point\r\n\t\t\t// matrix: TransformMatrix\r\n\t\t\t//\t\ta 2D matrix-like object, which is applied at a central point\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tan x component of the central point\r\n\t\t\t// y: Number\r\n\t\t\t//\t\ta y component of the central point\r\n\t\t\treturn this.translate(x, y).multiply(matrix)\r\n\t\t\t                           .multiply(this.translate(-x, -y)); // TransformMatrix\r\n\t\t},\r\n\t\tscaleAt: function(a, b, c, d){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tscales a picture using a specified point as a center of scaling\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with scale().\r\n\t\t\t// a: Number\r\n\t\t\t//\t\ta scaling factor used for the x coordinate, or a uniform scaling factor used for both coordinates\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta scaling factor used for the y coordinate\r\n\t\t\t// c: Number|Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// d: Number\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\tswitch(arguments.length){\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\t// a and b are scale factor components, c and d are components of a point\r\n\t\t\t\t\treturn this._sandwich(this.scale(a, b), c, d); // TransformMatrix\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tif(typeof c == \"number\"){\r\n\t\t\t\t\t\treturn this._sandwich(this.scale(a), b, c); // TransformMatrix\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this._sandwich(this.scale(a, b), c.x, c.y); // TransformMatrix\r\n\t\t\t}\r\n\t\t\treturn this._sandwich(this.scale(a), b.x, b.y); // TransformMatrix\r\n\t\t},\r\n\t\trotateAt: function(angle, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trotates a picture using a specified point as a center of rotation\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with rotate().\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\tan angle of rotation in radians (>0 for CW)\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn this._sandwich(this.rotate(angle), a, b); // TransformMatrix\r\n\t\t\t}\r\n\t\t\treturn this._sandwich(this.rotate(angle), a.x, a.y); // TransformMatrix\r\n\t\t},\r\n\t\trotategAt: function(degree, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trotates a picture using a specified point as a center of rotation\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with rotateg().\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\tan angle of rotation in degrees (>0 for CW)\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn this._sandwich(this.rotateg(degree), a, b); // TransformMatrix\r\n\t\t\t}\r\n\t\t\treturn this._sandwich(this.rotateg(degree), a.x, a.y); // TransformMatrix\r\n\t\t},\r\n\t\tskewXAt: function(angle, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tskews a picture along the x axis using a specified point as a center of skewing\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with skewX().\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\ta skewing angle in radians\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn this._sandwich(this.skewX(angle), a, b); // TransformMatrix\r\n\t\t\t}\r\n\t\t\treturn this._sandwich(this.skewX(angle), a.x, a.y); // TransformMatrix\r\n\t\t},\r\n\t\tskewXgAt: function(degree, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tskews a picture along the x axis using a specified point as a center of skewing\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with skewXg().\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\ta skewing angle in degrees\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn this._sandwich(this.skewXg(degree), a, b); // TransformMatrix\r\n\t\t\t}\r\n\t\t\treturn this._sandwich(this.skewXg(degree), a.x, a.y); // TransformMatrix\r\n\t\t},\r\n\t\tskewYAt: function(angle, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tskews a picture along the y axis using a specified point as a center of skewing\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with skewY().\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\ta skewing angle in radians\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn this._sandwich(this.skewY(angle), a, b); // TransformMatrix\r\n\t\t\t}\r\n\t\t\treturn this._sandwich(this.skewY(angle), a.x, a.y); // TransformMatrix\r\n\t\t},\r\n\t\tskewYgAt: function(/* Number */ degree, /* Number||Point */ a, /* Number? */ b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tskews a picture along the y axis using a specified point as a center of skewing\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with skewYg().\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\ta skewing angle in degrees\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: TransformMatrix\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn this._sandwich(this.skewYg(degree), a, b); // TransformMatrix\r\n\t\t\t}\r\n\t\t\treturn this._sandwich(this.skewYg(degree), a.x, a.y); // TransformMatrix\r\n\t\t}\r\n\t\r\n\t\r\n\t});\r\n\r\n\treturn numerics.TransformMatrix = TransformMatrix;\r\n});\r\n\ndefine('skylark-langx-numerics/TranslateTransform',[\r\n    \"./numerics\",\r\n    \"./Transform\",\r\n    \"./MatrixTransform\"\r\n],function(numerics,Transform,Matrix,Point,Rect) {\r\n\r\n    //|1   0   dx|\r\n    //|0   1   dy|\r\n    //|0   0    1|\r\n\r\n   var TranslateTransform =  Transform.inherit({\r\n        \"klassName\": \"TranslateTransform\",\r\n\r\n        \"value\": {\r\n            get: function() {\r\n                    return Matrix.scaleAt(this.x, this.y);\r\n            }\r\n        },\r\n\r\n        \"x\": {\r\n            get : function() {\r\n                return this._.x;\r\n            }\r\n        },\r\n\r\n        \"y\": {\r\n            get : function() {\r\n                return this._.y;\r\n            }\r\n        },\r\n\r\n        clone: /*SkewTransform*/ function() {},\r\n\r\n        transform: /*Point*/ function( /*Point*/ point) {},\r\n\r\n        transformBounds: /*Rect*/ function( /*Rect*/ rect) {},\r\n\r\n        \"init\": function( /*Number*/ x, /*Number*/ y) {\r\n            var _ = this._;\r\n\r\n            _.x = x ? x : 0;\r\n            _.y = y ? y : 0;\r\n        }\r\n    });\r\n\r\n    return numerics.TranslateTransform =TranslateTransform;\r\n});\t\r\n\ndefine('skylark-langx-numerics/Vector4',[\r\n\t\"skylark-langx-klass\",\r\n\t\"./numerics\"\r\n] ,function(klass,numerics) {\r\n\r\n\tvar Vector4 = klass({\r\n\t\t\"klassName\" : \"Vector4\",\r\n\r\n\t\tset: function ( x, y, z, w ) {\r\n\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t\tthis.z = z;\r\n\t\t\tthis.w = w;\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tsetScalar: function ( scalar ) {\r\n\r\n\t\t\tthis.x = scalar;\r\n\t\t\tthis.y = scalar;\r\n\t\t\tthis.z = scalar;\r\n\t\t\tthis.w = scalar;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetX: function ( x ) {\r\n\r\n\t\t\tthis.x = x;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetY: function ( y ) {\r\n\r\n\t\t\tthis.y = y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetZ: function ( z ) {\r\n\r\n\t\t\tthis.z = z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetW: function ( w ) {\r\n\r\n\t\t\tthis.w = w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetComponent: function ( index, value ) {\r\n\r\n\t\t\tswitch ( index ) {\r\n\r\n\t\t\t\tcase 0: this.x = value; break;\r\n\t\t\t\tcase 1: this.y = value; break;\r\n\t\t\t\tcase 2: this.z = value; break;\r\n\t\t\t\tcase 3: this.w = value; break;\r\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tgetComponent: function ( index ) {\r\n\r\n\t\t\tswitch ( index ) {\r\n\r\n\t\t\t\tcase 0: return this.x;\r\n\t\t\t\tcase 1: return this.y;\r\n\t\t\t\tcase 2: return this.z;\r\n\t\t\t\tcase 3: return this.w;\r\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( v ) {\r\n\r\n\t\t\tthis.x = v.x;\r\n\t\t\tthis.y = v.y;\r\n\t\t\tthis.z = v.z;\r\n\t\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tadd: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x += v.x;\r\n\t\t\tthis.y += v.y;\r\n\t\t\tthis.z += v.z;\r\n\t\t\tthis.w += v.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddScalar: function ( s ) {\r\n\r\n\t\t\tthis.x += s;\r\n\t\t\tthis.y += s;\r\n\t\t\tthis.z += s;\r\n\t\t\tthis.w += s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddVectors: function ( a, b ) {\r\n\r\n\t\t\tthis.x = a.x + b.x;\r\n\t\t\tthis.y = a.y + b.y;\r\n\t\t\tthis.z = a.z + b.z;\r\n\t\t\tthis.w = a.w + b.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddScaledVector: function ( v, s ) {\r\n\r\n\t\t\tthis.x += v.x * s;\r\n\t\t\tthis.y += v.y * s;\r\n\t\t\tthis.z += v.z * s;\r\n\t\t\tthis.w += v.w * s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsub: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x -= v.x;\r\n\t\t\tthis.y -= v.y;\r\n\t\t\tthis.z -= v.z;\r\n\t\t\tthis.w -= v.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsubScalar: function ( s ) {\r\n\r\n\t\t\tthis.x -= s;\r\n\t\t\tthis.y -= s;\r\n\t\t\tthis.z -= s;\r\n\t\t\tthis.w -= s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsubVectors: function ( a, b ) {\r\n\r\n\t\t\tthis.x = a.x - b.x;\r\n\t\t\tthis.y = a.y - b.y;\r\n\t\t\tthis.z = a.z - b.z;\r\n\t\t\tthis.w = a.w - b.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\t\tthis.x *= scalar;\r\n\t\t\tthis.y *= scalar;\r\n\t\t\tthis.z *= scalar;\r\n\t\t\tthis.w *= scalar;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tapplyMatrix4: function ( m ) {\r\n\r\n\t\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\r\n\t\t\tvar e = m.elements;\r\n\r\n\t\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\r\n\t\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\r\n\t\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\r\n\t\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdivideScalar: function ( scalar ) {\r\n\r\n\t\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t\t},\r\n\r\n\t\tsetAxisAngleFromQuaternion: function ( q ) {\r\n\r\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\r\n\r\n\t\t\t// q is assumed to be normalized\r\n\r\n\t\t\tthis.w = 2 * Math.acos( q.w );\r\n\r\n\t\t\tvar s = Math.sqrt( 1 - q.w * q.w );\r\n\r\n\t\t\tif ( s < 0.0001 ) {\r\n\r\n\t\t\t\tthis.x = 1;\r\n\t\t\t\tthis.y = 0;\r\n\t\t\t\tthis.z = 0;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.x = q.x / s;\r\n\t\t\t\tthis.y = q.y / s;\r\n\t\t\t\tthis.z = q.z / s;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetAxisAngleFromRotationMatrix: function ( m ) {\r\n\r\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\r\n\r\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\t\tvar angle, x, y, z,\t\t// variables for result\r\n\t\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\r\n\t\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\r\n\r\n\t\t\t\tte = m.elements,\r\n\r\n\t\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\r\n\t\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\r\n\t\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\r\n\r\n\t\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\r\n\t\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\r\n\t\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\r\n\r\n\t\t\t\t// singularity found\r\n\t\t\t\t// first check for identity matrix which must have +1 for all terms\r\n\t\t\t\t// in leading diagonal and zero in other terms\r\n\r\n\t\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\r\n\t\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\r\n\t\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\r\n\t\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\r\n\r\n\t\t\t\t\t// this singularity is identity matrix so angle = 0\r\n\r\n\t\t\t\t\tthis.set( 1, 0, 0, 0 );\r\n\r\n\t\t\t\t\treturn this; // zero angle, arbitrary axis\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// otherwise this singularity is angle = 180\r\n\r\n\t\t\t\tangle = Math.PI;\r\n\r\n\t\t\t\tvar xx = ( m11 + 1 ) / 2;\r\n\t\t\t\tvar yy = ( m22 + 1 ) / 2;\r\n\t\t\t\tvar zz = ( m33 + 1 ) / 2;\r\n\t\t\t\tvar xy = ( m12 + m21 ) / 4;\r\n\t\t\t\tvar xz = ( m13 + m31 ) / 4;\r\n\t\t\t\tvar yz = ( m23 + m32 ) / 4;\r\n\r\n\t\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\r\n\r\n\t\t\t\t\t// m11 is the largest diagonal term\r\n\r\n\t\t\t\t\tif ( xx < epsilon ) {\r\n\r\n\t\t\t\t\t\tx = 0;\r\n\t\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tx = Math.sqrt( xx );\r\n\t\t\t\t\t\ty = xy / x;\r\n\t\t\t\t\t\tz = xz / x;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( yy > zz ) {\r\n\r\n\t\t\t\t\t// m22 is the largest diagonal term\r\n\r\n\t\t\t\t\tif ( yy < epsilon ) {\r\n\r\n\t\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\t\ty = 0;\r\n\t\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ty = Math.sqrt( yy );\r\n\t\t\t\t\t\tx = xy / y;\r\n\t\t\t\t\t\tz = yz / y;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// m33 is the largest diagonal term so base result on this\r\n\r\n\t\t\t\t\tif ( zz < epsilon ) {\r\n\r\n\t\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\t\tz = 0;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tz = Math.sqrt( zz );\r\n\t\t\t\t\t\tx = xz / z;\r\n\t\t\t\t\t\ty = yz / z;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.set( x, y, z, angle );\r\n\r\n\t\t\t\treturn this; // return 180 deg rotation\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// as we have reached here there are no singularities so we can handle normally\r\n\r\n\t\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\r\n\t\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\r\n\t\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\r\n\r\n\t\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\r\n\r\n\t\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\r\n\t\t\t// caught by singularity test above, but I've left it in just in case\r\n\r\n\t\t\tthis.x = ( m32 - m23 ) / s;\r\n\t\t\tthis.y = ( m13 - m31 ) / s;\r\n\t\t\tthis.z = ( m21 - m12 ) / s;\r\n\t\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmin: function ( v ) {\r\n\r\n\t\t\tthis.x = Math.min( this.x, v.x );\r\n\t\t\tthis.y = Math.min( this.y, v.y );\r\n\t\t\tthis.z = Math.min( this.z, v.z );\r\n\t\t\tthis.w = Math.min( this.w, v.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmax: function ( v ) {\r\n\r\n\t\t\tthis.x = Math.max( this.x, v.x );\r\n\t\t\tthis.y = Math.max( this.y, v.y );\r\n\t\t\tthis.z = Math.max( this.z, v.z );\r\n\t\t\tthis.w = Math.max( this.w, v.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclamp: function ( min, max ) {\r\n\r\n\t\t\t// assumes min < max, componentwise\r\n\r\n\t\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\t\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\r\n\t\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclampScalar: function ( minVal, maxVal ) {\r\n\r\n\t\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\t\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\r\n\t\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclampLength: function ( min, max ) {\r\n\r\n\t\t\tvar length = this.length();\r\n\r\n\t\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t\t},\r\n\r\n\t\tfloor: function () {\r\n\r\n\t\t\tthis.x = Math.floor( this.x );\r\n\t\t\tthis.y = Math.floor( this.y );\r\n\t\t\tthis.z = Math.floor( this.z );\r\n\t\t\tthis.w = Math.floor( this.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tceil: function () {\r\n\r\n\t\t\tthis.x = Math.ceil( this.x );\r\n\t\t\tthis.y = Math.ceil( this.y );\r\n\t\t\tthis.z = Math.ceil( this.z );\r\n\t\t\tthis.w = Math.ceil( this.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tround: function () {\r\n\r\n\t\t\tthis.x = Math.round( this.x );\r\n\t\t\tthis.y = Math.round( this.y );\r\n\t\t\tthis.z = Math.round( this.z );\r\n\t\t\tthis.w = Math.round( this.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\troundToZero: function () {\r\n\r\n\t\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\t\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\r\n\t\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tnegate: function () {\r\n\r\n\t\t\tthis.x = - this.x;\r\n\t\t\tthis.y = - this.y;\r\n\t\t\tthis.z = - this.z;\r\n\t\t\tthis.w = - this.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdot: function ( v ) {\r\n\r\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\r\n\r\n\t\t},\r\n\r\n\t\tlengthSq: function () {\r\n\r\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\r\n\r\n\t\t},\r\n\r\n\t\tlength: function () {\r\n\r\n\t\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\r\n\r\n\t\t},\r\n\r\n\t\tmanhattanLength: function () {\r\n\r\n\t\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\r\n\r\n\t\t},\r\n\r\n\t\tnormalize: function () {\r\n\r\n\t\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t\t},\r\n\r\n\t\tsetLength: function ( length ) {\r\n\r\n\t\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t\t},\r\n\r\n\t\tlerp: function ( v, alpha ) {\r\n\r\n\t\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\t\t\tthis.z += ( v.z - this.z ) * alpha;\r\n\t\t\tthis.w += ( v.w - this.w ) * alpha;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( v ) {\r\n\r\n\t\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\r\n\r\n\t\t},\r\n\r\n\t\tfromArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tthis.x = array[ offset ];\r\n\t\t\tthis.y = array[ offset + 1 ];\r\n\t\t\tthis.z = array[ offset + 2 ];\r\n\t\t\tthis.w = array[ offset + 3 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( array === undefined ) array = [];\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tarray[ offset ] = this.x;\r\n\t\t\tarray[ offset + 1 ] = this.y;\r\n\t\t\tarray[ offset + 2 ] = this.z;\r\n\t\t\tarray[ offset + 3 ] = this.w;\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t},\r\n\r\n\t\tfromBufferAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'Vector4: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x = attribute.getX( index );\r\n\t\t\tthis.y = attribute.getY( index );\r\n\t\t\tthis.z = attribute.getZ( index );\r\n\t\t\tthis.w = attribute.getW( index );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\r\n\t\t\"_construct\" :function ( x, y, z, w ) {\r\n\r\n\t\t\tthis.x = x || 0;\r\n\t\t\tthis.y = y || 0;\r\n\t\t\tthis.z = z || 0;\r\n\t\t\tthis.w = ( w !== undefined ) ? w : 1;\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n/*\r\n\tObject.defineProperties( Vector4.prototype, {\r\n\r\n\t\t\"width\": {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this.z;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis.z = value;\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t\"height\": {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this.w;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis.w = value;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t} );\r\n*/\r\n\r\n\treturn numerics.Vector4 = Vector4 ;\r\n\r\n});\ndefine('skylark-langx-numerics/main',[\r\n\t\"./numerics\",\r\n\t\"./Euler\",\r\n\t\"./maths\",\r\n\t\"./Matrix3\",\r\n\t\"./Matrix4\",\r\n\t\"./MatrixTransform\",\r\n\t\"./Plane\",\r\n\t\"./Quaternion\",\r\n\t\"./RotateTransform\",\r\n\t\"./ScaleTransform\",\r\n\t\"./SkewTransform\",\r\n\t\"./Transform\",\r\n\t\"./TransformMatrix\",\r\n\t\"./TranslateTransform\",\r\n\t\"./Vector2\",\r\n\t\"./Vector3\",\r\n\t\"./Vector4\"\r\n],function(numerics){\r\n\treturn numerics;\r\n});\ndefine('skylark-langx-numerics', ['skylark-langx-numerics/main'], function (main) { return main; });\n\n"]}