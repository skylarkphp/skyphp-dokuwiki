{"version":3,"sources":["parse-url.js"],"names":["define","urls","parseUrl","url","props","a","document","createElement","href","addToBody","host","protocol","div","innerHTML","firstChild","setAttribute","body","appendChild","details","i","length","replace","window","location","removeChild"],"mappings":";;;;;;;AAAAA,QACI,UACD,SAAUC,GACT,aAyCA,OAAOA,EAAKC,SAxCK,SAAUC,GACvB,MAAMC,GACF,WACA,WACA,OACA,WACA,SACA,OACA,QAEJ,IAAIC,EAAIC,SAASC,cAAc,KAC/BF,EAAEG,KAAOL,EACT,MAAMM,EAAuB,KAAXJ,EAAEK,MAA8B,UAAfL,EAAEM,SACrC,IAAIC,EACAH,KACAG,EAAMN,SAASC,cAAc,QACzBM,sBAAyBV,UAC7BE,EAAIO,EAAIE,WACRF,EAAIG,aAAa,QAAS,oCAC1BT,SAASU,KAAKC,YAAYL,IAE9B,MAAMM,KACN,IAAK,IAAIC,EAAI,EAAGA,EAAIf,EAAMgB,OAAQD,IAC9BD,EAAQd,EAAMe,IAAMd,EAAED,EAAMe,IAchC,MAZyB,UAArBD,EAAQP,WACRO,EAAQR,KAAOQ,EAAQR,KAAKW,QAAQ,OAAQ,KAEvB,WAArBH,EAAQP,WACRO,EAAQR,KAAOQ,EAAQR,KAAKW,QAAQ,QAAS,KAE5CH,EAAQP,WACTO,EAAQP,SAAWW,OAAOC,SAASZ,UAEnCF,GACAH,SAASU,KAAKQ,YAAYZ,GAEvBM","file":"../parse-url.js","sourcesContent":["define([\r\n    './urls'\r\n], function (urls) {\r\n    'use strict';\r\n    const parseUrl = function (url) {\r\n        const props = [\r\n            'protocol',\r\n            'hostname',\r\n            'port',\r\n            'pathname',\r\n            'search',\r\n            'hash',\r\n            'host'\r\n        ];\r\n        let a = document.createElement('a');\r\n        a.href = url;\r\n        const addToBody = a.host === '' && a.protocol !== 'file:';\r\n        let div;\r\n        if (addToBody) {\r\n            div = document.createElement('div');\r\n            div.innerHTML = `<a href=\"${ url }\"></a>`;\r\n            a = div.firstChild;\r\n            div.setAttribute('style', 'display:none; position:absolute;');\r\n            document.body.appendChild(div);\r\n        }\r\n        const details = {};\r\n        for (let i = 0; i < props.length; i++) {\r\n            details[props[i]] = a[props[i]];\r\n        }\r\n        if (details.protocol === 'http:') {\r\n            details.host = details.host.replace(/:80$/, '');\r\n        }\r\n        if (details.protocol === 'https:') {\r\n            details.host = details.host.replace(/:443$/, '');\r\n        }\r\n        if (!details.protocol) {\r\n            details.protocol = window.location.protocol;\r\n        }\r\n        if (addToBody) {\r\n            document.body.removeChild(div);\r\n        }\r\n        return details;\r\n    };\r\n\r\n    return urls.parseUrl = parseUrl;\r\n});"]}