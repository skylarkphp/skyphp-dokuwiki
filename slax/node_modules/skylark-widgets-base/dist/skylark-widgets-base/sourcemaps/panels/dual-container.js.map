{"version":3,"sources":["panels/dual-container.js"],"names":["define","base","Panel","DualContainer","inherit","klassName","_construct","parent","prototype","call","this","skin","getSkin","_elm","style","overflow","backgroundColor","panelColor","_elmA","_elmB","resizeTab","document","createElement","position","cursor","resizeTabColor","appendChild","tabPosition","tabPositionMax","tabPositionMin","tabSize","orientation","HORIZONTAL","self","resizing","event","movementX","size","x","VERTICAL","movementY","y","updateInterface","onmousedown","$","window","on","one","off","attach","element","console","warn","attachB","attachA","setParent","updateSize","tabPositionAbs","set","top","left","width","height","log","elementA","get","elementB","panels"],"mappings":"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","file":"../../panels/dual-container.js","sourcesContent":["define([\r\n\t\"../base\",\r\n\t\"./panel\",\r\n],function( base, Panel){\r\n\t\"use strict\";\r\n\r\n\tvar DualContainer = Panel.inherit({\r\n\t\t\"klassName\" : \"DualContainer\",\r\n\r\n\t\t\"_construct\" : function (parent) {\r\n\t\t\tPanel.prototype._construct.call(this, parent);\r\n\r\n\t\t\tvar skin = this.getSkin();\r\n\r\n\t\t\tthis._elm.style.overflow = \"hidden\";\r\n\t\t\t//this._elm.style.backgroundColor = Editor.theme.panelColor;\r\n\t\t\tthis._elm.style.backgroundColor = skin.panelColor;\r\n\r\n\t\t\t//Container A\r\n\t\t\tthis._elmA = null\r\n\r\n\t\t\t//Container B\r\n\t\t\tthis._elmB = null\r\n\r\n\t\t\t//Resize tab\r\n\t\t\tthis.resizeTab = document.createElement(\"div\");\r\n\t\t\tthis.resizeTab.style.position = \"absolute\";\r\n\t\t\tthis.resizeTab.style.cursor = \"e-resize\";\r\n\r\n\r\n\t\t\t//this.resizeTab.style.backgroundColor = Editor.theme.resizeTabColor;\r\n\t\t\tthis.resizeTab.style.backgroundColor = skin.resizeTabColor;\r\n\t\t\tthis._elm.appendChild(this.resizeTab);\r\n\r\n\t\t\t//Resize Tab\r\n\t\t\tthis.tabPosition = 0.5;\r\n\t\t\tthis.tabPositionMax = 0.95;\r\n\t\t\tthis.tabPositionMin = 0.05;\r\n\t\t\tthis.tabSize = 5;\r\n\t\t\tthis.orientation = DualContainer.HORIZONTAL;\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tfunction resizing(event) {\r\n\t\t\t\tif(self.orientation === DualContainer.HORIZONTAL)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tself.tabPosition += event.movementX / self.size.x;\r\n\t\t\t\t}\r\n\t\t\t\telse if(self.orientation === DualContainer.VERTICAL)\r\n\t\t\t\t{\r\n\t\t\t\t\tself.tabPosition += event.movementY / self.size.y;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Limit tab position\r\n\t\t\t\tif(self.tabPosition > self.tabPositionMax)\r\n\t\t\t\t{\r\n\t\t\t\t\tself.tabPosition = self.tabPositionMax;\r\n\t\t\t\t}\r\n\t\t\t\telse if(self.tabPosition < self.tabPositionMin)\r\n\t\t\t\t{\r\n\t\t\t\t\tself.tabPosition = self.tabPositionMin;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.updateInterface();\r\n\r\n\t\t\t}\r\n\t\t\t//Tab mouse down\r\n\t\t\tthis.resizeTab.onmousedown = function(event)\r\n\t\t\t{\r\n\t\t\t//\tself.manager.create();\r\n\t\t\t\tself.$(window).on(\"mousemove\",resizing);\r\n\t\t\t\tself.$(window).one(\"mouseup\",function(){\r\n\t\t\t\t\tself.$(window).off(\"mousemove\",resizing);\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t//Tab resize event manager\r\n\t\t\t//this.manager = new EventManager();\r\n\r\n\t\t\t//this.listenTo(this.$(window), \"mousemove\", function(event){\r\n\t\t\t//});\r\n\r\n\t\t\t//this.connect(window, \"mouseup\", function(event)\r\n\t\t\t//{\r\n\t\t\t//\tself.manager.destroy();\r\n\t\t\t//});\r\n\t\t},\r\n\r\n\t\tattach : function(element) \t{\r\n\t\t\tif(this._elmA === null)\r\n\t\t\t{\r\n\t\t\t\tthis.attachA(element);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(this._elmB === null) {\r\n\t\t\t\tthis.attachB(element);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.warn(\"nunuStudio: Cannot attach more elements.\");\r\n\t\t},\r\n\r\n\t\tattachA : function(element) {\r\n\t\t\tthis._elmA = element;\r\n\t\t\tthis._elmA.setParent(this);\r\n\t\t},\r\n\r\n\t\tattachB : function(element) {\r\n\t\t\tthis._elmB = element;\r\n\t\t\tthis._elmB.setParent(this);\r\n\t\t},\r\n\r\n\t\tupdateSize : function() {\r\n\t\t\tPanel.prototype.updateSize.call(this);\r\n\r\n\t\t\tif(this._elmA === null || this._elmB === null) \t{\r\n\t\t\t\tconsole.log(\"nunuStudio: Dual container elements are null\", this, this._elmA, this._elmB);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.orientation === DualContainer.HORIZONTAL) {\r\n\t\t\t\tvar tabPositionAbs = this.tabPosition * this.size.x;\r\n\r\n\t\t\t\tthis._elmA.position.set(0, 0);\r\n\t\t\t\tthis._elmA.size.set(tabPositionAbs, this.size.y);\r\n\t\t\t\tthis._elmA.updateInterface();\r\n\r\n\t\t\t\tthis._elmB.size.set(this.size.x - tabPositionAbs - this.tabSize, this.size.y);\r\n\t\t\t\tthis._elmB.position.set(this._elmA.size.x + this.tabSize, 0);\r\n\t\t\t\tthis._elmB.updateInterface();\r\n\r\n\t\t\t\tthis.resizeTab.style.cursor = \"e-resize\";\r\n\t\t\t\tthis.resizeTab.style.top = \"0px\";\r\n\t\t\t\tthis.resizeTab.style.left = this._elmA.size.x + \"px\";\r\n\t\t\t\tthis.resizeTab.style.width = this.tabSize + \"px\";\r\n\t\t\t\tthis.resizeTab.style.height = this.size.y + \"px\";\r\n\t\t\t} else if(this.orientation === DualContainer.VERTICAL) \t{\r\n\t\t\t\tvar tabPositionAbs = this.tabPosition * this.size.y;\r\n\t\t\t\t\r\n\t\t\t\tthis._elmA.position.set(0, 0);\r\n\t\t\t\tthis._elmA.size.set(this.size.x, tabPositionAbs);\r\n\t\t\t\tthis._elmA.updateInterface();\r\n\t\t\t\t\r\n\t\t\t\tthis._elmB.size.set(this.size.x, this.size.y - tabPositionAbs - this.tabSize);\r\n\t\t\t\tthis._elmB.position.set(0, this._elmA.size.y + this.tabSize);\r\n\t\t\t\tthis._elmB.updateInterface();\r\n\r\n\t\t\t\tthis.resizeTab.style.cursor = \"n-resize\";\r\n\t\t\t\tthis.resizeTab.style.top = this._elmA.size.y + \"px\";\r\n\t\t\t\tthis.resizeTab.style.left = \"0px\";\r\n\t\t\t\tthis.resizeTab.style.width = this.size.x + \"px\";\r\n\t\t\t\tthis.resizeTab.style.height = this.tabSize + \"px\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\telementA : {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._elmA;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\telementB : {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._elmB;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tDualContainer.HORIZONTAL = 0;\r\n\tDualContainer.VERTICAL = 1;\r\n\r\n\r\n\treturn base.panels.DualContainer = DualContainer;\r\n});"]}