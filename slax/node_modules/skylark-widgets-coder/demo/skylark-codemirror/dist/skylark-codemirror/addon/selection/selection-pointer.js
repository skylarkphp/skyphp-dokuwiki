/**
 * skylark-codemirror - A version of codemirror 5.45  that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-codemirror/
 * @license MIT
 */
define(["../../CodeMirror"],function(e){"use strict";function t(e){e.state.selectionPointer.rects=null,o(e)}function o(e){e.state.selectionPointer.willUpdate||(e.state.selectionPointer.willUpdate=!0,setTimeout(function(){!function(e){var t=e.state.selectionPointer;if(!t)return;if(null==t.rects&&null!=t.mouseX&&(t.rects=[],e.somethingSelected()))for(var o=e.display.selectionDiv.firstChild;o;o=o.nextSibling)t.rects.push(o.getBoundingClientRect());var n=!1;if(null!=t.mouseX)for(var l=0;l<t.rects.length;l++){var i=t.rects[l];i.left<=t.mouseX&&i.right>=t.mouseX&&i.top<=t.mouseY&&i.bottom>=t.mouseY&&(n=!0)}var s=n?t.value:"";e.display.lineDiv.style.cursor!=s&&(e.display.lineDiv.style.cursor=s)}(e),e.state.selectionPointer.willUpdate=!1},50))}e.defineOption("selectionPointer",!1,function(n,l){var i=n.state.selectionPointer;i&&(e.off(n.getWrapperElement(),"mousemove",i.mousemove),e.off(n.getWrapperElement(),"mouseout",i.mouseout),e.off(window,"scroll",i.windowScroll),n.off("cursorActivity",t),n.off("scroll",t),n.state.selectionPointer=null,n.display.lineDiv.style.cursor=""),l&&(i=n.state.selectionPointer={value:"string"==typeof l?l:"default",mousemove:function(e){!function(e,t){var n=e.state.selectionPointer;(null==t.buttons?t.which:t.buttons)?n.mouseX=n.mouseY=null:(n.mouseX=t.clientX,n.mouseY=t.clientY);o(e)}(n,e)},mouseout:function(e){!function(e,t){if(!e.getWrapperElement().contains(t.relatedTarget)){var n=e.state.selectionPointer;n.mouseX=n.mouseY=null,o(e)}}(n,e)},windowScroll:function(){t(n)},rects:null,mouseX:null,mouseY:null,willUpdate:!1},e.on(n.getWrapperElement(),"mousemove",i.mousemove),e.on(n.getWrapperElement(),"mouseout",i.mouseout),e.on(window,"scroll",i.windowScroll),n.on("cursorActivity",t),n.on("scroll",t))})});
//# sourceMappingURL=../../sourcemaps/addon/selection/selection-pointer.js.map
