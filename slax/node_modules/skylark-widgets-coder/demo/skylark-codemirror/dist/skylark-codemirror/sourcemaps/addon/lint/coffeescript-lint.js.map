{"version":3,"sources":["addon/lint/coffeescript-lint.js"],"names":["define","CodeMirror","registerHelper","text","found","window","coffeelint","console","error","err","loc","res","lint","i","length","lineNumber","push","from","Pos","to","severity","level","message","e","location","first_line","last_line","last_column"],"mappings":";;;;;;;AAOAA,QAAQ,oBAAqB,SAASC,GACtC,aAEAA,EAAWC,eAAe,OAAQ,eAAgB,SAASC,GACzD,IAAIC,KACJ,IAAKC,OAAOC,WAIV,OAHID,OAAOE,SACTF,OAAOE,QAAQC,MAAM,qFAEhBJ,EAET,IAA0BK,EACpBC,EAMN,IAEE,IADA,IAAIC,EAAML,WAAWM,KAAKT,GAClBU,EAAI,EAAGA,EAAIF,EAAIG,OAAQD,IATPJ,EAUXE,EAAIE,QATbH,EAAAA,EAAMD,EAAIM,WACdX,EAAMY,MAAMC,KAAMhB,EAAWiB,IAAIR,EAAI,EAAG,GAC5BS,GAAIlB,EAAWiB,IAAIR,EAAK,GACxBU,SAAUX,EAAIY,MACdC,QAASb,EAAIa,UAOzB,MAAMC,GACNnB,EAAMY,MAAMC,KAAMhB,EAAWiB,IAAIK,EAAEC,SAASC,WAAY,GAC5CN,GAAIlB,EAAWiB,IAAIK,EAAEC,SAASE,UAAWH,EAAEC,SAASG,aACpDP,SAAU,QACVE,QAASC,EAAED,UAEzB,OAAOlB","file":"../../../addon/lint/coffeescript-lint.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Depends on coffeelint.js from http://www.coffeelint.org/js/coffeelint.js\n\n// declare global: coffeelint\n\ndefine([\"../../CodeMirror\"], function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerHelper(\"lint\", \"coffeescript\", function(text) {\n  var found = [];\n  if (!window.coffeelint) {\n    if (window.console) {\n      window.console.error(\"Error: window.coffeelint not defined, CodeMirror CoffeeScript linting cannot run.\");\n    }\n    return found;\n  }\n  var parseError = function(err) {\n    var loc = err.lineNumber;\n    found.push({from: CodeMirror.Pos(loc-1, 0),\n                to: CodeMirror.Pos(loc, 0),\n                severity: err.level,\n                message: err.message});\n  };\n  try {\n    var res = coffeelint.lint(text);\n    for(var i = 0; i < res.length; i++) {\n      parseError(res[i]);\n    }\n  } catch(e) {\n    found.push({from: CodeMirror.Pos(e.location.first_line, 0),\n                to: CodeMirror.Pos(e.location.last_line, e.location.last_column),\n                severity: 'error',\n                message: e.message});\n  }\n  return found;\n});\n\n});\n"]}