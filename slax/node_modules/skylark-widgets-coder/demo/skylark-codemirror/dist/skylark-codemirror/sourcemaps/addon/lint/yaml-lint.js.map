{"version":3,"sources":["addon/lint/yaml-lint.js"],"names":["define","CodeMirror","registerHelper","text","found","window","jsyaml","console","error","loadAll","e","loc","mark","from","Pos","line","column","to","push","message"],"mappings":";;;;;;;AAGAA,QAAQ,oBAAqB,SAASC,GACtC,aAMAA,EAAWC,eAAe,OAAQ,OAAQ,SAASC,GACjD,IAAIC,KACJ,IAAKC,OAAOC,OAIV,OAHID,OAAOE,SACTF,OAAOE,QAAQC,MAAM,yEAEhBJ,EAET,IAAME,OAAOG,QAAQN,GACrB,MAAMO,GACF,IAAIC,EAAMD,EAAEE,KAMRC,EAAOF,EAAMV,EAAWa,IAAIH,EAAII,KAAMJ,EAAIK,QAAUf,EAAWa,IAAI,EAAG,GACtEG,EAAKJ,EACTT,EAAMc,MAAOL,KAAMA,EAAMI,GAAIA,EAAIE,QAAST,EAAES,UAEhD,OAAOf","file":"../../../addon/lint/yaml-lint.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\ndefine([\"../../CodeMirror\"], function(CodeMirror) {\n\"use strict\";\n\n// Depends on js-yaml.js from https://github.com/nodeca/js-yaml\n\n// declare global: jsyaml\n\nCodeMirror.registerHelper(\"lint\", \"yaml\", function(text) {\n  var found = [];\n  if (!window.jsyaml) {\n    if (window.console) {\n      window.console.error(\"Error: window.jsyaml not defined, CodeMirror YAML linting cannot run.\");\n    }\n    return found;\n  }\n  try { jsyaml.loadAll(text); }\n  catch(e) {\n      var loc = e.mark,\n          // js-yaml YAMLException doesn't always provide an accurate lineno\n          // e.g., when there are multiple yaml docs\n          // ---\n          // ---\n          // foo:bar\n          from = loc ? CodeMirror.Pos(loc.line, loc.column) : CodeMirror.Pos(0, 0),\n          to = from;\n      found.push({ from: from, to: to, message: e.message });\n  }\n  return found;\n});\n\n});\n"]}