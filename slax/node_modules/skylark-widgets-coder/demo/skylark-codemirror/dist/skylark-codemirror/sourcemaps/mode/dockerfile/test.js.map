{"version":3,"sources":["mode/dockerfile/test.js"],"names":["mode","CodeMirror","getMode","indentUnit","MT","name","test","Array","prototype","slice","call","arguments"],"mappings":";;;;;;;CAGA,WACE,IAAIA,EAAOC,WAAWC,SAASC,WAAY,GAAI,qBAC/C,SAASC,EAAGC,GAAQC,KAAKN,KAAKK,EAAML,EAAMO,MAAMC,UAAUC,MAAMC,KAAKC,UAAW,IAEhFP,EAAG,2BACA,6BACA,mCACA,iCACA,uCACA,8FACA,uCACA,kCACA,4BACA,qBACA,+CACA,qCACA,wDAGHA,EAAG,6BACA,kBAEHA,EAAG,6BACA,6CACA,yCAEHA,EAAG,YACA,wDACA,iBACA,kBACA,wBACA,sDAEHA,EAAG,eACA,gFACA,8EACA,8CAEHA,EAAG,UACA,2DACA,wDACA,qDACA,yCAEHA,EAAG,MACA,+BACA,kCACA,wBACA,+CAEHA,EAAG,QACA,+DAEHA,EAAG,kBACA,iEACA,wDAEHA,EAAG,aACA,uDACA,8CAEHA,EAAG,MACA,oDACA,4CAEHA,EAAG,iBACA,0DAEHA,EAAG,UACA,uEACA,kJACA,0BACA,oCACA,mDACA,kBAEHA,EAAG,iBACA,wCACA,qBACA,qDACA,oDACA,iCAEHA,EAAG,2BACA,2BACA,SACA,iCACA,2BACA,8BACA,iCACA,0BACA,mBACA,yBAEHA,EAAG,6BACA,0CACA,yBAEHA,EAAG,iBACA,yEACA,MACA,yHACA,4EAEHA,EAAG,2BACA,0CACA,yBAEHA,EAAG,SACA,uBACA,6CACA,0CACA,kDACA,oGACA,iHACA,8CAEHA,EAAG,iBACA,uBACA,kEACA,2FAGA,+IA3HL","file":"../../../mode/dockerfile/test.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function() {\n  var mode = CodeMirror.getMode({indentUnit: 2}, \"text/x-dockerfile\");\n  function MT(name) { test.mode(name, mode, Array.prototype.slice.call(arguments, 1)); }\n\n  MT(\"simple_nodejs_dockerfile\",\n     \"[keyword FROM] node:carbon\",\n     \"[comment # Create app directory]\",\n     \"[keyword WORKDIR] /usr/src/app\",\n     \"[comment # Install app dependencies]\",\n     \"[comment # A wildcard is used to ensure both package.json AND package-lock.json are copied]\",\n     \"[comment # where available (npm@5+)]\",\n     \"[keyword COPY] package*.json ./\",\n     \"[keyword RUN] npm install\",\n     \"[keyword COPY] . .\",\n     \"[keyword EXPOSE] [number 8080] [number 3000]\",\n     \"[keyword ENV] NODE_ENV development\",\n     \"[keyword CMD] [[ [string \\\"npm\\\"], [string \\\"start\\\"] ]]\");\n\n  // Ideally the last space should not be highlighted.\n  MT(\"instruction_without_args_1\",\n     \"[keyword CMD] \");\n\n  MT(\"instruction_without_args_2\",\n     \"[comment # An instruction without args...]\",\n     \"[keyword ARG] [error #...is an error]\");\n\n  MT(\"multiline\",\n     \"[keyword RUN] apt-get update && apt-get install -y \\\\\",\n     \"  mercurial \\\\\",\n     \"  subversion \\\\\",\n     \"  && apt-get clean \\\\\",\n     \"  && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\");\n\n  MT(\"from_comment\",\n     \"  [keyword FROM] debian:stretch # I tend to use stable as that is more stable\",\n     \"  [keyword FROM] debian:stretch [keyword AS] stable # I am even more stable\",\n     \" [keyword FROM] [error # this is an error]\");\n\n  MT(\"from_as\",\n     \"[keyword FROM] golang:1.9.2-alpine3.6 [keyword AS] build\",\n     \"[keyword COPY] --from=build /bin/project /bin/project\",\n     \"[keyword ENTRYPOINT] [[ [string \\\"/bin/project\\\"] ]]\",\n     \"[keyword CMD] [[ [string \\\"--help\\\"] ]]\");\n\n  MT(\"arg\",\n     \"[keyword ARG] VERSION=latest\",\n     \"[keyword FROM] busybox:$VERSION\",\n     \"[keyword ARG] VERSION\",\n     \"[keyword RUN] echo $VERSION > image_version\");\n\n  MT(\"label\",\n     \"[keyword LABEL] com.example.label-with-value=[string \\\"foo\\\"]\");\n\n  MT(\"label_multiline\",\n     \"[keyword LABEL] description=[string \\\"This text illustrates ]\\\\\",\n     \"[string that label-values can span multiple lines.\\\"]\");\n\n  MT(\"maintainer\",\n     \"[keyword MAINTAINER] Foo Bar [string \\\"foo@bar.com\\\"] \",\n     \"[keyword MAINTAINER] Bar Baz <bar@baz.com>\");\n\n  MT(\"env\",\n     \"[keyword ENV] BUNDLE_PATH=[string \\\"$GEM_HOME\\\"] \\\\\",\n     \"  BUNDLE_APP_CONFIG=[string \\\"$GEM_HOME\\\"]\");\n\n  MT(\"verify_keyword\",\n     \"[keyword RUN] add-apt-repository ppa:chris-lea/node.js\");\n\n  MT(\"scripts\",\n     \"[comment # Set an entrypoint, to automatically install node modules]\",\n     \"[keyword ENTRYPOINT] [[ [string \\\"/bin/bash\\\"], [string \\\"-c\\\"], [string \\\"if [[ ! -d node_modules ]]; then npm install; fi; exec \\\\\\\"${@:0}\\\\\\\";\\\"] ]]\",\n     \"[keyword CMD] npm start\",\n     \"[keyword RUN] npm run build && \\\\\",\n     \"[comment # a comment between the shell commands]\",\n     \"  npm run test\");\n\n  MT(\"strings_single\",\n     \"[keyword FROM] buildpack-deps:stretch\",\n     \"[keyword RUN] { \\\\\",\n     \"        echo [string 'install: --no-document']; \\\\\",\n     \"        echo [string 'update: --no-document']; \\\\\",\n     \"    } >> /usr/local/etc/gemrc\");\n\n  MT(\"strings_single_multiline\",\n     \"[keyword RUN] set -ex \\\\\",\n     \"    \\\\\",\n     \"    && buildDeps=[string ' ]\\\\\",\n     \"[string        bison ]\\\\\",\n     \"[string        dpkg-dev ]\\\\\",\n     \"[string        libgdbm-dev ]\\\\\",\n     \"[string        ruby ]\\\\\",\n     \"[string    '] \\\\\",\n     \"    && apt-get update\");\n\n  MT(\"strings_single_multiline_2\",\n     \"[keyword RUN] echo [string 'say \\\\' ]\\\\\",\n     \"[string   it works'] \");\n\n  MT(\"strings_double\",\n     \"[keyword RUN] apt-get install -y --no-install-recommends $buildDeps \\\\\",\n     \" \\\\\",\n     \" && wget -O ruby.tar.xz [string \\\"https://cache.ruby-lang.org/pub/ruby/${RUBY_MAJOR%-rc}/ruby-$RUBY_VERSION.tar.xz\\\"] \\\\\",\n     \" && echo [string \\\"$RUBY_DOWNLOAD_SHA256 *ruby.tar.xz\\\"] | sha256sum -c - \");\n\n  MT(\"strings_double_multiline\",\n     \"[keyword RUN] echo [string \\\"say \\\\\\\" ]\\\\\",\n     \"[string   it works\\\"] \");\n\n  MT(\"escape\",\n     \"[comment # escape=`]\",\n     \"[keyword FROM] microsoft/windowsservercore\",\n     \"[keyword RUN] powershell.exe -Command `\",\n     \"    $ErrorActionPreference = [string 'Stop']; `\",\n     \"    wget https://www.python.org/ftp/python/3.5.1/python-3.5.1.exe -OutFile c:\\python-3.5.1.exe ; `\",\n     \"    Start-Process c:\\python-3.5.1.exe -ArgumentList [string '/quiet InstallAllUsers=1 PrependPath=1'] -Wait ; `\",\n     \"    Remove-Item c:\\python-3.5.1.exe -Force)\");\n\n  MT(\"escape_strings\",\n     \"[comment # escape=`]\",\n     \"[keyword FROM] python:3.6-windowsservercore [keyword AS] python\",\n     \"[keyword RUN] $env:PATH = [string 'C:\\\\Python;C:\\\\Python\\\\Scripts;{0}'] -f $env:PATH ; `\",\n     // It should not consider \\' as escaped.\n     // \"  Set-ItemProperty -Path [string 'HKLM:\\\\SYSTEM\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\Environment\\\\'] -Name Path -Value $env:PATH ;\");\n     \"  Set-ItemProperty -Path [string 'HKLM:\\\\SYSTEM\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\Environment\\\\' -Name Path -Value $env:PATH ;]\");\n})();\n"]}