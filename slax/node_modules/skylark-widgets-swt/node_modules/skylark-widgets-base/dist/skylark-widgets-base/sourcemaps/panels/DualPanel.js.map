{"version":3,"sources":["panels/DualPanel.js"],"names":["define","base","Panel","DualPanel","inherit","klassName","_construct","parent","prototype","call","this","skin","getSkin","_elm","style","overflow","backgroundColor","panelColor","divA","element","divB","resizeTab","document","createWidget","position","cursor","resizeTabColor","appendChild","tabPosition","tabPositionMax","tabPositionMin","tabSize","orientation","HORIZONTAL","self","connect","window","event","movementX","size","x","VERTICAL","movementY","y","updateInterface","onResize","manager","destroy","Editor","gui","setOnResize","callback","updateSize","Widget","tabPositionAbs","set","top","left","width","height","elementA","get","_elmA","elementB","_elmB","panels"],"mappings":"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","file":"../../panels/DualPanel.js","sourcesContent":["define([\r\n\t\"../base\",\r\n\t\"./Panel\"\r\n],function( base, Panel){\r\n\t\"use strict\";\r\n\r\n\r\n\tvar DualPanel = Panel.inherit({\r\n\t\t\"klassName\" : \"DualPanel\",\r\n\r\n\t\t\"_construct\" : function (parent) {\r\n\t\t\tPanel.prototype._construct.call(this, parent);\r\n\r\n\t\t\tvar skin = this.getSkin();\r\n\r\n\t\t\tthis._elm.style.overflow = \"hidden\";\r\n\t\t\t//this._elm.style.backgroundColor = Editor.theme.panelColor;\t\t\r\n\t\t\tthis._elm.style.backgroundColor = skin.panelColor;\r\n\r\n\t\t\t//Division A\r\n\t\t\tthis.divA = new Panel(this);\r\n\t\t\t//this.divA.element.style.backgroundColor = Editor.theme.panelColor;\r\n\t\t\tthis.divA.element.style.backgroundColor = skin.panelColor;\r\n\r\n\t\t\t//Division B\r\n\t\t\tthis.divB = new Panel(this);\r\n\t\t\t//this.divB.element.style.backgroundColor = Editor.theme.panelColor;\r\n\t\t\tthis.divB.element.style.backgroundColor = skin.panelColor;\r\n\t\t\t\r\n\t\t\t//Resize tab\r\n\t\t\tthis.resizeTab = document.createWidget(\"div\");\r\n\t\t\tthis.resizeTab.style.position = \"absolute\";\r\n\t\t\tthis.resizeTab.style.cursor = \"e-resize\";\r\n\t\t\t//this.resizeTab.style.backgroundColor = Editor.theme.resizeTabColor;\r\n\t\t\tthis.resizeTab.style.backgroundColor = skin.resizeTabColor;\r\n\t\t\tthis._elm.appendChild(this.resizeTab);\r\n\r\n\t\t\t//Resize Tab\r\n\t\t\tthis.tabPosition = 0.5;\r\n\t\t\tthis.tabPositionMax = 1;\r\n\t\t\tthis.tabPositionMin = 0;\r\n\t\t\tthis.tabSize = 5;\r\n\t\t\tthis.orientation = DualPanel.HORIZONTAL;\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\t//Tab mouse down\r\n\t\t\t//this.resizeTab.onmousedown = function(event){\r\n\t\t\t//\tself.manager.create();\r\n\t\t\t//};\r\n\r\n\t\t\t//Tab resize event manager\r\n\t\t\t//this.manager = new EventManager();\r\n\t\t\tthis.connect(window, \"mousemove\", function(event){\r\n\t\t\t\tif(self.orientation === DualPanel.HORIZONTAL){\t\r\n\t\t\t\t\tself.tabPosition += event.movementX / self.size.x;\r\n\t\t\t\t} else if(self.orientation === DualPanel.VERTICAL) {\r\n\t\t\t\t\tself.tabPosition += event.movementY / self.size.y;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Limit tab position\r\n\t\t\t\tif(self.tabPosition > self.tabPositionMax) {\r\n\t\t\t\t\tself.tabPosition = self.tabPositionMax;\r\n\t\t\t\t} else if(self.tabPosition < self.tabPositionMin) {\r\n\t\t\t\t\tself.tabPosition = self.tabPositionMin;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.updateInterface();\r\n\t\t\t\tself.onResize();\r\n\t\t\t});\r\n\r\n\t\t\tthis.connect(window, \"mouseup\", function(event) {\r\n\t\t\t\tself.manager.destroy();\r\n\t\t\t});\r\n\r\n\t\t\t//onResize callback\r\n\t\t\tthis.onResize = function() \t{\r\n\t\t\t\tEditor.gui.updateInterface();\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tsetOnResize : function(callback) {\r\n\t\t\tthis.onResize = callback;\r\n\t\t},\r\n\r\n\t\tupdateSize : function() {\r\n\t\t\tWidget.prototype.updateSize.call(this);\r\n\r\n\t\t\tif(this.orientation === DualPanel.HORIZONTAL) {\r\n\t\t\t\tvar tabPositionAbs = this.tabPosition * this.size.x;\r\n\t\t\t\t\r\n\t\t\t\tthis.divA.position.set(0, 0);\r\n\t\t\t\tthis.divA.size.set(tabPositionAbs, this.size.y);\r\n\t\t\t\tthis.divA.updateInterface();\r\n\r\n\t\t\t\tthis.divB.size.set(this.size.x - tabPositionAbs - this.tabSize, this.size.y);\r\n\t\t\t\tthis.divB.position.set(this.divA.size.x + this.tabSize, 0);\r\n\t\t\t\tthis.divB.updateInterface();\r\n\r\n\t\t\t\tthis.resizeTab.style.cursor = \"e-resize\";\r\n\t\t\t\tthis.resizeTab.style.top = \"0px\";\r\n\t\t\t\tthis.resizeTab.style.left = this.divA.size.x + \"px\";\r\n\t\t\t\tthis.resizeTab.style.width = this.tabSize + \"px\";\r\n\t\t\t\tthis.resizeTab.style.height = this.size.y + \"px\";\r\n\t\t\t} else if(this.orientation === DualPanel.VERTICAL) {\r\n\t\t\t\tvar tabPositionAbs = this.tabPosition * this.size.y;\r\n\r\n\t\t\t\tthis.divA.position.set(0, 0);\r\n\t\t\t\tthis.divA.size.set(this.size.x, tabPositionAbs);\r\n\t\t\t\tthis.divA.updateInterface();\r\n\r\n\t\t\t\tthis.divB.size.set(this.size.x, this.size.y - tabPositionAbs - this.tabSize);\r\n\t\t\t\tthis.divB.position.set(0, this.divA.size.y + this.tabSize);\r\n\t\t\t\tthis.divB.updateInterface();\r\n\r\n\t\t\t\tthis.resizeTab.style.cursor = \"n-resize\";\r\n\t\t\t\tthis.resizeTab.style.top = this.divA.size.y + \"px\";\r\n\t\t\t\tthis.resizeTab.style.left = \"0px\";\r\n\t\t\t\tthis.resizeTab.style.width = this.size.x + \"px\";\r\n\t\t\t\tthis.resizeTab.style.height = this.tabSize + \"px\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\telementA : {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._elmA;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\telementB : {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._elmB;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tDualPanel.HORIZONTAL = 0;\r\n\tDualPanel.VERTICAL = 1;\r\n\r\n\treturn base.panels.DualPanel = DualPanel;\r\n});\r\n"]}